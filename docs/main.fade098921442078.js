(self.webpackChunkingresoEgresoApp=self.webpackChunkingresoEgresoApp||[]).push([[179],{440:(Se,X,O)=>{"use strict";O.d(X,{nm:()=>yi});var p=O(6351);O(4650),O(5867);var Xe=O(5861),We=O(9681),Fe=O(4859),_t=O(2090),dt=O(1877);const ee=new Map,Ke={activated:!1,tokenObservers:[]},le={initialized:!1,enabled:!1};function Ae(De){return ee.get(De)||Object.assign({},Ke)}function Pe(){return le}class Xt{constructor(Te,Ne,ct,pt,Wt){if(this.operation=Te,this.retryPolicy=Ne,this.getWaitDuration=ct,this.lowerBound=pt,this.upperBound=Wt,this.pending=null,this.nextErrorWaitInterval=pt,pt>Wt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Te){var Ne=this;return(0,Xe.Z)(function*(){Ne.stop();try{Ne.pending=new _t.BH,yield function qt(De){return new Promise(Te=>{setTimeout(Te,De)})}(Ne.getNextRun(Te)),Ne.pending.resolve(),yield Ne.pending.promise,Ne.pending=new _t.BH,yield Ne.operation(),Ne.pending.resolve(),yield Ne.pending.promise,Ne.process(!0).catch(()=>{})}catch(ct){Ne.retryPolicy(ct)?Ne.process(!1).catch(()=>{}):Ne.stop()}})()}getNextRun(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ne=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ne}}}const Kt=new _t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function St(De){if(!Ae(De).activated)throw Kt.create("use-before-activation",{appName:De.name})}function Pn(De,Te){return xn.apply(this,arguments)}function xn(){return(xn=(0,Xe.Z)(function*({url:De,body:Te},Ne){var ct,pt;const Wt={"Content-Type":"application/json"},Sn=Ne.getImmediate({optional:!0});if(Sn){const Ni=yield Sn.getHeartbeatsHeader();Ni&&(Wt["X-Firebase-Client"]=Ni)}const zr={method:"POST",body:JSON.stringify(Te),headers:Wt};let ir,Pi;try{ir=yield fetch(De,zr)}catch(Ni){throw Kt.create("fetch-network-error",{originalErrorMessage:null===(ct=Ni)||void 0===ct?void 0:ct.message})}if(200!==ir.status)throw Kt.create("fetch-status-error",{httpStatus:ir.status});try{Pi=yield ir.json()}catch(Ni){throw Kt.create("fetch-parse-error",{originalErrorMessage:null===(pt=Ni)||void 0===pt?void 0:pt.message})}const Ts=Pi.ttl.match(/^([\d.]+)(s)$/);if(!Ts||!Ts[2]||isNaN(Number(Ts[1])))throw Kt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Pi.ttl}`});const qs=1e3*Number(Ts[1]),Wi=Date.now();return{token:Pi.token,expireTimeMillis:Wi+qs,issuedAtTimeMillis:Wi}})).apply(this,arguments)}function Zt(De,Te){const{projectId:Ne,appId:ct,apiKey:pt}=De.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ne}/apps/${ct}:exchangeDebugToken?key=${pt}`,body:{debug_token:Te}}}const pn="firebase-app-check-store";let Un=null;function Vn(){return Un||(Un=new Promise((De,Te)=>{var Ne;try{const ct=indexedDB.open("firebase-app-check-database",1);ct.onsuccess=pt=>{De(pt.target.result)},ct.onerror=pt=>{var Wt;Te(Kt.create("storage-open",{originalErrorMessage:null===(Wt=pt.target.error)||void 0===Wt?void 0:Wt.message}))},ct.onupgradeneeded=pt=>{0===pt.oldVersion&&pt.target.result.createObjectStore(pn,{keyPath:"compositeKey"})}}catch(ct){Te(Kt.create("storage-open",{originalErrorMessage:null===(Ne=ct)||void 0===Ne?void 0:Ne.message}))}}),Un)}function kn(){return(kn=(0,Xe.Z)(function*(De,Te){const ct=(yield Vn()).transaction(pn,"readwrite"),Wt=ct.objectStore(pn).put({compositeKey:De,value:Te});return new Promise((Sn,zr)=>{Wt.onsuccess=ir=>{Sn()},ct.onerror=ir=>{var Pi;zr(Kt.create("storage-set",{originalErrorMessage:null===(Pi=ir.target.error)||void 0===Pi?void 0:Pi.message}))}})})).apply(this,arguments)}const pr=new dt.Yd("@firebase/app-check");function vn(De,Te){return(0,_t.hl)()?function Qr(De,Te){return function bn(De,Te){return kn.apply(this,arguments)}(function Wn(De){return`${De.options.appId}-${De.name}`}(De),Te)}(De,Te).catch(Ne=>{pr.warn(`Failed to write token to IndexedDB. Error: ${Ne}`)}):Promise.resolve()}function ni(){return Pe().enabled}function qn(){return gr.apply(this,arguments)}function gr(){return(gr=(0,Xe.Z)(function*(){const De=Pe();if(De.enabled&&De.token)return De.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jt={error:"UNKNOWN_ERROR"};function mt(De){return _t.US.encodeString(JSON.stringify(De),!1)}function kt(De){return ln.apply(this,arguments)}function ln(){return(ln=(0,Xe.Z)(function*(De,Te=!1){const Ne=De.app;St(Ne);const ct=Ae(Ne);let Wt,pt=ct.token;if(pt&&!ot(pt)&&(ct.token=void 0,pt=void 0),!pt){const ir=yield ct.cachedTokenPromise;ir&&(ot(ir)?pt=ir:yield vn(Ne,void 0))}if(!Te&&pt&&ot(pt))return{token:pt.token};let zr,Sn=!1;if(ni()){ct.exchangeTokenPromise||(ct.exchangeTokenPromise=Pn(Zt(Ne,yield qn()),De.heartbeatServiceProvider).finally(()=>{ct.exchangeTokenPromise=void 0}),Sn=!0);const ir=yield ct.exchangeTokenPromise;return yield vn(Ne,ir),ct.token=ir,{token:ir.token}}try{ct.exchangeTokenPromise||(ct.exchangeTokenPromise=ct.provider.getToken().finally(()=>{ct.exchangeTokenPromise=void 0}),Sn=!0),pt=yield Ae(Ne).exchangeTokenPromise}catch(ir){"appCheck/throttled"===ir.code?pr.warn(ir.message):pr.error(ir),Wt=ir}return pt?Wt?zr=ot(pt)?{token:pt.token,internalError:Wt}:ke(Wt):(zr={token:pt.token},ct.token=pt,yield vn(Ne,pt)):zr=ke(Wt),Sn&&Ce(Ne,zr),zr})).apply(this,arguments)}function gn(De,Te){const Ne=Ae(De),ct=Ne.tokenObservers.filter(pt=>pt.next!==Te);0===ct.length&&Ne.tokenRefresher&&Ne.tokenRefresher.isRunning()&&Ne.tokenRefresher.stop(),Ne.tokenObservers=ct}function Ie(De){const{app:Te}=De,Ne=Ae(Te);let ct=Ne.tokenRefresher;ct||(ct=function ye(De){const{app:Te}=De;return new Xt((0,Xe.Z)(function*(){let ct;if(ct=Ae(Te).token?yield kt(De,!0):yield kt(De),ct.error)throw ct.error;if(ct.internalError)throw ct.internalError}),()=>!0,()=>{const Ne=Ae(Te);if(Ne.token){let ct=Ne.token.issuedAtTimeMillis+.5*(Ne.token.expireTimeMillis-Ne.token.issuedAtTimeMillis)+3e5;return ct=Math.min(ct,Ne.token.expireTimeMillis-3e5),Math.max(0,ct-Date.now())}return 0},3e4,96e4)}(De),Ne.tokenRefresher=ct),!ct.isRunning()&&Ne.isTokenAutoRefreshEnabled&&ct.start()}function Ce(De,Te){const Ne=Ae(De).tokenObservers;for(const ct of Ne)try{"EXTERNAL"===ct.type&&null!=Te.error?ct.error(Te.error):ct.next(Te)}catch{}}function ot(De){return De.expireTimeMillis-Date.now()>0}function ke(De){return{token:mt(jt),error:De}}class Nt{constructor(Te,Ne){this.app=Te,this.heartbeatServiceProvider=Ne}_delete(){const{tokenObservers:Te}=Ae(this.app);for(const Ne of Te)gn(this.app,Ne.next);return Promise.resolve()}}const os="app-check-internal";!function ii(){(0,We._registerComponent)(new Fe.wA("app-check",De=>function nn(De,Te){return new Nt(De,Te)}(De.getProvider("app").getImmediate(),De.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((De,Te,Ne)=>{De.getProvider(os).initialize()})),(0,We._registerComponent)(new Fe.wA(os,De=>function Ln(De){return{getToken:Te=>kt(De,Te),addTokenListener:Te=>function un(De,Te,Ne,ct){const{app:pt}=De,Wt=Ae(pt);if(Wt.tokenObservers=[...Wt.tokenObservers,{next:Ne,error:ct,type:Te}],Wt.token&&ot(Wt.token)){const zr=Wt.token;Promise.resolve().then(()=>{Ne({token:zr.token}),Ie(De)}).catch(()=>{})}Wt.cachedTokenPromise.then(()=>Ie(De))}(De,"INTERNAL",Te),removeTokenListener:Te=>gn(De.app,Te)}}(De.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,We.registerVersion)("@firebase/app-check","0.5.17")}();class yi{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},1041:(Se,X,O)=>{"use strict";O.d(X,{zQ:()=>Pe,ww:()=>yt,rT:()=>Ke,f7:()=>Ae,L6:()=>dt,_Q:()=>ee,lh:()=>le,Qv:()=>_t,nw:()=>xe});var p=O(4650),S=O(7579),j=O(9646),ge=O(9751),re=O(8996),_e=O(6451),de=O(5363),he=O(3900),pe=O(4004),te=O(4707),ne=O(3099);function ie(st,Ot,Jt){let on,gt=!1;return st&&"object"==typeof st?({bufferSize:on=1/0,windowTime:Ot=1/0,refCount:gt=!1,scheduler:Jt}=st):on=st??1/0,(0,ne.B)({connector:()=>new te.t(on,Ot,Jt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:gt})}var je=O(590),He=O(576);function Le(st,Ot){return(0,He.m)(Ot)?(0,he.w)(()=>st,Ot):(0,he.w)(()=>st)}var lt=O(9468),Be=O(9300),Re=O(6351),ve=O(2011),Et=O(6895),Xe=O(440),We=O(127);const _t=new p.OlP("angularfire2.auth.use-emulator"),dt=new p.OlP("angularfire2.auth.settings"),ee=new p.OlP("angularfire2.auth.tenant-id"),Ke=new p.OlP("angularfire2.auth.langugage-code"),le=new p.OlP("angularfire2.auth.use-device-language"),Ae=new p.OlP("angularfire.auth.persistence"),xe=(st,Ot,Jt,on,gt,Xt,qt,mn)=>(0,ve.cc)(`${st.name}.auth`,"AngularFireAuth",st.name,()=>{const Kt=Ot.runOutsideAngular(()=>st.auth());if(Jt&&Kt.useEmulator(...Jt),on&&(Kt.tenantId=on),Kt.languageCode=gt,Xt&&Kt.useDeviceLanguage(),qt)for(const[ht,St]of Object.entries(qt))Kt.settings[ht]=St;return mn&&Kt.setPersistence(mn),Kt},[Jt,on,gt,Xt,qt,mn]);let Pe=(()=>{class st{constructor(Jt,on,gt,Xt,qt,mn,Kt,ht,St,Pt,Gt,Pn){const xn=new S.x,nr=(0,j.of)(void 0).pipe((0,de.Q)(qt.outsideAngular),(0,he.w)(()=>Xt.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,1277)))),(0,pe.U)(()=>(0,ve.on)(Jt,Xt,on)),(0,pe.U)(fn=>xe(fn,Xt,mn,ht,St,Pt,Kt,Gt)),ie({bufferSize:1,refCount:!1}));if((0,Et.PM)(gt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,j.of)(null);else{nr.pipe((0,je.P)()).subscribe();const Zt=nr.pipe((0,he.w)(pn=>pn.getRedirectResult().then(It=>It,()=>null)),Re.iC,ie({bufferSize:1,refCount:!1})),Rn=nr.pipe((0,he.w)(pn=>new ge.y(It=>({unsubscribe:Xt.runOutsideAngular(()=>pn.onAuthStateChanged(Un=>It.next(Un),Un=>It.error(Un),()=>It.complete()))})))),sr=nr.pipe((0,he.w)(pn=>new ge.y(It=>({unsubscribe:Xt.runOutsideAngular(()=>pn.onIdTokenChanged(Un=>It.next(Un),Un=>It.error(Un),()=>It.complete()))}))));this.authState=Zt.pipe(Le(Rn),(0,lt.R)(qt.outsideAngular),(0,de.Q)(qt.insideAngular)),this.user=Zt.pipe(Le(sr),(0,lt.R)(qt.outsideAngular),(0,de.Q)(qt.insideAngular)),this.idToken=this.user.pipe((0,he.w)(pn=>pn?(0,re.D)(pn.getIdToken()):(0,j.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(pn=>pn?(0,re.D)(pn.getIdTokenResult()):(0,j.of)(null))),this.credential=(0,_e.T)(Zt,xn,this.authState.pipe((0,Be.h)(pn=>!pn))).pipe((0,pe.U)(pn=>pn?.user?pn:null),(0,lt.R)(qt.outsideAngular),(0,de.Q)(qt.insideAngular))}return(0,ve.pX)(this,nr,Xt,{spy:{apply:(fn,Zt,Rn)=>{(fn.startsWith("signIn")||fn.startsWith("createUser"))&&Rn.then(sr=>xn.next(sr))}}})}}return st.\u0275fac=function(Jt){return new(Jt||st)(p.LFG(ve.Dh),p.LFG(ve.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Re.HU),p.LFG(_t,8),p.LFG(dt,8),p.LFG(ee,8),p.LFG(Ke,8),p.LFG(le,8),p.LFG(Ae,8),p.LFG(Xe.nm,8))},st.\u0275prov=p.Yz7({token:st,factory:st.\u0275fac,providedIn:"any"}),st})(),yt=(()=>{class st{constructor(){We.Z.registerVersion("angularfire",Re.q4.full,"auth-compat")}}return st.\u0275fac=function(Jt){return new(Jt||st)},st.\u0275mod=p.oAB({type:st}),st.\u0275inj=p.cJS({providers:[Pe]}),st})()},7407:(Se,X,O)=>{"use strict";O.d(X,{ST:()=>ys,yb:()=>aw});var p=O(4650),S=O(4986),j=O(9751),ge=O(8996),re=O(9646),_e=O(6351),de=O(8675),he=O(4482),pe=O(5403);function te(){return(0,he.e)((i,e)=>{let t,o=!1;i.subscribe((0,pe.x)(e,u=>{const d=t;t=u,o&&e.next([d,u]),o=!0}))})}var ee,ne=O(4004),ie=O(5026),je=O(1884),He=O(9300),Le=O(2011),lt=O(6895),Re=(O(1277),O(3942)),ve=O(5861),Et=O(9681),Xe=O(4859),We=O(1877),Fe=O(2090),_t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dt={},Ke=Ke||{},le=_t||self;function Ae(){}function xe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Pe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var st="closure_uid_"+(1e9*Math.random()>>>0),Ot=0;function Jt(i,e,t){return i.call.apply(i.bind,arguments)}function on(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function gt(i,e,t){return(gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jt:on).apply(null,arguments)}function Xt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function qt(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,d){for(var g=Array(arguments.length-2),b=2;b<arguments.length;b++)g[b-2]=arguments[b];return e.prototype[u].apply(o,g)}}function mn(){this.s=this.s,this.o=this.o}mn.prototype.s=!1,mn.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function yt(i){Object.prototype.hasOwnProperty.call(i,st)&&i[st]||(i[st]=++Ot)}(this)},mn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ht=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function St(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Pt(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(xe(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let g=0;g<d;g++)i[u+g]=o[g]}else i.push(o)}}function Gt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var Pn=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{le.addEventListener("test",Ae,e),le.removeEventListener("test",Ae,e)}catch{}return i}();function xn(i){return/^[\s\xa0]*$/.test(i)}var nr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function fn(i,e){return i<e?-1:i>e?1:0}function Zt(){var i=le.navigator;return i&&(i=i.userAgent)?i:""}function Rn(i){return-1!=Zt().indexOf(i)}function sr(i){return sr[" "](i),i}sr[" "]=Ae;var bn,i,It=Rn("Opera"),Un=Rn("Trident")||Rn("MSIE"),Vn=Rn("Edge"),Cn=Vn||Un,Qr=Rn("Gecko")&&!(-1!=Zt().toLowerCase().indexOf("webkit")&&!Rn("Edge"))&&!(Rn("Trident")||Rn("MSIE"))&&!Rn("Edge"),ti=-1!=Zt().toLowerCase().indexOf("webkit")&&!Rn("Edge");function Cr(){var i=le.document;return i?i.documentMode:void 0}e:{var kn="",tn=(i=Zt(),Qr?/rv:([^\);]+)(\)|;)/.exec(i):Vn?/Edge\/([\d\.]+)/.exec(i):Un?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ti?/WebKit\/(\S+)/.exec(i):It?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(tn&&(kn=tn?tn[1]:""),Un){var Dt=Cr();if(null!=Dt&&Dt>parseFloat(kn)){bn=String(Dt);break e}}bn=kn}var Wn={};var vn=le.document&&Un&&(Cr()||parseInt(bn,10))||void 0;function Tr(i,e){if(Gt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Qr){e:{try{sr(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Hn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Tr.X.h.call(this)}}qt(Tr,Gt);var Hn={2:"touch",3:"pen",4:"mouse"};Tr.prototype.h=function(){Tr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ni="closure_listenable_"+(1e6*Math.random()|0),qn=0;function gr(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++qn,this.ba=this.ea=!1}function cn(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function jt(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function mt(i){const e={};for(const t in i)e[t]=i[t];return e}const kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ln(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let d=0;d<kt.length;d++)t=kt[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function un(i){this.src=i,this.g={},this.h=0}function gn(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=ht(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(cn(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ie(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==o)return u}return-1}un.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=Ie(i,e,o,u);return-1<g?(e=i[g],t||(e.ea=!1)):((e=new gr(e,this.src,d,!!o,u)).ea=t,i.push(e)),e};var ye="closure_lm_"+(1e6*Math.random()|0),Ce={};function ot(i,e,t,o,u){if(o&&o.once)return nn(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)ot(i,e[d],t,o,u);return null}return t=$e(t),i&&i[ni]?i.N(e,t,Pe(o)?!!o.capture:!!o,u):ke(i,e,t,!1,o,u)}function ke(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var g=Pe(u)?!!u.capture:!!u,b=oe(i);if(b||(i[ye]=b=new un(i)),(t=b.add(e,t,o,g,d)).proxy)return t;if(o=function Nt(){const e=we;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Pn||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Bn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function nn(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)nn(i,e[d],t,o,u);return null}return t=$e(t),i&&i[ni]?i.O(e,t,Pe(o)?!!o.capture:!!o,u):ke(i,e,t,!0,o,u)}function Ln(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)Ln(i,e[d],t,o,u);else o=Pe(o)?!!o.capture:!!o,t=$e(t),i&&i[ni]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ie(d=i.g[e],t,o,u))&&(cn(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=oe(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ie(e,t,o,u)),(t=-1<i?e[i]:null)&&Jn(t))}function Jn(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[ni])gn(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Bn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=oe(e))?(gn(t,i),0==t.h&&(t.src=null,e[ye]=null)):cn(i)}}}function Bn(i){return i in Ce?Ce[i]:Ce[i]="on"+i}function we(i,e){if(i.ba)i=!0;else{e=new Tr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Jn(i),i=t.call(o,e)}return i}function oe(i){return(i=i[ye])instanceof un?i:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(i){return"function"==typeof i?i:(i[se]||(i[se]=function(e){return i.handleEvent(e)}),i[se])}function et(){mn.call(this),this.i=new un(this),this.P=this,this.I=null}function Rt(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Gt(e,i);else if(e instanceof Gt)e.target=e.target||i;else{var u=e;ln(e=new Gt(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var g=e.g=t[d];u=yn(g,o,!0,e)&&u}if(u=yn(g=e.g=i,o,!0,e)&&u,u=yn(g,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=yn(g=e.g=t[d],o,!1,e)&&u}function yn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ba&&g.capture==t){var b=g.listener,V=g.ha||g.src;g.ea&&gn(i.i,g),u=!1!==b.call(V,o)&&u}}return u&&!o.defaultPrevented}qt(et,mn),et.prototype[ni]=!0,et.prototype.removeEventListener=function(i,e,t,o){Ln(this,i,e,t,o)},et.prototype.M=function(){if(et.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)cn(t[o]);delete i.g[e],i.h--}}this.I=null},et.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},et.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var wn=le.JSON.stringify;function jn(){var i=Oi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var mi,En=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new mr,i=>i.reset());class mr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Vr(i){le.setTimeout(()=>{throw i},0)}function Hi(i,e){mi||function Mr(){var i=le.Promise.resolve(void 0);mi=function(){i.then(Ar)}}(),Mi||(mi(),Mi=!0),Oi.add(i,e)}var Mi=!1,Oi=new class ci{constructor(){this.h=this.g=null}add(e,t){const o=En.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Ar(){for(var i;i=jn();){try{i.h.call(i.g)}catch(t){Vr(t)}var e=En;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Mi=!1}function Er(i,e){et.call(this),this.h=i||1,this.g=e||le,this.j=gt(this.lb,this),this.l=Date.now()}function di(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Xn(i,e,t){if("function"==typeof i)t&&(i=gt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=gt(i.handleEvent,i)}return 2147483647<Number(e)?-1:le.setTimeout(i,e||0)}function Rs(i){i.g=Xn(()=>{i.g=null,i.i&&(i.i=!1,Rs(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}qt(Er,et),(ee=Er.prototype).ca=!1,ee.R=null,ee.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Rt(this,"tick"),this.ca&&(di(this),this.start()))}},ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ee.M=function(){Er.X.M.call(this),di(this),delete this.g};class os extends mn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Rs(this)}M(){super.M(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(i){mn.call(this),this.h=i,this.g={}}qt(ii,mn);var Gi=[];function hi(i,e,t,o){Array.isArray(t)||(t&&(Gi[0]=t.toString()),t=Gi);for(var u=0;u<t.length;u++){var d=ot(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function yi(i){jt(i.g,function(e,t){this.g.hasOwnProperty(t)&&Jn(e)},i),i.g={}}function bi(){this.g=!0}function yr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Cs(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return wn(t)}catch{return e}}(i,t)+(o?" "+o:"")})}ii.prototype.M=function(){ii.X.M.call(this),yi(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bi.prototype.Aa=function(){this.g=!1},bi.prototype.info=function(){};var Rr={},Ps=null;function vr(){return Ps=Ps||new et}function fe(i){Gt.call(this,Rr.Pa,i)}function ze(i){const e=vr();Rt(e,new fe(e))}function Ue(i,e){Gt.call(this,Rr.STAT_EVENT,i),this.stat=e}function Qe(i){const e=vr();Rt(e,new Ue(e,i))}function Lt(i,e){Gt.call(this,Rr.Qa,i),this.size=e}function Ct(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){i()},e)}Rr.Pa="serverreachability",qt(fe,Gt),Rr.STAT_EVENT="statevent",qt(Ue,Gt),Rr.Qa="timingevent",qt(Lt,Gt);var De={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Te={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ne(){}function pt(){}Ne.prototype.h=null;var ir,Wt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Sn(){Gt.call(this,"d")}function zr(){Gt.call(this,"c")}function Pi(){}function Ts(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new ii(this),this.O=Wi,this.T=new Er(i=Cn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new qs}function qs(){this.i=null,this.g="",this.h=!1}qt(Sn,Gt),qt(zr,Gt),qt(Pi,Ne),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},ir=new Pi;var Wi=45e3,Ni={},_i={};function as(i,e,t){i.K=1,i.v=fi(Ji(e)),i.s=t,i.P=!0,Zs(i,null)}function Zs(i,e){i.F=Date.now(),si(i),i.A=Ji(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),co(t.i,"t",o),i.C=0,t=i.l.H,i.h=new qs,i.g=Ms(i.l,t?e:null,!i.s),0<i.N&&(i.L=new os(gt(i.La,i,i.g),i.N)),hi(i.S,i.g,"readystatechange",i.ib),e=i.H?mt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ze(),function Or(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var g="",b=d.split("&"),V=0;V<b.length;V++){var H=b[V].split("=");if(1<H.length){var J=H[0];H=H[1];var be=J.split("_");g=2<=be.length&&"type"==be[1]?g+(J+"=")+H+"&":g+(J+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Zi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function zi(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Di(i,t),u==_i){4==e&&(i.o=4,Qe(14),o=!1),yr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ni){i.o=4,Qe(15),yr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}yr(i.j,i.m,u,null),us(i,u)}Zi(i)&&u!=_i&&u!=Ni&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Qe(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),hr(e),e.K=!0,Qe(11))):(yr(i.j,i.m,t,"[Invalid Chunked Response]"),_s(i),As(i))}function Di(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?_i:(t=Number(e.substring(t,o)),isNaN(t)?Ni:(o+=1)+t>e.length?_i:(e=e.substr(o,t),i.C=o+t,e))}function si(i){i.V=Date.now()+i.O,uo(i,i.O)}function uo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ct(gt(i.gb,i),e)}function Yi(i){i.B&&(le.clearTimeout(i.B),i.B=null)}function As(i){0==i.l.G||i.I||ai(i.l,i)}function _s(i){Yi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,di(i.T),yi(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function us(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||vt(t.h,i)))if(!i.J&&vt(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Kn(t),T(t)}rr(t),Qe(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ct(gt(t.cb,t),6e3));if(1>=po(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else _r(t,11)}else if((i.J||t.g==i)&&Kn(t),!xn(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(t.T=H[0],H=H[1],2==t.G)if("c"==H[0]){t.I=H[1],t.ka=H[2];const J=H[3];null!=J&&(t.ma=J,t.j.info("VER="+t.ma));const be=H[4];null!=be&&(t.Ca=be,t.j.info("SVER="+t.Ca));const Ze=H[5];null!=Ze&&"number"==typeof Ze&&0<Ze&&(t.J=o=1.5*Ze,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const ft=i.g;if(ft){const bt=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bt){var d=o.h;d.g||-1==bt.indexOf("spdy")&&-1==bt.indexOf("quic")&&-1==bt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(zn(d,d.h),d.h=null))}if(o.D){const en=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;en&&(o.za=en,Pr(o.F,o.D,en))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var g=i;if((o=t).sa=ws(o,o.H?o.ka:null,o.V),g.J){Xs(o.h,g);var b=g,V=o.J;V&&b.setTimeout(V),b.B&&(Yi(b),si(b)),o.g=g}else rn(o);0<t.i.length&&P(t)}else"stop"!=H[0]&&"close"!=H[0]||_r(t,7);else 3==t.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?_r(t,7):So(t):"noop"!=H[0]&&t.l&&t.l.wa(H),t.A=0)}ze()}catch{}}function ki(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(xe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Ci(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(xe(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Qi(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(xe(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}(ee=Ts.prototype).setTimeout=function(i){this.O=i},ee.ib=function(i){i=i.target;const e=this.L;e&&3==ps(i)?e.l():this.La(i)},ee.La=function(i){try{if(i==this.g)e:{const J=ps(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>J)&&(3!=J||Cn||this.g&&(this.h.h||this.g.fa()||Fo(this.g)))){this.I||4!=J||7==e||ze(),Yi(this);var t=this.g.aa();this.Y=t;t:if(Zi(this)){var o=Fo(this.g);i="";var u=o.length,d=4==ps(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_s(this),As(this);var g="";break t}this.h.i=new le.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==t,function Ri(i,e,t,o,u,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.U,J,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var b,V=this.g;if((b=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xn(b)){var H=b;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Qe(12),_s(this),As(this);break e}yr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,us(this,t)}this.P?(zi(this,J,g),Cn&&this.i&&3==J&&(hi(this.S,this.T,"tick",this.hb),this.T.start())):(yr(this.j,this.m,g,null),us(this,g)),4==J&&_s(this),this.i&&!this.I&&(4==J?ai(this.l,this):(this.i=!1,si(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,Qe(12)):(this.o=0,Qe(13)),_s(this),As(this)}}}catch{}},ee.hb=function(){if(this.g){var i=ps(this.g),e=this.g.fa();this.C<e.length&&(Yi(this),zi(this,i,e),this.i&&4!=i&&si(this))}},ee.cancel=function(){this.I=!0,_s(this)},ee.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Jr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ze(),Qe(17)),_s(this),this.o=2,As(this)):uo(this,this.V-i)};var Ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xr(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Xr){this.h=void 0!==e?e:i.h,vs(this,i.j),this.s=i.s,this.g=i.g,Ur(this,i.m),this.l=i.l,e=i.i;var t=new vi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ns(this,t),this.o=i.o}else i&&(t=String(i).match(Ki))?(this.h=!!e,vs(this,t[1]||"",!0),this.s=Nr(t[2]||""),this.g=Nr(t[3]||"",!0),Ur(this,t[4]),this.l=Nr(t[5]||"",!0),Ns(this,t[6]||"",!0),this.o=Nr(t[7]||"")):(this.h=!!e,this.i=new vi(null,this.h))}function Ji(i){return new Xr(i)}function vs(i,e,t){i.j=t?Nr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ur(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ns(i,e,t){e instanceof vi?(i.i=e,function Co(i,e){e&&!i.j&&(ls(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Hr(this,o),co(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=oi(e,Ls)),i.i=new vi(e,i.h))}function Pr(i,e,t){i.i.set(e,t)}function fi(i){return Pr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Nr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function oi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ks),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ks(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Xr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(oi(e,cs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(oi(e,cs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(oi(t,"/"==t.charAt(0)?Ys:or,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",oi(t,Lo)),i.join("")};var cs=/[#\/\?@]/g,or=/[#\?:]/g,Ys=/[#\?]/g,Ls=/[#\?@]/g,Lo=/#/g;function vi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ls(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ko(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Hr(i,e){ls(i),e=Xi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function In(i,e){return ls(i),e=Xi(i,e),i.g.has(e)}function co(i,e,t){Hr(i,e),0<t.length&&(i.i=null,i.g.set(Xi(i,e),St(t)),i.h+=t.length)}function Xi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ti(i){this.l=i||ds,i=le.PerformanceNavigationTiming?0<(i=le.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(le.g&&le.g.Ga&&le.g.Ga()&&le.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ee=vi.prototype).add=function(i,e){ls(this),this.i=null,i=Xi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ee.forEach=function(i,e){ls(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},ee.oa=function(){ls(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)t.push(e[o])}return t},ee.W=function(i){ls(this);let e=[];if("string"==typeof i)In(this,i)&&(e=e.concat(this.g.get(Xi(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ee.set=function(i,e){return ls(this),this.i=null,In(this,i=Xi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ee.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const d=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var u=d;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var ds=10;function Js(i){return!!i.h||!!i.g&&i.g.size>=i.j}function po(i){return i.h?1:i.g?i.g.size:0}function vt(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function zn(i,e){i.g?i.g.add(e):i.h=e}function Xs(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Fs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return St(i.i)}function kr(){}function Vs(){this.g=new kr}function Ss(i,e,t){const o=t||"";try{ki(i,function(u,d){let g=u;Pe(u)&&(g=wn(u)),e.push(o+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function xs(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function es(i){this.l=i.ac||null,this.j=i.jb||!1}function hs(i,e){et.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=go,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ti.prototype.cancel=function(){if(this.i=Fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},kr.prototype.stringify=function(i){return le.JSON.stringify(i,void 0)},kr.prototype.parse=function(i){return le.JSON.parse(i,void 0)},qt(es,Ne),es.prototype.g=function(){return new hs(this.l,this.j)},es.prototype.i=function(i){return function(){return i}}({}),qt(hs,et);var go=0;function F(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function N(i){i.readyState=4,i.l=null,i.j=null,i.A=null,A(i)}function A(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ee=hs.prototype).open=function(i,e){if(this.readyState!=go)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,A(this)},ee.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||le).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,N(this)),this.readyState=go},ee.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,A(this)),this.g&&(this.readyState=3,A(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;F(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},ee.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?N(this):A(this),3==this.readyState&&F(this)}},ee.Va=function(i){this.g&&(this.response=this.responseText=i,N(this))},ee.Ua=function(i){this.g&&(this.response=i,N(this))},ee.ga=function(){this.g&&N(this)},ee.setRequestHeader=function(i,e){this.v.append(i,e)},ee.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ee.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var q=le.JSON.parse;function Ge(i){et.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zt,this.K=this.L=!1}qt(Ge,et);var zt="",dr=/^https?$/i,ts=["POST","PUT"];function fs(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Us(i),Bs(i)}function Us(i){i.D||(i.D=!0,Rt(i,"complete"),Rt(i,"error"))}function eo(i){if(i.h&&typeof Ke<"u"&&(!i.C[1]||4!=ps(i)||2!=i.aa()))if(i.v&&4==ps(i))Xn(i.Ha,0,i);else if(Rt(i,"readystatechange"),4==ps(i)){i.h=!1;try{const b=i.aa();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===b){var u=String(i.H).match(Ki)[1]||null;if(!u&&le.self&&le.self.location){var d=le.self.location.protocol;u=d.substr(0,d.length-1)}o=!dr.test(u?u.toLowerCase():"")}t=o}if(t)Rt(i,"complete"),Rt(i,"success");else{i.m=6;try{var g=2<ps(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.aa()+"]",Us(i)}}finally{Bs(i)}}}function Bs(i,e){if(i.g){qo(i);const t=i.g,o=i.C[0]?Ae:null;i.g=null,i.C=null,e||Rt(i,"ready");try{t.onreadystatechange=o}catch{}}}function qo(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(le.clearTimeout(i.A),i.A=null)}function ps(i){return i.g?i.g.readyState:0}function Fo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case zt:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function To(i){let e="";return jt(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Ao(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=To(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Pr(i,e,t))}function mo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Vo(i){this.Ca=0,this.i=[],this.j=new bi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=mo("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=mo("baseRetryDelayMs",5e3,i),this.bb=mo("retryDelaySeedMs",1e4,i),this.$a=mo("forwardChannelMaxRetries",2,i),this.ta=mo("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Ti(i&&i.concurrentRequestLimit),this.Fa=new Vs,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function So(i){if($(i),3==i.G){var e=i.U++,t=Ji(i.F);Pr(t,"SID",i.I),Pr(t,"RID",e),Pr(t,"TYPE","terminate"),qe(i,t),(e=new Ts(i,i.j,e,void 0)).K=2,e.v=fi(Ji(t)),t=!1,le.navigator&&le.navigator.sendBeacon&&(t=le.navigator.sendBeacon(e.v.toString(),"")),!t&&le.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ms(e.l,null),e.g.da(e.v)),e.F=Date.now(),si(e)}Fi(i)}function T(i){i.g&&(hr(i),i.g.cancel(),i.g=null)}function $(i){T(i),i.u&&(le.clearTimeout(i.u),i.u=null),Kn(i),i.h.cancel(),i.m&&("number"==typeof i.m&&le.clearTimeout(i.m),i.m=null)}function P(i){Js(i.h)||i.m||(i.m=!0,Hi(i.Ja,i),i.C=0)}function Ee(i,e){var t;t=e?e.m:i.U++;const o=Ji(i.F);Pr(o,"SID",i.I),Pr(o,"RID",t),Pr(o,"AID",i.T),qe(i,o),i.o&&i.s&&Ao(o,i.o,i.s),t=new Ts(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=ut(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),zn(i.h,t),as(t,o,e)}function qe(i,e){i.ia&&jt(i.ia,function(t,o){Pr(e,o,t)}),i.l&&ki({},function(t,o){Pr(e,o,t)})}function ut(i,e,t){t=Math.min(i.i.length,t);var o=i.l?gt(i.l.Ra,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const g=["count="+t];-1==d?0<t?(d=u[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let b=!0;for(let V=0;V<t;V++){let H=u[V].h;const J=u[V].g;if(H-=d,0>H)d=Math.max(0,u[V].h-100),b=!1;else try{Ss(J,g,"req"+H+"_")}catch{o&&o(J)}}if(b){o=g.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function rn(i){i.g||i.u||(i.Z=1,Hi(i.Ia,i),i.A=0)}function rr(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Ct(gt(i.Ia,i),Ir(i,i.A)),i.A++,0))}function hr(i){null!=i.B&&(le.clearTimeout(i.B),i.B=null)}function fr(i){i.g=new Ts(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ji(i.sa);Pr(e,"RID","rpc"),Pr(e,"SID",i.I),Pr(e,"CI",i.L?"0":"1"),Pr(e,"AID",i.T),Pr(e,"TYPE","xmlhttp"),qe(i,e),i.o&&i.s&&Ao(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=fi(Ji(e)),t.s=null,t.P=!0,Zs(t,i)}function Kn(i){null!=i.v&&(le.clearTimeout(i.v),i.v=null)}function ai(i,e){var t=null;if(i.g==e){Kn(i),hr(i),i.g=null;var o=2}else{if(!vt(i.h,e))return;t=e.D,Xs(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Rt(o=vr(),new Lt(o,t)),P(i)}else rn(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function K(i,e){return!(po(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Ct(gt(i.Ja,i,e),Ir(i,i.C)),i.C++,0)))}(i,e)||2==o&&rr(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:_r(i,5);break;case 4:_r(i,10);break;case 3:_r(i,6);break;default:_r(i,2)}}function Ir(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function _r(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=gt(i.kb,i);t||(t=new Xr("//www.google.com/images/cleardot.gif"),le.location&&"http"==le.location.protocol||vs(t,"https"),fi(t)),function qi(i,e){const t=new bi;if(le.Image){const o=new Image;o.onload=Xt(xs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Xt(xs,t,o,"TestLoadImage: error",!1,e),o.onabort=Xt(xs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Xt(xs,t,o,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Qe(2);i.G=0,i.l&&i.l.va(e),Fi(i),$(i)}function Fi(i){if(i.G=0,i.la=[],i.l){const e=Fs(i.h);(0!=e.length||0!=i.i.length)&&(Pt(i.la,e),Pt(i.la,i.i),i.h.i.length=0,St(i.i),i.i.length=0),i.l.ua()}}function ws(i,e,t){var o=t instanceof Xr?Ji(t):new Xr(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Ur(o,o.m);else{var u=le.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new Xr(null,void 0);o&&vs(d,o),e&&(d.g=e),u&&Ur(d,u),t&&(d.l=t),o=d}return e=i.za,(t=i.D)&&e&&Pr(o,t,e),Pr(o,"VER",i.ma),qe(i,o),o}function Ms(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ge(t&&i.Da&&!i.ra?new es({jb:!0}):i.ra)).Ka(i.H),e}function to(){}function gs(){if(Un&&!(10<=Number(vn)))throw Error("Environmental error: no available transport.")}function ui(i,e){et.call(this),this.g=new Vo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!xn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Kr(this)}function Es(i){Sn.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Zo(){zr.call(this),this.status=1}function Kr(i){this.g=i}(ee=Ge.prototype).Ka=function(i){this.L=i},ee.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ir.g(),this.C=function ct(i){return i.h||(i.h=i.i())}(this.u?this.u:ir),this.g.onreadystatechange=gt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void fs(this,d)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())t.set(d,o.get(d))}o=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=le.FormData&&i instanceof le.FormData,!(0<=ht(ts,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of t)this.g.setRequestHeader(d,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qo(this),0<this.B&&((this.K=function Li(i){return Un&&function pr(){return function pn(i){var e=Wn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=nr(String(bn)).split("."),t=nr("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",d=t[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=fn(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||fn(0==u[2].length,0==d[2].length)||fn(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.qa,this)):this.A=Xn(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){fs(this,d)}},ee.qa=function(){typeof Ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))},ee.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Rt(this,"complete"),Rt(this,"abort"),Bs(this))},ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bs(this,!0)),Ge.X.M.call(this)},ee.Ha=function(){this.s||(this.F||this.v||this.l?eo(this):this.fb())},ee.fb=function(){eo(this)},ee.aa=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}},ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ee.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),q(e)}},ee.Ea=function(){return this.m},ee.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ee=Vo.prototype).ma=8,ee.G=1,ee.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new Ts(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=mt(d),ln(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ut(this,u,e),Pr(t=Ji(this.F),"RID",i),Pr(t,"CVER",22),this.D&&Pr(t,"X-HTTP-Session-Id",this.D),qe(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(To(d)))+"&"+e:this.o&&Ao(t,this.o,d)),zn(this.h,u),this.Ya&&Pr(t,"TYPE","init"),this.O?(Pr(t,"$req",e),Pr(t,"SID","null"),u.Z=!0,as(u,t,null)):as(u,t,e),this.G=2}}else 3==this.G&&(i?Ee(this,i):0==this.i.length||Js(this.h)||Ee(this))},ee.Ia=function(){if(this.u=null,fr(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Ct(gt(this.eb,this),i)}},ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qe(10),T(this),fr(this))},ee.cb=function(){null!=this.v&&(this.v=null,T(this),rr(this),Qe(19))},ee.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))},(ee=to.prototype).xa=function(){},ee.wa=function(){},ee.va=function(){},ee.ua=function(){},ee.Ra=function(){},gs.prototype.g=function(i,e){return new ui(i,e)},qt(ui,et),ui.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Qe(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=ws(i,null,i.V),P(i)},ui.prototype.close=function(){So(this.g)},ui.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=wn(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&P(e)},ui.prototype.M=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,ui.X.M.call(this)},qt(Es,Sn),qt(Zo,zr),qt(Kr,to),Kr.prototype.xa=function(){Rt(this.g,"a")},Kr.prototype.wa=function(i){Rt(this.g,new Es(i))},Kr.prototype.va=function(i){Rt(this.g,new Zo)},Kr.prototype.ua=function(){Rt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,ui.prototype.send=ui.prototype.u,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,Te.COMPLETE="complete",pt.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",et.prototype.listen=et.prototype.N,Ge.prototype.listenOnce=Ge.prototype.O,Ge.prototype.getLastError=Ge.prototype.Oa,Ge.prototype.getLastErrorCode=Ge.prototype.Ea,Ge.prototype.getStatus=Ge.prototype.aa,Ge.prototype.getResponseJson=Ge.prototype.Sa,Ge.prototype.getResponseText=Ge.prototype.fa,Ge.prototype.send=Ge.prototype.da,Ge.prototype.setWithCredentials=Ge.prototype.Ka;var va=dt.createWebChannelTransport=function(){return new gs},Eu=dt.getStatEventTarget=function(){return vr()},js=dt.ErrorCode=De,Uo=dt.EventType=Te,wa=dt.Event=Rr,Yo=dt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Bo=dt.FetchXmlHttpFactory=es,jo=dt.WebChannel=pt,ra=dt.XhrIo=Ge;const Ea="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let qr="9.14.0";const D=new We.Yd("@firebase/firestore");function C(){return D.logLevel}function Q(i,...e){if(D.logLevel<=We.in.DEBUG){const t=e.map(Gr);D.debug(`Firestore (${qr}): ${i}`,...t)}}function nt(i,...e){if(D.logLevel<=We.in.ERROR){const t=e.map(Gr);D.error(`Firestore (${qr}): ${i}`,...t)}}function Yt(i,...e){if(D.logLevel<=We.in.WARN){const t=e.map(Gr);D.warn(`Firestore (${qr}): ${i}`,...t)}}function Gr(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Mt(i="Unexpected state"){const e=`FIRESTORE (${qr}) INTERNAL ASSERTION FAILED: `+i;throw nt(e),new Error(e)}function Qt(i,e){i||Mt()}function Ut(i,e){return i}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends Fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Qo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Za{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class Jo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Na{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const d=H=>this.i!==u?(u=this.i,t(H)):Promise.resolve();let g=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ei,e.enqueueRetryable(()=>d(this.currentUser))};const b=()=>{const H=g;e.enqueueRetryable((0,ve.Z)(function*(){yield H.promise,yield d(o.currentUser)}))},V=H=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(H=>V(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?V(H):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ei)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Qt("string"==typeof o.accessToken),new Qo(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qt(null===e||"string"==typeof e),new wi(e)}}class xo{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Qt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ka{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new xo(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ya{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $o{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=d=>{null!=d.error&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.A;return this.A=d.token,Q("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qt("string"==typeof t.token),this.A=t.token,new Ya(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Iu(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class La{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Iu(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length))}return o}}function Fn(i,e){return i<e?-1:i>e?1:0}function no(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function Qa(i){return i+"\0"}class er{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Tt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Tt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Tt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new er(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mn(e)}static min(){return new Mn(new er(0,0))}static max(){return new Mn(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yo{constructor(e,t,o){void 0===t?t=0:t>e.length&&Mt(),void 0===o?o=e.length-t:o>e.length-t&&Mt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===yo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yo?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const d=e.get(u),g=t.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ar extends yo{construct(e,t,o){return new ar(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Tt(rt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new ar(t)}static emptyPath(){return new ar([])}}const Ia=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends yo{construct(e,t,o){return new wr(e,t,o)}static isValidIdentifier(e){return Ia.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const d=()=>{if(0===o.length)throw new Tt(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;u<e.length;){const b=e[u];if("\\"===b){if(u+1===e.length)throw new Tt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Tt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===b?(g=!g,u++):"."!==b||g?(o+=b,u++):(d(),u++)}if(d(),g)throw new Tt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(ar.fromString(e))}static fromName(e){return new Vt(ar.fromString(e).popFirst(5))}static empty(){return new Vt(ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ar.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new ar(e.slice()))}}class _o{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function sa(i){return i.fields.find(e=>2===e.kind)}function Mo(i){return i.fields.filter(e=>2!==e.kind)}_o.UNKNOWN_ID=-1;class ro{constructor(e,t){this.fieldPath=e,this.kind=t}}class br{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new br(0,ns.min())}}function el(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Mn.fromTimestamp(1e9===o?new er(t+1,0):new er(t,o));return new ns(u,Vt.empty(),e)}function $u(i){return new ns(i.readTime,i.key,-1)}class ns{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new ns(Mn.min(),Vt.empty(),-1)}static max(){return new ns(Mn.max(),Vt.empty(),-1)}}function Ja(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Vt.comparator(i.documentKey,e.documentKey),0!==t?t:Fn(i.largestBatchId,e.largestBatchId))}const tl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ua(i){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,ve.Z)(function*(i){if(i.code!==rt.FAILED_PRECONDITION||i.message!==tl)throw i;Q("LocalStore","Unexpectedly lost primary lease")}),Xo.apply(this,arguments)}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tt((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tt?t:tt.resolve(t)}catch(t){return tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.reject(t)}static resolve(e){return new tt((t,o)=>{t(e)})}static reject(e){return new tt((t,o)=>{o(e)})}static waitFor(e){return new tt((t,o)=>{let u=0,d=0,g=!1;e.forEach(b=>{++u,b.next(()=>{++d,g&&d===u&&t()},V=>o(V))}),g=!0,d===u&&t()})}static or(e){let t=tt.resolve(!1);for(const o of e)t=t.next(u=>u?tt.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,d)=>{o.push(t.call(this,u,d))}),this.waitFor(o)}static mapArray(e,t){return new tt((o,u)=>{const d=e.length,g=new Array(d);let b=0;for(let V=0;V<d;V++){const H=V;t(e[H]).next(J=>{g[H]=J,++b,b===d&&o(g)},J=>u(J))}})}static doWhile(e,t){return new tt((o,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):o()};d()})}}class Hu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ei,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Oo(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=tu(o.target.error);this.P.reject(new Oo(e,u))}}static open(e,t,o,u){try{return new Hu(t,e.transaction(u,o))}catch(d){throw new Oo(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new la(t)}}class Zr{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Zr.D((0,Fe.z$)())&&nt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),rs(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Fe.hl)())return!1;if(Zr.N())return!0;const e=(0,Fe.z$)(),t=Zr.D(e),o=0<t&&t<10,u=Zr.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Q("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=g=>{o(g.target.result)},d.onblocked=()=>{u(new Oo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const b=g.target.error;u("VersionError"===b.name?new Tt(rt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Tt(rt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new Oo(e,b))},d.onupgradeneeded=g=>{Q("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.S.$(g.target.result,d.transaction,g.oldVersion,t.version).next(()=>{Q("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var d=this;return(0,ve.Z)(function*(){const g="readonly"===t;let b=0;for(;;){++b;try{d.db=yield d.F(e);const V=Hu.open(d.db,e,g?"readonly":"readwrite",o),H=u(V).next(J=>(V.V(),J)).catch(J=>(V.abort(J),tt.reject(J))).toPromise();return H.catch(()=>{}),yield V.v,H}catch(V){const H=V,J="FirebaseError"!==H.name&&b<3;if(Q("SimpleDb","Transaction failed with error:",H.message,"Retrying:",J),d.close(),!J)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eu{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return rs(this.U.delete())}}class Oo extends Tt{constructor(e,t){super(rt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ca(i){return"IndexedDbTransactionError"===i.name}class la{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Q("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),rs(o)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),rs(this.store.add(e))}get(e){return rs(this.store.get(e)).next(t=>(void 0===t&&(t=null),Q("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),rs(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),rs(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.H(u,(g,b)=>{d.push(b)}).next(()=>d)}{const u=this.store.getAll(o.range);return new tt((d,g)=>{u.onerror=b=>{g(b.target.error)},u.onsuccess=b=>{d(b.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new tt((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}Y(e,t){Q("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const u=this.cursor(o);return this.H(u,(d,g,b)=>b.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.H(u,t)}tt(e){const t=this.cursor({});return new tt((o,u)=>{t.onerror=d=>{const g=tu(d.target.error);u(g)},t.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(b=>{b?g.continue():o()}):o()}})}H(e,t){const o=[];return new tt((u,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const b=g.target.result;if(!b)return void u();const V=new eu(b),H=t(b.primaryKey,b.value,V);if(H instanceof tt){const J=H.catch(be=>(V.done(),tt.reject(be)));o.push(J)}V.isDone?u():null===V.G?b.continue():b.continue(V.G)}}).next(()=>tt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rs(i){return new tt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=tu(o.target.error);t(u)}})}let io=!1;function tu(i){const e=Zr.D((0,Fe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return io||(io=!0,setTimeout(()=>{throw o},0)),o}}return i}class ba{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Q("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Q("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){ca(o)?Q("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield ua(o)}yield t.nt(6e4)}))}}class ea{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let u=t,d=!0;return tt.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return Q("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,u).next(b=>{u-=b,o.add(g)});d=!1})).next(()=>t-u)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(u,d)).next(b=>(Q("IndexBackiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,t,b))).next(()=>g.size)}))}ot(e,t){let o=e;return t.changes.forEach((u,d)=>{const g=$u(d);Ja(g,o)>0&&(o=g)}),new ns(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ms{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Gu(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function vo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function da(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}ms.at=-1;class Wr{constructor(e,t){this.comparator=e,this.root=t||Lr.EMPTY}insert(e,t){return new Wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,t,o,u,d){this.key=e,this.value=t,this.color=o??Lr.RED,this.left=u??Lr.EMPTY,this.right=d??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,d){return new Lr(e??this.key,t??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Lr.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(i,e,t,o,u){return this}insert(i,e,t){return new Lr(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fr{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new v(this.data.getIterator())}getIteratorFrom(e){return new v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fr(this.comparator);return t.data=e,t}}class v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function E(i){return i.hasNext()?i.getNext():void 0}class _{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new _([])}unionWith(e){let t=new Fr(wr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new _(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class k{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new k(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new k(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}k.EMPTY_BYTE_STRING=new k("");const W=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ue(i){if(Qt(!!i),"string"==typeof i){let e=0;const t=W.exec(i);if(Qt(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:me(i.seconds),nanos:me(i.nanos)}}function me(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function it(i){return"string"==typeof i?k.fromBase64String(i):k.fromUint8Array(i)}function Ft(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Tn(i){const e=i.mapValue.fields.__previous_value__;return Ft(e)?Tn(e):e}function an(i){const e=ue(i.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}class Yn{constructor(e,t,o,u,d,g,b,V){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=b,this.useFetchStreams=V}}class Ii{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ii("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ii&&e.projectId===this.projectId&&e.database===this.database}}function Os(i){return null==i}function $s(i){return 0===i&&1/i==-1/0}function Hs(i){return"number"==typeof i&&Number.isInteger(i)&&!$s(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ta={nullValue:"NULL_VALUE"};function R(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ft(i)?4:Po(i)?9007199254740991:10:Mt()}function L(i,e){if(i===e)return!0;const t=R(i);if(t!==R(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return an(i).isEqual(an(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ue(o.timestampValue),g=ue(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,it(i.bytesValue).isEqual(it(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return me(o.geoPointValue.latitude)===me(u.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return me(o.integerValue)===me(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=me(o.doubleValue),g=me(u.doubleValue);return d===g?$s(d)===$s(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return no(i.arrayValue.values||[],e.arrayValue.values||[],L);case 10:return function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Gu(d)!==Gu(g))return!1;for(const b in d)if(d.hasOwnProperty(b)&&(void 0===g[b]||!L(d[b],g[b])))return!1;return!0}(i,e);default:return Mt()}var u}function z(i,e){return void 0!==(i.values||[]).find(t=>L(t,e))}function ce(i,e){if(i===e)return 0;const t=R(i),o=R(e);if(t!==o)return Fn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fn(i.booleanValue,e.booleanValue);case 2:return function(u,d){const g=me(u.integerValue||u.doubleValue),b=me(d.integerValue||d.doubleValue);return g<b?-1:g>b?1:g===b?0:isNaN(g)?isNaN(b)?0:-1:1}(i,e);case 3:return Ve(i.timestampValue,e.timestampValue);case 4:return Ve(an(i),an(e));case 5:return Fn(i.stringValue,e.stringValue);case 6:return function(u,d){const g=it(u),b=it(d);return g.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),b=d.split("/");for(let V=0;V<g.length&&V<b.length;V++){const H=Fn(g[V],b[V]);if(0!==H)return H}return Fn(g.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const g=Fn(me(u.latitude),me(d.latitude));return 0!==g?g:Fn(me(u.longitude),me(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const g=u.values||[],b=d.values||[];for(let V=0;V<g.length&&V<b.length;++V){const H=ce(g[V],b[V]);if(H)return H}return Fn(g.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===wo.mapValue&&d===wo.mapValue)return 0;if(u===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const g=u.fields||{},b=Object.keys(g),V=d.fields||{},H=Object.keys(V);b.sort(),H.sort();for(let J=0;J<b.length&&J<H.length;++J){const be=Fn(b[J],H[J]);if(0!==be)return be;const Ze=ce(g[b[J]],V[H[J]]);if(0!==Ze)return Ze}return Fn(b.length,H.length)}(i.mapValue,e.mapValue);default:throw Mt()}}function Ve(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Fn(i,e);const t=ue(i),o=ue(e),u=Fn(t.seconds,o.seconds);return 0!==u?u:Fn(t.nanos,o.nanos)}function Je(i){return At(i)}function At(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=ue(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?it(i.bytesValue).toBase64():"referenceValue"in i?Vt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const g of o.values||[])d?d=!1:u+=",",u+=At(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const b of u)g?g=!1:d+=",",d+=`${b}:${At(o.fields[b])}`;return d+"}"}(i.mapValue):Mt();var e}function $t(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function On(i){return!!i&&"integerValue"in i}function Zn(i){return!!i&&"arrayValue"in i}function ur(i){return!!i&&"nullValue"in i}function An(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ai(i){return!!i&&"mapValue"in i}function is(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return vo(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=is(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=is(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Po(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fa(i){return"nullValue"in i?ta:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?$t(Ii.empty(),Vt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Mt()}function Da(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?$t(Ii.empty(),Vt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?wo:Mt()}function Ca(i,e){const t=ce(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Va(i,e){const t=ce(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Si{constructor(e){this.value=e}static empty(){return new Si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ai(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=is(t)}setAll(e){let t=wr.emptyPath(),o={},u=[];e.forEach((g,b)=>{if(!t.isImmediateParentOf(b)){const V=this.getFieldsMap(t);this.applyChanges(V,o,u),o={},u=[],t=b.popLast()}g?o[b.lastSegment()]=is(g):u.push(b.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,u)}delete(e){const t=this.field(e.popLast());Ai(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return L(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Ai(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){vo(t,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new Si(is(this.value))}}function ha(i){const e=[];return vo(i.fields,(t,o)=>{const u=new wr([t]);if(Ai(o)){const d=ha(o.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new _(e)}class Br{constructor(e,t,o,u,d,g){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Br(e,0,Mn.min(),Mn.min(),Si.empty(),0)}static newFoundDocument(e,t,o){return new Br(e,1,t,Mn.min(),o,0)}static newNoDocument(e,t){return new Br(e,2,t,Mn.min(),Si.empty(),0)}static newUnknownDocument(e,t){return new Br(e,3,t,Mn.min(),Si.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ua{constructor(e,t=null,o=[],u=[],d=null,g=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=g,this.endAt=b,this.ht=null}}function bu(i,e=null,t=[],o=[],u=null,d=null,g=null){return new Ua(i,e,t,o,u,d,g)}function Ba(i){const e=Ut(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Je(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Os(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Je(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Je(o)).join(",")),e.ht=t}return e.ht}function Wu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!th(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!L(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!il(i.startAt,e.startAt)&&il(i.endAt,e.endAt)}function nl(i){return Vt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function gc(i,e){return i.filters.filter(t=>t instanceof Gs&&t.field.isEqual(e))}function Jd(i,e,t){let o=ta,u=!0;for(const d of gc(i,e)){let g=ta,b=!0;switch(d.op){case"<":case"<=":g=Fa(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,b=!1;break;case"!=":case"not-in":g=ta}Ca({value:o,inclusive:u},{value:g,inclusive:b})<0&&(o=g,u=b)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=t.position[d];Ca({value:o,inclusive:u},{value:g,inclusive:t.inclusive})<0&&(o=g,u=t.inclusive);break}return{value:o,inclusive:u}}function Xd(i,e,t){let o=wo,u=!0;for(const d of gc(i,e)){let g=wo,b=!0;switch(d.op){case">=":case">":g=Da(d.value),b=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,b=!1;break;case"!=":case"not-in":g=wo}Va({value:o,inclusive:u},{value:g,inclusive:b})>0&&(o=g,u=b)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=t.position[d];Va({value:o,inclusive:u},{value:g,inclusive:t.inclusive})>0&&(o=g,u=t.inclusive);break}return{value:o,inclusive:u}}class Gs extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new rl(e,t,o):"array-contains"===t?new Tg(e,o):"in"===t?new eh(e,o):"not-in"===t?new Ag(e,o):"array-contains-any"===t?new xf(e,o):new Gs(e,t,o)}static lt(e,t,o){return"in"===t?new mc(e,o):new Sf(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ce(t,this.value)):null!==t&&R(this.value)===R(t)&&this.ft(ce(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rl extends Gs{constructor(e,t,o){super(e,t,o),this.key=Vt.fromName(o.referenceValue)}matches(e){const t=Vt.comparator(e.key,this.key);return this.ft(t)}}class mc extends Gs{constructor(e,t){super(e,"in",t),this.keys=Kl(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sf extends Gs{constructor(e,t){super(e,"not-in",t),this.keys=Kl(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kl(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Vt.fromName(o.referenceValue))}class Tg extends Gs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zn(t)&&z(t.arrayValue,this.value)}}class eh extends Gs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&z(this.value.arrayValue,t)}}class Ag extends Gs{constructor(e,t){super(e,"not-in",t)}matches(e){if(z(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!z(this.value.arrayValue,t)}}class xf extends Gs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zn(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>z(this.value.arrayValue,o))}}class nu{constructor(e,t){this.position=e,this.inclusive=t}}class ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function th(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Mf(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],g=i.position[u];if(o=d.field.isKeyField()?Vt.comparator(Vt.fromName(g.referenceValue),t.key):ce(g,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function il(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!L(i.position[t],e.position[t]))return!1;return!0}class iu{constructor(e,t=null,o=[],u=[],d=null,g="F",b=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=g,this.startAt=b,this.endAt=V,this._t=null,this.wt=null}}function Of(i,e,t,o,u,d,g,b){return new iu(i,e,t,o,u,d,g,b)}function yc(i){return new iu(i)}function nh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function rh(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ql(i){for(const e of i.filters)if(e.dt())return e.field;return null}function sl(i){return null!==i.collectionGroup}function su(i){const e=Ut(i);if(null===e._t){e._t=[];const t=ql(e),o=rh(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new ru(t)),e._t.push(new ru(wr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ru(wr.keyField(),d))}}}return e._t}function Ws(i){const e=Ut(i);if(!e.wt)if("F"===e.limitType)e.wt=bu(e.path,e.collectionGroup,su(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of su(e))t.push(new ru(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new nu(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new nu(e.startAt.position,e.startAt.inclusive):null;e.wt=bu(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function _c(i,e,t){return new iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ou(i,e){return Wu(Ws(i),Ws(e))&&i.limitType===e.limitType}function fa(i){return`${Ba(Ws(i))}|lt:${i.limitType}`}function ol(i){return`Query(target=${function Cg(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Je(o.value)}`;var o}).join(", ")}]`),Os(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Je(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Je(t)).join(",")),`Target(${e})`}(Ws(i))}; limitType=${i.limitType})`}function Zl(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Vt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,d,g){const b=Mf(u,d,g);return u.inclusive?b<=0:b<0}(t.startAt,su(t),o)||t.endAt&&!function(u,d,g){const b=Mf(u,d,g);return u.inclusive?b>=0:b>0}(t.endAt,su(t),o)));var t,o}function al(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Yl(i){return(e,t)=>{let o=!1;for(const u of su(i)){const d=ul(u,e,t);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function ul(i,e,t){const o=i.field.isKeyField()?Vt.comparator(e.key,t.key):function(u,d,g){const b=d.data.field(u),V=g.data.field(u);return null!==b&&null!==V?ce(b,V):Mt()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Mt()}}function Ql(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$s(e)?"-0":e}}function ih(i){return{integerValue:""+i}}function sh(i,e){return Hs(e)?ih(e):Ql(i,e)}class vc{constructor(){this._=void 0}}function Rf(i,e,t){return i instanceof au?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof Du?Ta(i,e):i instanceof ss?zu(i,e):function(o,u){const d=so(o,u),g=oh(d)+oh(o.yt);return On(d)&&On(o.yt)?ih(g):Ql(o.It,g)}(i,e)}function Pf(i,e,t){return i instanceof Du?Ta(i,e):i instanceof ss?zu(i,e):t}function so(i,e){return i instanceof ja?On(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class au extends vc{}class Du extends vc{constructor(e){super(),this.elements=e}}function Ta(i,e){const t=cl(e);for(const o of i.elements)t.some(u=>L(u,o))||t.push(o);return{arrayValue:{values:t}}}class ss extends vc{constructor(e){super(),this.elements=e}}function zu(i,e){let t=cl(e);for(const o of i.elements)t=t.filter(u=>!L(u,o));return{arrayValue:{values:t}}}class ja extends vc{constructor(e,t){super(),this.It=e,this.yt=t}}function oh(i){return me(i.integerValue||i.doubleValue)}function cl(i){return Zn(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ku{constructor(e,t){this.field=e,this.transform=t}}class ll{constructor(e,t){this.version=e,this.transformResults=t}}class Vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class qu{}function ah(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Aa(i.key,Vi.none()):new Tu(i.key,i.data,Vi.none());{const t=i.data,o=Si.empty();let u=new Fr(wr.comparator);for(let d of e.fields)if(!u.has(d)){let g=t.field(d);null===g&&d.length>1&&(d=d.popLast(),g=t.field(d)),null===g?o.delete(d):o.set(d,g),u=u.add(d)}return new Eo(i.key,o,new _(u.toArray()),Vi.none())}}function Jl(i,e,t){i instanceof Tu?function(o,u,d){const g=o.value.clone(),b=ch(o.fieldTransforms,u,d.transformResults);g.setAll(b),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,t):i instanceof Eo?function(o,u,d){if(!wc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=ch(o.fieldTransforms,u,d.transformResults),b=u.data;b.setAll(uh(o)),b.setAll(g),u.convertToFoundDocument(d.version,b).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Cu(i,e,t,o){return i instanceof Tu?function(u,d,g,b){if(!wc(u.precondition,d))return g;const V=u.value.clone(),H=Zu(u.fieldTransforms,b,d);return V.setAll(H),d.convertToFoundDocument(d.version,V).setHasLocalMutations(),null}(i,e,t,o):i instanceof Eo?function(u,d,g,b){if(!wc(u.precondition,d))return g;const V=Zu(u.fieldTransforms,b,d),H=d.data;return H.setAll(uh(u)),H.setAll(V),d.convertToFoundDocument(d.version,H).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(J=>J.field))}(i,e,t,o):(g=t,wc(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function kf(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=so(o.transform,u||null);null!=d&&(null===t&&(t=Si.empty()),t.set(o.field,d))}return t||null}function Xl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&no(t,o,(u,d)=>function Nf(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Du&&o instanceof Du||t instanceof ss&&o instanceof ss?no(t.elements,o.elements,L):t instanceof ja&&o instanceof ja?L(t.yt,o.yt):t instanceof au&&o instanceof au);var t,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Tu extends qu{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Eo extends qu{constructor(e,t,o,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function uh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function ch(i,e,t){const o=new Map;Qt(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],g=d.transform,b=e.data.field(d.field);o.set(d.field,Pf(g,b,t[u]))}return o}function Zu(i,e,t){const o=new Map;for(const u of i){const d=u.transform,g=t.data.field(u.field);o.set(u.field,Rf(d,g,e))}return o}class Aa extends qu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dl extends qu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sg{constructor(e){this.count=e}}var li,Sr;function ed(i){switch(i){default:return Mt();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}function lh(i){if(void 0===i)return nt("GRPC error has no .code"),rt.UNKNOWN;switch(i){case li.OK:return rt.OK;case li.CANCELLED:return rt.CANCELLED;case li.UNKNOWN:return rt.UNKNOWN;case li.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case li.INTERNAL:return rt.INTERNAL;case li.UNAVAILABLE:return rt.UNAVAILABLE;case li.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case li.NOT_FOUND:return rt.NOT_FOUND;case li.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case li.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case li.ABORTED:return rt.ABORTED;case li.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case li.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case li.DATA_LOSS:return rt.DATA_LOSS;default:return Mt()}}(Sr=li||(li={}))[Sr.OK=0]="OK",Sr[Sr.CANCELLED=1]="CANCELLED",Sr[Sr.UNKNOWN=2]="UNKNOWN",Sr[Sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sr[Sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sr[Sr.NOT_FOUND=5]="NOT_FOUND",Sr[Sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sr[Sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sr[Sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sr[Sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sr[Sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sr[Sr.ABORTED=10]="ABORTED",Sr[Sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sr[Sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sr[Sr.INTERNAL=13]="INTERNAL",Sr[Sr.UNAVAILABLE=14]="UNAVAILABLE",Sr[Sr.DATA_LOSS=15]="DATA_LOSS";class pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(t,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return da(this.inner)}size(){return this.innerSize}}const Lf=new Wr(Vt.comparator);function No(){return Lf}const dh=new Wr(Vt.comparator);function Ec(...i){let e=dh;for(const t of i)e=e.insert(t.key,t);return e}function Yu(i){let e=dh;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Sa(){return Au()}function hl(){return Au()}function Au(){return new pa(i=>i.toString(),(i,e)=>i.isEqual(e))}const hh=new Wr(Vt.comparator),td=new Fr(Vt.comparator);function cr(...i){let e=td;for(const t of i)e=e.add(t);return e}const fh=new Fr(Fn);function Su(){return fh}class uu{constructor(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,na.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new uu(Mn.min(),u,Su(),No(),cr())}}class na{constructor(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new na(o,t,cr(),cr(),cr())}}class Ic{constructor(e,t,o,u){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=u}}class bc{constructor(e,t){this.targetId=e,this.At=t}}class ph{constructor(e,t,o=k.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Ho{constructor(){this.Rt=0,this.bt=rd(),this.Pt=k.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=cr(),t=cr(),o=cr();return this.bt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Mt()}}),new na(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=rd()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class cu{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=No(),this.qt=nd(),this.Kt=new Fr(Fn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:Mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,u)=>{this.Ht(u)&&t(u)})}Yt(e){const t=e.targetId,o=e.At.count,u=this.Xt(t);if(u){const d=u.target;if(nl(d))if(0===o){const g=new Vt(d.path);this.jt(t,g,Br.newNoDocument(g,Mn.min()))}else Qt(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,g)=>{const b=this.Xt(g);if(b){if(d.current&&nl(b.target)){const V=new Vt(b.target.path);null!==this.Ut.get(V)||this.ee(g,V)||this.jt(g,V,Br.newNoDocument(V,e))}d.Dt&&(t.set(g,d.xt()),d.Nt())}});let o=cr();this.qt.forEach((d,g)=>{let b=!0;g.forEachWhile(V=>{const H=this.Xt(V);return!H||2===H.purpose||(b=!1,!1)}),b&&(o=o.add(d))}),this.Ut.forEach((d,g)=>g.setReadTime(e));const u=new uu(e,t,this.Kt,this.Ut,o);return this.Ut=No(),this.qt=nd(),this.Kt=new Fr(Fn),u}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,t)?u.kt(t,1):u.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Ho,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Fr(Fn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Q("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Ho),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function nd(){return new Wr(Vt.comparator)}function rd(){return new Wr(Vt.comparator)}const fl={asc:"ASCENDING",desc:"DESCENDING"},pl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class id{constructor(e,t){this.databaseId=e,this.gt=t}}function xu(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dc(i,e){return i.gt?e.toBase64():e.toUint8Array()}function ga(i,e){return xu(i,e.toTimestamp())}function Is(i){return Qt(!!i),Mn.fromTimestamp(function(e){const t=ue(e);return new er(t.seconds,t.nanos)}(i))}function Cc(i,e){return(t=i,new ar(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gl(i){const e=ar.fromString(i);return Qt(hn(e)),e}function Mu(i,e){return Cc(i.databaseId,e.path)}function Io(i,e){const t=gl(e);if(t.get(1)!==i.databaseId.projectId)throw new Tt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Tt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Vt(gh(t))}function ho(i,e){return Cc(i.databaseId,e)}function Tc(i){const e=gl(i);return 4===e.length?ar.emptyPath():gh(e)}function Ou(i){return new ar(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gh(i){return Qt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ma(i,e,t){return{name:Mu(i,e),fields:t.value.mapValue.fields}}function lu(i,e,t){const o=Io(i,e.name),u=Is(e.updateTime),d=new Si({mapValue:{fields:e.fields}}),g=Br.newFoundDocument(o,u,d);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function ya(i,e){let t;if(e instanceof Tu)t={update:ma(i,e.key,e.value)};else if(e instanceof Aa)t={delete:Mu(i,e.key)};else if(e instanceof Eo)t={update:ma(i,e.key,e.data),updateMask:Ht(e.fieldMask)};else{if(!(e instanceof dl))return Mt();t={verify:Mu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const g=d.transform;if(g instanceof au)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Du)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ss)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ja)return{fieldPath:d.field.canonicalString(),increment:g.yt};throw Mt()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:ga(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Mt()),t;var u}function Sc(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Vi.updateTime(Is(u.updateTime)):void 0!==u.exists?Vi.exists(u.exists):Vi.none():Vi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,g){let b=null;"setToServerValue"in g?(Qt("REQUEST_TIME"===g.setToServerValue),b=new au):"appendMissingElements"in g?b=new Du(g.appendMissingElements.values||[]):"removeAllFromArray"in g?b=new ss(g.removeAllFromArray.values||[]):"increment"in g?b=new ja(d,g.increment):Mt();const V=wr.fromServerFormat(g.fieldPath);return new Ku(V,b)}(i,u)):[];var u;if(e.update){const u=Io(i,e.update.name),d=new Si({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new _((e.updateMask.fieldPaths||[]).map(H=>wr.fromServerFormat(H)));return new Eo(u,d,g,t,o)}return new Tu(u,d,t,o)}if(e.delete){const u=Io(i,e.delete);return new Aa(u,t)}if(e.verify){const u=Io(i,e.verify);return new dl(u,t)}return Mt()}function Vf(i,e){return{documents:[ho(i,e.path)]}}function sd(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=ho(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ho(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(V){if(0===V.length)return;const H=V.map(J=>function(be){if("=="===be.op){if(An(be.value))return{unaryFilter:{field:B(be.field),op:"IS_NAN"}};if(ur(be.value))return{unaryFilter:{field:B(be.field),op:"IS_NULL"}}}else if("!="===be.op){if(An(be.value))return{unaryFilter:{field:B(be.field),op:"IS_NOT_NAN"}};if(ur(be.value))return{unaryFilter:{field:B(be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:B(be.field),op:w(be.op),value:be.value}}}(J));return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}(e.filters);u&&(t.structuredQuery.where=u);const d=function(V){if(0!==V.length)return V.map(H=>{return{field:B((J=H).field),direction:f(J.dir)};var J})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=(H=e.limit,i.gt||Os(H)?H:{value:H});var H,b,V;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function yl(i){let e=Tc(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){Qt(1===o);const J=t.from[0];J.allDescendants?u=J.collectionId:e=e.child(J.collectionId)}let d=[];t.where&&(d=l(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(J=>{return new ru(Y((be=J).field),function(Ze){switch(Ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(be.direction));var be}));let b=null;t.limit&&(b=function(J){let be;return be="object"==typeof J?J.value:J,Os(be)?null:be}(t.limit));let V=null;var J;t.startAt&&(V=new nu((J=t.startAt).values||[],!!J.before));let H=null;return t.endAt&&(H=function(J){return new nu(J.values||[],!J.before)}(t.endAt)),Of(e,u,g,d,b,"F",V,H)}function l(i){return i?void 0!==i.unaryFilter?[at(i)]:void 0!==i.fieldFilter?[Oe(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>l(e)).reduce((e,t)=>e.concat(t)):Mt():[]}function f(i){return fl[i]}function w(i){return pl[i]}function B(i){return{fieldPath:i.canonicalString()}}function Y(i){return wr.fromServerFormat(i.fieldPath)}function Oe(i){return Gs.create(Y(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(i.fieldFilter.op),i.fieldFilter.value)}function at(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Y(i.unaryFilter.field);return Gs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Y(i.unaryFilter.field);return Gs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Y(i.unaryFilter.field);return Gs.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Y(i.unaryFilter.field);return Gs.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}function Ht(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hn(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function _n(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=bs(e)),e=Nn(i.get(t),e);return bs(e)}function Nn(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function bs(i){return i+"\x01\x01"}function pi(i){const e=i.length;if(Qt(e>=2),2===e)return Qt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ar.emptyPath();const t=e-2,o=[];let u="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>t)&&Mt(),i.charAt(g+1)){case"\x01":const b=i.substring(d,g);let V;0===u.length?V=b:(u+=b,V=u,u=""),o.push(V);break;case"\x10":u+=i.substring(d,g),u+="\0";break;case"\x11":u+=i.substring(d,g+1);break;default:Mt()}d=g+2}return new ar(o)}const $a=["userId","batchId"];function xc(i,e){return[i,_n(e)]}function od(i,e,t){return[i,_n(e),t]}const Uf={},Bf=["prefixPath","collectionGroup","readTime","documentId"],mh=["prefixPath","collectionGroup","documentId"],jf=["collectionGroup","readTime","prefixPath","documentId"],ad=["canonicalId","targetId"],ud=["targetId","path"],yh=["path","targetId"],$f=["collectionId","parent"],cd=["indexId","uid"],ld=["uid","sequenceNumber"],Ru=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dd=["indexId","uid","orderedDocumentKey"],xg=["userId","collectionPath","documentId"],Mg=["userId","collectionPath","largestBatchId"],Og=["userId","collectionGroup","largestBatchId"],$y=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zv=[...$y,"documentOverlays"],Hy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_h=Hy,Hf=[..._h,"indexConfiguration","indexState","indexEntries"];class Rg extends Xa{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function bo(i,e){const t=Ut(i);return Zr.M(t.ie,e)}class vh{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&Jl(d,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Cu(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Cu(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=hl();return this.mutations.forEach(u=>{const d=e.get(u.key),g=d.overlayedDocument;let b=this.applyToLocalView(g,d.mutatedFields);b=t.has(u.key)?null:b;const V=ah(g,b);null!==V&&o.set(u.key,V),g.isValidDocument()||g.convertToNoDocument(Mn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cr())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(t,o)=>Xl(t,o))&&no(this.baseMutations,e.baseMutations,(t,o)=>Xl(t,o))}}class Gf{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){Qt(e.mutations.length===o.length);let u=hh;const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,o[g].version);return new Gf(e,t,o,u)}}class Wf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qu{constructor(e,t,o,u,d=Mn.min(),g=Mn.min(),b=k.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=b}withSequenceNumber(e){return new Qu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Pg{constructor(e){this.re=e}}function hd(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Mu(u=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:xu(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Pu(e.version)};else{if(!e.isUnknownDocument())return Mt();o.unknownDocument={path:t.path.toArray(),version:Pu(e.version)}}var u,d;return o}function wh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Pu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Mc(i){const e=new er(i.seconds,i.nanoseconds);return Mn.fromTimestamp(e)}function Ui(i,e){const t=(e.baseMutations||[]).map(d=>Sc(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>Sc(i.re,d)),u=er.fromMillis(e.localWriteTimeMs);return new vh(e.batchId,u,t,o)}function fd(i){const e=Mc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Mc(i.lastLimboFreeSnapshotVersion):Mn.min();let o;var u;return void 0!==i.query.documents?(Qt(1===(u=i.query).documents.length),o=Ws(yc(Tc(u.documents[0])))):o=Ws(yl(i.query)),new Qu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,k.fromBase64String(i.resumeToken))}function kg(i,e){const t=Pu(e.snapshotVersion),o=Pu(e.lastLimboFreeSnapshotVersion);let u;u=nl(e.target)?Vf(i.re,e.target):sd(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ba(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function pd(i){const e=yl({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?_c(e,e.limit,"L"):e}function Eh(i,e){return new Wf(e.largestBatchId,Sc(i.re,e.overlayMutation))}function Lg(i,e){const t=e.path.lastSegment();return[i,_n(e.path.popLast()),t]}function Fg(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Pu(o.readTime),documentKey:_n(o.documentKey.path),largestBatchId:o.largestBatchId}}class Gy{getBundleMetadata(e,t){return Vg(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Mc(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Vg(e).put({bundleId:(o=t).id,createTime:Pu(Is(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Ug(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:pd(u.bundledQuery),readTime:Mc(u.readTime)};var u})}saveNamedQuery(e,t){return Ug(e).put({name:(o=t).name,readTime:Pu(Is(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Vg(i){return bo(i,"bundles")}function Ug(i){return bo(i,"namedQueries")}class zf{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new zf(e,t.uid||"")}getOverlay(e,t){return Ih(e).get(Lg(this.userId,t)).next(o=>o?Eh(this.It,o):null)}getOverlays(e,t){const o=Sa();return tt.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((d,g)=>{const b=new Wf(t,g);u.push(this.ue(e,b))}),tt.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(g=>u.add(_n(g.getCollectionPath())));const d=[];return u.forEach(g=>{const b=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);d.push(Ih(e).Y("collectionPathOverlayIndex",b))}),tt.waitFor(d)}getOverlaysForCollection(e,t,o){const u=Sa(),d=_n(t),g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Ih(e).W("collectionPathOverlayIndex",g).next(b=>{for(const V of b){const H=Eh(this.It,V);u.set(H.getKey(),H)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const d=Sa();let g;const b=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ih(e).Z({index:"collectionGroupOverlayIndex",range:b},(V,H,J)=>{const be=Eh(this.It,H);d.size()<u||be.largestBatchId===g?(d.set(be.getKey(),be),g=be.largestBatchId):J.done()}).next(()=>d)}ue(e,t){return Ih(e).put(function(o,u,d){const[g,b,V]=Lg(u,d.mutation.key);return{userId:u,collectionPath:b,documentId:V,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:ya(o.re,d.mutation)}}(this.It,this.userId,t))}}function Ih(i){return bo(i,"documentOverlays")}class Ha{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(me(e.integerValue));else if("doubleValue"in e){const o=me(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),$s(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(it(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?Po(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Mt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const u of Object.keys(o))this._e(u,t),this.ae(o[u],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const u of o)this.ae(u,t)}ge(e,t){this.le(t,37),Vt.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Kf(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function qf(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const d=Kf(255&t[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}Ha.Te=new Ha;class Bg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=t.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const t=this.Ce(e),o=qf(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ne(e){const t=this.Ce(e),o=qf(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class jg{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Wy{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class _l{constructor(){this.Be=new Bg,this.Le=new jg(this.Be),this.Ue=new Wy(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Ju{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ju(this.indexId,this.documentKey,this.arrayValue,o)}}function Nu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=zy(i.arrayValue,e.arrayValue),0!==t?t:(t=zy(i.directionalValue,e.directionalValue),0!==t?t:Vt.comparator(i.documentKey,e.documentKey)))}function zy(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Ky{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=sa(e);if(void 0!==t&&!this.ze(t))return!1;const o=Mo(e);let u=0,d=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const g=o[u];if(!this.He(this.je,g)||!this.Je(this.Ge[d++],g))return!1;++u}for(;u<o.length;++u){const g=o[u];if(d>=this.Ge.length||!this.Je(this.Ge[d++],g))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Zf{constructor(){this.Ye=new bh}addToCollectionParentIndex(e,t){return this.Ye.add(t),tt.resolve()}getCollectionParents(e,t){return tt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return tt.resolve()}deleteFieldIndex(e,t){return tt.resolve()}getDocumentsMatchingTarget(e,t){return tt.resolve(null)}getIndexType(e,t){return tt.resolve(0)}getFieldIndexes(e,t){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,t){return tt.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return tt.resolve(ns.min())}updateCollectionGroup(e,t,o){return tt.resolve()}updateIndexEntries(e,t){return tt.resolve()}}class bh{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new Fr(ar.comparator),d=!u.has(o);return this.index[t]=u.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Fr(ar.comparator)).toArray()}}const gd=new Uint8Array(0);class Oc{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new bh,this.Ze=new pa(o=>Ba(o),(o,u)=>Wu(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const d={collectionId:o,parent:_n(u)};return $g(e).put(d)}return tt.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Qa(t),""],!1,!0);return $g(e).W(u).next(d=>{for(const g of d){if(g.collectionId!==t)break;o.push(pi(g.parent))}return o})}addFieldIndex(e,t){const o=Pc(e),u={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var g;delete u.indexId;const d=o.add(u);if(t.indexState){const g=md(e);return d.next(b=>{g.put(Fg(b,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const o=Pc(e),u=md(e),d=Rc(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Rc(e);let u=!0;const d=new Map;return tt.forEach(this.tn(t),g=>this.en(e,g).next(b=>{u&&(u=!!b),d.set(g,b)})).next(()=>{if(u){let g=cr();const b=[];return tt.forEach(d,(V,H)=>{var J;Q("IndexedDbIndexManager",`Using index ${J=V,`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map(xr=>`${xr.fieldPath}:${xr.kind}`).join(",")}`} to execute ${Ba(t)}`);const be=function(xr,$i){const ei=sa($i);if(void 0===ei)return null;for(const ri of gc(xr,ei.fieldPath))switch(ri.op){case"array-contains-any":return ri.value.arrayValue.values||[];case"array-contains":return[ri.value]}return null}(H,V),Ze=function(xr,$i){const ei=new Map;for(const ri of Mo($i))for(const ao of gc(xr,ri.fieldPath))switch(ao.op){case"==":case"in":ei.set(ri.fieldPath.canonicalString(),ao.value);break;case"not-in":case"!=":return ei.set(ri.fieldPath.canonicalString(),ao.value),Array.from(ei.values())}return null}(H,V),ft=function(xr,$i){const ei=[];let ri=!0;for(const ao of Mo($i)){const Wl=0===ao.kind?Jd(xr,ao.fieldPath,xr.startAt):Xd(xr,ao.fieldPath,xr.startAt);ei.push(Wl.value),ri&&(ri=Wl.inclusive)}return new nu(ei,ri)}(H,V),bt=function(xr,$i){const ei=[];let ri=!0;for(const ao of Mo($i)){const Wl=0===ao.kind?Xd(xr,ao.fieldPath,xr.endAt):Jd(xr,ao.fieldPath,xr.endAt);ei.push(Wl.value),ri&&(ri=Wl.inclusive)}return new nu(ei,ri)}(H,V),en=this.nn(V,H,ft),dn=this.nn(V,H,bt),Yr=this.sn(V,H,Ze),xi=this.rn(V.indexId,be,en,ft.inclusive,dn,bt.inclusive,Yr);return tt.forEach(xi,xr=>o.J(xr,t.limit).next($i=>{$i.forEach(ei=>{const ri=Vt.fromSegments(ei.documentKey);g.has(ri)||(g=g.add(ri),b.push(ri))})}))}).next(()=>b)}return tt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,u,d,g,b){const V=(null!=t?t.length:1)*Math.max(o.length,d.length),H=V/(null!=t?t.length:1),J=[];for(let be=0;be<V;++be){const Ze=t?this.on(t[be/H]):gd,ft=this.un(e,Ze,o[be%H],u),bt=this.cn(e,Ze,d[be%H],g),en=b.map(dn=>this.un(e,Ze,dn,!0));J.push(...this.createRange(ft,bt,en))}return J}un(e,t,o,u){const d=new Ju(e,Vt.empty(),t,o);return u?d:d.Ke()}cn(e,t,o,u){const d=new Ju(e,Vt.empty(),t,o);return u?d.Ke():d}en(e,t){const o=new Ky(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let g=null;for(const b of d)o.We(b)&&(!g||b.fields.length>g.fields.length)&&(g=b);return g})}getIndexType(e,t){let o=2;return tt.forEach(this.tn(t),u=>this.en(e,u).next(d=>{d?0!==o&&d.fields.length<function(g){let b=new Fr(wr.comparator),V=!1;for(const H of g.filters){const J=H;J.field.isKeyField()||("array-contains"===J.op||"array-contains-any"===J.op?V=!0:b=b.add(J.field))}for(const H of g.orderBy)H.field.isKeyField()||(b=b.add(H.field));return b.size+(V?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new _l;for(const u of Mo(e)){const d=t.data.field(u.fieldPath);if(null==d)return null;const g=o.qe(u.kind);Ha.Te.ce(d,g)}return o.$e()}on(e){const t=new _l;return Ha.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new _l;return Ha.Te.ce($t(this.databaseId,t),o.qe(function(u){const d=Mo(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let u=[];u.push(new _l);let d=0;for(const g of Mo(e)){const b=o[d++];for(const V of u)if(this.ln(t,g.fieldPath)&&Zn(b))u=this.fn(u,g,b);else{const H=V.qe(g.kind);Ha.Te.ce(b,H)}}return this.dn(u)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const u=[...e],d=[];for(const g of o.arrayValue.values||[])for(const b of u){const V=new _l;V.seed(b.$e()),Ha.Te.ce(g,V.qe(t.kind)),d.push(V)}return d}ln(e,t){return!!e.filters.find(o=>o instanceof Gs&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Pc(e),u=md(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(d=>{const g=[];return tt.forEach(d,b=>u.get([b.indexId,this.uid]).next(V=>{g.push(function(H,J){const be=J?new br(J.sequenceNumber,new ns(Mc(J.readTime),new Vt(pi(J.documentKey)),J.largestBatchId)):br.empty(),Ze=H.fields.map(([ft,bt])=>new ro(wr.fromServerFormat(ft),bt));return new _o(H.indexId,H.collectionGroup,Ze,be)}(b,V))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Fn(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Pc(e),d=md(e);return this._n(e).next(g=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(b=>tt.forEach(b,V=>d.put(Fg(V.indexId,this.user,g,o)))))}updateIndexEntries(e,t){const o=new Map;return tt.forEach(t,(u,d)=>{const g=o.get(u.collectionGroup);return(g?tt.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(b=>(o.set(u.collectionGroup,b),tt.forEach(b,V=>this.wn(e,u,V).next(H=>{const J=this.mn(d,V);return H.isEqual(J)?tt.resolve():this.gn(e,d,V,H,J)}))))})}yn(e,t,o,u){return Rc(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,u){return Rc(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const u=Rc(e);let d=new Fr(Nu);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(g,b)=>{d=d.add(new Ju(o.indexId,t,b.arrayValue,b.directionalValue))}).next(()=>d)}mn(e,t){let o=new Fr(Nu);const u=this.an(t,e);if(null==u)return o;const d=sa(t);if(null!=d){const g=e.data.field(d.fieldPath);if(Zn(g))for(const b of g.arrayValue.values||[])o=o.add(new Ju(t.indexId,e.key,this.on(b),u))}else o=o.add(new Ju(t.indexId,e.key,gd,u));return o}gn(e,t,o,u,d){Q("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(b,V,H,J,be){const Ze=b.getIterator(),ft=V.getIterator();let bt=E(Ze),en=E(ft);for(;bt||en;){let dn=!1,Yr=!1;if(bt&&en){const xi=H(bt,en);xi<0?Yr=!0:xi>0&&(dn=!0)}else null!=bt?Yr=!0:dn=!0;dn?(J(en),en=E(ft)):Yr?(be(bt),bt=E(Ze)):(bt=E(Ze),en=E(ft))}}(u,d,Nu,b=>{g.push(this.yn(e,t,o,b))},b=>{g.push(this.pn(e,t,o,b))}),tt.waitFor(g)}_n(e){let t=1;return md(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((g,b)=>Nu(g,b)).filter((g,b,V)=>!b||0!==Nu(g,V[b-1]));const u=[];u.push(e);for(const g of o){const b=Nu(g,e),V=Nu(g,t);if(0===b)u[0]=e.Ke();else if(b>0&&V<0)u.push(g),u.push(g.Ke());else if(V>0)break}u.push(t);const d=[];for(let g=0;g<u.length;g+=2)d.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,gd,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,gd,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Dh)}getMinOffset(e,t){return tt.mapArray(this.tn(t),o=>this.en(e,o).next(u=>u||Mt())).next(Dh)}}function $g(i){return bo(i,"collectionParents")}function Rc(i){return bo(i,"indexEntries")}function Pc(i){return bo(i,"indexConfiguration")}function md(i){return bo(i,"indexState")}function Dh(i){Qt(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;Ja(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new ns(e.readTime,e.documentKey,t)}const yd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zs{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new zs(e,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Yf(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],g=IDBKeyRange.only(t.batchId);let b=0;const V=o.Z({range:g},(J,be,Ze)=>(b++,Ze.delete()));d.push(V.next(()=>{Qt(1===b)}));const H=[];for(const J of t.mutations){const be=od(e,J.key.path,t.batchId);d.push(u.delete(be)),H.push(J.key)}return tt.waitFor(d).next(()=>H)}function vl(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Mt();e=i.noDocument}return JSON.stringify(e).length}zs.DEFAULT_COLLECTION_PERCENTILE=10,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zs.DEFAULT=new zs(41943040,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zs.DISABLED=new zs(-1,0,0);class Ch{constructor(e,t,o,u){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,t,o,u){Qt(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Ch(d,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ku(e).Z({index:"userMutationsIndex",range:o},(u,d,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const d=Ga(e),g=ku(e);return g.add({}).next(b=>{Qt("number"==typeof b);const V=new vh(b,t,o,u),H=function(Ze,ft,bt){const en=bt.baseMutations.map(Yr=>ya(Ze.re,Yr)),dn=bt.mutations.map(Yr=>ya(Ze.re,Yr));return{userId:ft,batchId:bt.batchId,localWriteTimeMs:bt.localWriteTime.toMillis(),baseMutations:en,mutations:dn}}(this.It,this.userId,V),J=[];let be=new Fr((Ze,ft)=>Fn(Ze.canonicalString(),ft.canonicalString()));for(const Ze of u){const ft=od(this.userId,Ze.key.path,b);be=be.add(Ze.key.path.popLast()),J.push(g.put(H)),J.push(d.put(ft,Uf))}return be.forEach(Ze=>{J.push(this.indexManager.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.In[b]=V.keys()}),tt.waitFor(J).next(()=>V)})}lookupMutationBatch(e,t){return ku(e).get(t).next(o=>o?(Qt(o.userId===this.userId),Ui(this.It,o)):null)}Tn(e,t){return this.In[t]?tt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return ku(e).Z({index:"userMutationsIndex",range:u},(g,b,V)=>{b.userId===this.userId&&(Qt(b.batchId>=o),d=Ui(this.It,b)),V.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ku(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,d,g)=>{o=d.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ku(e).W("userMutationsIndex",t).next(o=>o.map(u=>Ui(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=xc(this.userId,t.path),u=IDBKeyRange.lowerBound(o),d=[];return Ga(e).Z({range:u},(g,b,V)=>{const[H,J,be]=g,Ze=pi(J);if(H===this.userId&&t.path.isEqual(Ze))return ku(e).get(be).next(ft=>{if(!ft)throw Mt();Qt(ft.userId===this.userId),d.push(Ui(this.It,ft))});V.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Fr(Fn);const u=[];return t.forEach(d=>{const g=xc(this.userId,d.path),b=IDBKeyRange.lowerBound(g),V=Ga(e).Z({range:b},(H,J,be)=>{const[Ze,ft,bt]=H,en=pi(ft);Ze===this.userId&&d.path.isEqual(en)?o=o.add(bt):be.done()});u.push(V)}),tt.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,d=xc(this.userId,o),g=IDBKeyRange.lowerBound(d);let b=new Fr(Fn);return Ga(e).Z({range:g},(V,H,J)=>{const[be,Ze,ft]=V,bt=pi(Ze);be===this.userId&&o.isPrefixOf(bt)?bt.length===u&&(b=b.add(ft)):J.done()}).next(()=>this.En(e,b))}En(e,t){const o=[],u=[];return t.forEach(d=>{u.push(ku(e).get(d).next(g=>{if(null===g)throw Mt();Qt(g.userId===this.userId),o.push(Ui(this.It,g))}))}),tt.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return Yf(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),tt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return tt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Ga(e).Z({range:o},(d,g,b)=>{if(d[0]===this.userId){const V=pi(d[1]);u.push(V)}else b.done()}).next(()=>{Qt(0===u.length)})})}containsKey(e,t){return Hg(e,this.userId,t)}Rn(e){return Gg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Hg(i,e,t){const o=xc(e,t.path),u=o[1],d=IDBKeyRange.lowerBound(o);let g=!1;return Ga(i).Z({range:d,X:!0},(b,V,H)=>{const[J,be,Ze]=b;J===e&&be===u&&(g=!0),H.done()}).next(()=>g)}function ku(i){return bo(i,"mutations")}function Ga(i){return bo(i,"documentMutations")}function Gg(i){return bo(i,"mutationQueues")}class Nc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Nc(0)}static vn(){return new Nc(-1)}}class qy{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Nc(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Mn.fromTimestamp(new er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wl(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Qt(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let u=0;const d=[];return wl(e).Z((g,b)=>{const V=fd(b);V.sequenceNumber<=t&&null===o.get(V.targetId)&&(u++,d.push(this.removeTargetData(e,V)))}).next(()=>tt.waitFor(d)).next(()=>u)}forEachTarget(e,t){return wl(e).Z((o,u)=>{const d=fd(u);t(d)})}Vn(e){return Th(e).get("targetGlobalKey").next(t=>(Qt(null!==t),t))}Sn(e,t){return Th(e).put("targetGlobalKey",t)}Dn(e,t){return wl(e).put(kg(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Ba(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return wl(e).Z({range:u,index:"queryTargetsIndex"},(g,b,V)=>{const H=fd(b);Wu(t,H.target)&&(d=H,V.done())}).next(()=>d)}addMatchingKeys(e,t,o){const u=[],d=Xu(e);return t.forEach(g=>{const b=_n(g.path);u.push(d.put({targetId:o,path:b})),u.push(this.referenceDelegate.addReference(e,o,g))}),tt.waitFor(u)}removeMatchingKeys(e,t,o){const u=Xu(e);return tt.forEach(t,d=>{const g=_n(d.path);return tt.waitFor([u.delete([o,g]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=Xu(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Xu(e);let d=cr();return u.Z({range:o,X:!0},(g,b,V)=>{const H=pi(g[1]),J=new Vt(H);d=d.add(J)}).next(()=>d)}containsKey(e,t){const o=_n(t.path),u=IDBKeyRange.bound([o],[Qa(o)],!1,!0);let d=0;return Xu(e).Z({index:"documentTargetsIndex",X:!0,range:u},([g,b],V,H)=>{0!==g&&(d++,H.done())}).next(()=>d>0)}se(e,t){return wl(e).get(t).next(o=>o?fd(o):null)}}function wl(i){return bo(i,"targets")}function Th(i){return bo(i,"targetGlobal")}function Xu(i){return bo(i,"targetDocuments")}function Qf([i,e],[t,o]){const u=Fn(i,t);return 0===u?Fn(e,o):u}class Zy{constructor(e){this.xn=e,this.buffer=new Fr(Qf),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Qf(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wg{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ca(o)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ua(o)}yield t.Fn(3e5)}))}}class Kv{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return tt.resolve(ms.at);const o=new Zy(t);return this.$n.forEachTarget(e,u=>o.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.On(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(yd)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yd):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,u,d,g,b,V,H;const J=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(be=>(be>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${be}`),u=this.params.maximumSequenceNumbersToCollect):u=be,g=Date.now(),this.nthSequenceNumber(e,u))).next(be=>(o=be,b=Date.now(),this.removeTargets(e,o,t))).next(be=>(d=be,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(be=>(H=Date.now(),C()<=We.in.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-J}ms\n\tDetermined least recently used ${u} in `+(b-g)+`ms\n\tRemoved ${d} targets in `+(V-b)+`ms\n\tRemoved ${be} documents in `+(H-V)+`ms\nTotal Duration: ${H-J}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:be})))}}class Yy{constructor(e,t){this.db=e,this.garbageCollector=new Kv(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,u)=>t(u))}addReference(e,t,o){return ec(e,o)}removeReference(e,t,o){return ec(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return ec(e,t)}Gn(e,t){return function(o,u){let d=!1;return Gg(o).tt(g=>Hg(o,g,u).next(b=>(b&&(d=!0),tt.resolve(!b)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(g,b)=>{if(b<=t){const V=this.Gn(e,g).next(H=>{if(!H)return d++,o.getEntry(e,g).next(()=>(o.removeEntry(g,Mn.min()),Xu(e).delete([0,_n(g.path)])))});u.push(V)}}).next(()=>tt.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return ec(e,t)}Kn(e,t){const o=Xu(e);let u,d=ms.at;return o.Z({index:"documentTargetsIndex"},([g,b],{path:V,sequenceNumber:H})=>{0===g?(d!==ms.at&&t(new Vt(pi(u)),d),d=H,u=V):d=ms.at}).next(()=>{d!==ms.at&&t(new Vt(pi(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ec(i,e){return Xu(i).put((o=i.currentSequenceNumber,{targetId:0,path:_n(e.path),sequenceNumber:o}));var o}class zg{constructor(){this.changes=new pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?tt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class El{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return tc(e).put(o)}removeEntry(e,t,o){return tc(e).delete(function(u,d){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],wh(d),g[g.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Br.newInvalidDocument(t);return tc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_d(t))},(u,d)=>{o=this.jn(t,d)}).next(()=>o)}Wn(e,t){let o={size:0,document:Br.newInvalidDocument(t)};return tc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_d(t))},(u,d)=>{o={document:this.jn(t,d),size:vl(d)}}).next(()=>o)}getEntries(e,t){let o=No();return this.zn(e,t,(u,d)=>{const g=this.jn(u,d);o=o.insert(u,g)}).next(()=>o)}Hn(e,t){let o=No(),u=new Wr(Vt.comparator);return this.zn(e,t,(d,g)=>{const b=this.jn(d,g);o=o.insert(d,b),u=u.insert(d,vl(g))}).next(()=>({documents:o,Jn:u}))}zn(e,t,o){if(t.isEmpty())return tt.resolve();let u=new Fr(qg);t.forEach(V=>u=u.add(V));const d=IDBKeyRange.bound(_d(u.first()),_d(u.last())),g=u.getIterator();let b=g.getNext();return tc(e).Z({index:"documentKeyIndex",range:d},(V,H,J)=>{const be=Vt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;b&&qg(b,be)<0;)o(b,null),b=g.getNext();b&&b.isEqual(be)&&(o(b,H),b=g.hasNext()?g.getNext():null),b?J.j(_d(b)):J.done()}).next(()=>{for(;b;)o(b,null),b=g.hasNext()?g.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),wh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tc(e).W(IDBKeyRange.bound(u,d,!0)).next(g=>{let b=No();for(const V of g){const H=this.jn(Vt.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);b=b.insert(H.key,H)}return b})}getAllFromCollectionGroup(e,t,o,u){let d=No();const g=Kg(t,o),b=Kg(t,ns.max());return tc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,b,!0)},(V,H,J)=>{const be=this.jn(Vt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);d=d.insert(be.key,be),d.size===u&&J.done()}).next(()=>d)}newChangeBuffer(e){return new Qy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Jy(e).get("remoteDocumentGlobalKey").next(t=>(Qt(!!t),t))}Qn(e,t){return Jy(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function Ng(i,e){let t;if(e.document)t=lu(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Vt.fromSegments(e.noDocument.path),u=Mc(e.noDocument.readTime);t=Br.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const o=Vt.fromSegments(e.unknownDocument.path),u=Mc(e.unknownDocument.version);t=Br.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new er(o[0],o[1]);return Mn.fromTimestamp(u)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Mn.min()))return o}return Br.newInvalidDocument(e)}}function Il(i){return new El(i)}class Qy extends zg{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new pa(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new Fr((d,g)=>Fn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const b=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,b.readTime)),g.isValidDocument()){const V=hd(this.Yn.It,g);u=u.add(d.path.popLast()),o+=vl(V)-b.size,t.push(this.Yn.addEntry(e,d,V))}else if(o-=b.size,this.trackRemovals){const V=hd(this.Yn.It,g.convertToNoDocument(Mn.min()));t.push(this.Yn.addEntry(e,d,V))}}),u.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,o)),tt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:u})=>(u.forEach((d,g)=>{this.Xn.set(d,{size:g,readTime:o.get(d).readTime})}),o))}}function Jy(i){return bo(i,"remoteDocumentGlobal")}function tc(i){return bo(i,"remoteDocumentsV14")}function _d(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Kg(i,e){const t=e.documentKey.path.toArray();return[i,wh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qg(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<t.length-2&&d<o.length-2;++d)if(u=Fn(t[d],o[d]),u)return u;return u=Fn(t.length,o.length),u||(u=Fn(t[t.length-2],o[o.length-2]),u||Fn(t[t.length-1],o[o.length-1]))}class Zg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jf{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&Cu(o.mutation,u,_.empty(),er.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,cr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=cr()){const u=Sa();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(d=>{let g=Ec();return d.forEach((b,V)=>{g=g.insert(b,V.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=Sa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,cr()))}populateOverlays(e,t,o){const u=[];return o.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((g,b)=>{t.set(g,b)})})}computeViews(e,t,o,u){let d=No();const g=Au(),b=Au();return t.forEach((V,H)=>{const J=o.get(H.key);u.has(H.key)&&(void 0===J||J.mutation instanceof Eo)?d=d.insert(H.key,H):void 0!==J&&(g.set(H.key,J.mutation.getFieldMask()),Cu(J.mutation,H,J.mutation.getFieldMask(),er.now()))}),this.recalculateAndSaveOverlays(e,d).next(V=>(V.forEach((H,J)=>g.set(H,J)),t.forEach((H,J)=>{var be;return b.set(H,new Zg(J,null!==(be=g.get(H))&&void 0!==be?be:null))}),b))}recalculateAndSaveOverlays(e,t){const o=Au();let u=new Wr((g,b)=>g-b),d=cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const b of g)b.keys().forEach(V=>{const H=t.get(V);if(null===H)return;let J=o.get(V)||_.empty();J=b.applyToLocalView(H,J),o.set(V,J);const be=(u.get(b.batchId)||cr()).add(V);u=u.insert(b.batchId,be)})}).next(()=>{const g=[],b=u.getReverseIterator();for(;b.hasNext();){const V=b.getNext(),H=V.key,J=V.value,be=hl();J.forEach(Ze=>{if(!d.has(Ze)){const ft=ah(t.get(Ze),o.get(Ze));null!==ft&&be.set(Ze,ft),d=d.add(Ze)}}),g.push(this.documentOverlayCache.saveOverlays(e,H,be))}return tt.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Vt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):sl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(d=>{const g=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-d.size):tt.resolve(Sa());let b=-1,V=d;return g.next(H=>tt.forEach(H,(J,be)=>(b<be.largestBatchId&&(b=be.largestBatchId),d.get(J)?tt.resolve():this.getBaseDocument(e,J,be).next(Ze=>{V=V.insert(J,Ze)}))).next(()=>this.populateOverlays(e,H,d)).next(()=>this.computeViews(e,V,H,cr())).next(J=>({batchId:b,changes:Yu(J)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Vt(t)).next(o=>{let u=Ec();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let d=Ec();return this.indexManager.getCollectionParents(e,u).next(g=>tt.forEach(g,b=>{const V=(H=t,J=b.child(u),new iu(J,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,J;return this.getDocumentsMatchingCollectionQuery(e,V,o).next(H=>{H.forEach((J,be)=>{d=d.insert(J,be)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(d=>{d.forEach((b,V)=>{const H=V.getKey();null===u.get(H)&&(u=u.insert(H,Br.newInvalidDocument(H)))});let g=Ec();return u.forEach((b,V)=>{const H=d.get(b);void 0!==H&&Cu(H.mutation,V,_.empty(),er.now()),Zl(t,V)&&(g=g.insert(b,V))}),g})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):tt.resolve(Br.newInvalidDocument(t))}}class Xf{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return tt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Is(o.createTime)}),tt.resolve()}getNamedQuery(e,t){return tt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:pd(o.bundledQuery),readTime:Is(o.readTime)}),tt.resolve();var o}}class ep{constructor(){this.overlays=new Wr(Vt.comparator),this.es=new Map}getOverlay(e,t){return tt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Sa();return tt.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,d)=>{this.ue(e,t,d)}),tt.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),tt.resolve()}getOverlaysForCollection(e,t,o){const u=Sa(),d=t.length+1,g=new Vt(t.child("")),b=this.overlays.getIteratorFrom(g);for(;b.hasNext();){const V=b.getNext().value,H=V.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===d&&V.largestBatchId>o&&u.set(V.getKey(),V)}return tt.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let d=new Wr((H,J)=>H-J);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>o){let J=d.get(H.largestBatchId);null===J&&(J=Sa(),d=d.insert(H.largestBatchId,J)),J.set(H.getKey(),H)}}const b=Sa(),V=d.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((H,J)=>b.set(H,J)),!(b.size()>=u)););return tt.resolve(b)}ue(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new Wf(t,o));let d=this.es.get(t);void 0===d&&(d=cr(),this.es.set(t,d)),this.es.set(t,d.add(o.key))}}class tp{constructor(){this.ns=new Fr(Ks.ss),this.rs=new Fr(Ks.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new Ks(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new Ks(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Vt(new ar([])),o=new Ks(t,e),u=new Ks(t,e+1),d=[];return this.rs.forEachInRange([o,u],g=>{this.cs(g),d.push(g.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Vt(new ar([])),o=new Ks(t,e),u=new Ks(t,e+1);let d=cr();return this.rs.forEachInRange([o,u],g=>{d=d.add(g.key)}),d}containsKey(e){const t=new Ks(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Ks{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Vt.comparator(e.key,t.key)||Fn(e._s,t._s)}static os(e,t){return Fn(e._s,t._s)||Vt.comparator(e.key,t.key)}}class vd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Fr(Ks.ss)}checkEmpty(e){return tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const d=this.ws;this.ws++;const g=new vh(d,t,o,u);this.mutationQueue.push(g);for(const b of u)this.gs=this.gs.add(new Ks(b.key,d)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return tt.resolve(g)}lookupMutationBatch(e,t){return tt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),d=u<0?0:u;return tt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Ks(t,0),u=new Ks(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],g=>{const b=this.ys(g._s);d.push(b)}),tt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Fr(Fn);return t.forEach(u=>{const d=new Ks(u,0),g=new Ks(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,g],b=>{o=o.add(b._s)})}),tt.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let d=o;Vt.isDocumentKey(d)||(d=d.child(""));const g=new Ks(new Vt(d),0);let b=new Fr(Fn);return this.gs.forEachWhile(V=>{const H=V.key.path;return!!o.isPrefixOf(H)&&(H.length===u&&(b=b.add(V._s)),!0)},g),tt.resolve(this.Is(b))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Qt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return tt.forEach(t.mutations,u=>{const d=new Ks(u.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new Ks(t,0),u=this.gs.firstAfterOrEqual(o);return tt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return tt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Xy{constructor(e){this.Es=e,this.docs=new Wr(Vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),d=u?u.size:0,g=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return tt.resolve(o?o.document.mutableCopy():Br.newInvalidDocument(t))}getEntries(e,t){let o=No();return t.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():Br.newInvalidDocument(u))}),tt.resolve(o)}getAllFromCollection(e,t,o){let u=No();const d=new Vt(t.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:b,value:{document:V}}=g.getNext();if(!t.isPrefixOf(b.path))break;b.path.length>t.length+1||Ja($u(V),o)<=0||(u=u.insert(V.key,V.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(e,t,o,u){Mt()}As(e,t){return tt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new e_(this)}getSize(e){return tt.resolve(this.size)}}class e_ extends zg{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),tt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class t_{constructor(e){this.persistence=e,this.Rs=new pa(t=>Ba(t),Wu),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new tp,this.targetCount=0,this.vs=Nc.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),tt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,tt.resolve()}updateTargetData(e,t){return this.Dn(t),tt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,t,o){let u=0;const d=[];return this.Rs.forEach((g,b)=>{b.sequenceNumber<=t&&null===o.get(b.targetId)&&(this.Rs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,b.targetId)),u++)}),tt.waitFor(d).next(()=>u)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return tt.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),tt.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),tt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),tt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return tt.resolve(o)}containsKey(e,t){return tt.resolve(this.Ps.containsKey(t))}}class Yg{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ms(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new t_(this),this.indexManager=new Zf,this.remoteDocumentCache=new Xy(o=>this.referenceDelegate.xs(o)),this.It=new Pg(t),this.Ns=new Xf(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ep,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new vd(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Q("MemoryPersistence","Starting transaction:",e);const u=new n_(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Os(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ms(e,t){return tt.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class n_ extends Xa{constructor(e){super(),this.currentSequenceNumber=e}}class Ah{constructor(e){this.persistence=e,this.Fs=new tp,this.$s=null}static Bs(e){return new Ah(e)}get Ls(){if(this.$s)return this.$s;throw Mt()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),tt.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),tt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),tt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Ls,o=>{const u=Vt.fromPath(o);return this.Us(e,u).next(d=>{d||t.removeEntry(u,Mn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return tt.or([()=>tt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class r_{constructor(e){this.It=e}$(e,t,o,u){const d=new Hu("createOrUpgrade",t);var b;o<1&&u>=1&&(e.createObjectStore("owner"),(b=e).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$a,{unique:!0}),b.createObjectStore("documentMutations"),kc(e),function(b){b.createObjectStore("remoteDocuments")}(e));let g=tt.resolve();return o<3&&u>=3&&(0!==o&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(e),kc(e)),g=g.next(()=>function(b){const V=b.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mn.min().toTimestamp(),targetCount:0};return V.put("targetGlobalKey",H)}(d))),o<4&&u>=4&&(0!==o&&(g=g.next(()=>function(b,V){return V.store("mutations").W().next(H=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$a,{unique:!0});const J=V.store("mutations"),be=H.map(Ze=>J.put(Ze));return tt.waitFor(be)})}(e,d))),g=g.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(g=g.next(()=>this.qs(d))),o<6&&u>=6&&(g=g.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),o<7&&u>=7&&(g=g.next(()=>this.Gs(d))),o<8&&u>=8&&(g=g.next(()=>this.Qs(e,d))),o<9&&u>=9&&(g=g.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(g=g.next(()=>this.js(d))),o<11&&u>=11&&(g=g.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(g=g.next(()=>{!function(b){const V=b.createObjectStore("documentOverlays",{keyPath:xg});V.createIndex("collectionPathOverlayIndex",Mg,{unique:!1}),V.createIndex("collectionGroupOverlayIndex",Og,{unique:!1})}(e)})),o<13&&u>=13&&(g=g.next(()=>function(b){const V=b.createObjectStore("remoteDocumentsV14",{keyPath:Bf});V.createIndex("documentKeyIndex",mh),V.createIndex("collectionGroupIndex",jf)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(g=g.next(()=>this.zs(e,d))),o<15&&u>=15&&(g=g.next(()=>function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:cd}).createIndex("sequenceNumberIndex",ld,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:Ru}).createIndex("documentKeyIndex",dd,{unique:!1})}(e))),g}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,u)=>{t+=vl(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(u=>tt.forEach(u,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",g).next(b=>tt.forEach(b,V=>{Qt(V.userId===d.userId);const H=Ui(this.It,V);return Yf(e,d.userId,H).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Z((g,b)=>{const V=new ar(g),H=[0,_n(V)];d.push(t.get(H).next(J=>J?tt.resolve():t.put({targetId:0,path:_n(V),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>tt.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:$f});const o=t.store("collectionParents"),u=new bh,d=g=>{if(u.add(g)){const b=g.lastSegment(),V=g.popLast();return o.put({collectionId:b,parent:_n(V)})}};return t.store("remoteDocuments").Z({X:!0},(g,b)=>{const V=new ar(g);return d(V.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([g,b,V],H)=>{const J=pi(b);return d(J.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,u)=>{const d=fd(u),g=kg(this.It,d);return t.put(g)})}Ws(e,t){const o=t.store("remoteDocuments"),u=[];return o.Z((d,g)=>{const b=t.store("remoteDocumentsV14"),V=(H=g,H.document?new Vt(ar.fromString(H.document.name).popFirst(5)):H.noDocument?Vt.fromSegments(H.noDocument.path):H.unknownDocument?Vt.fromSegments(H.unknownDocument.path):Mt()).path.toArray();var H;const J={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(b.put(J))}).next(()=>tt.waitFor(u))}zs(e,t){const o=t.store("mutations"),u=Il(this.It),d=new Yg(Ah.Bs,this.It.re);return o.W().next(g=>{const b=new Map;return g.forEach(V=>{var H;let J=null!==(H=b.get(V.userId))&&void 0!==H?H:cr();Ui(this.It,V).keys().forEach(be=>J=J.add(be)),b.set(V.userId,J)}),tt.forEach(b,(V,H)=>{const J=new wi(H),be=zf.oe(this.It,J),Ze=d.getIndexManager(J),ft=Ch.oe(J,this.It,Ze,d.referenceDelegate);return new Jf(u,ft,be,Ze).recalculateAndSaveOverlaysForDocumentKeys(new Rg(t,ms.at),V).next()})})}}function kc(i){i.createObjectStore("targetDocuments",{keyPath:ud}).createIndex("documentTargetsIndex",yh,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ad,{unique:!0}),i.createObjectStore("targetGlobal")}const Wa="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class np{constructor(e,t,o,u,d,g,b,V,H,J,be=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=d,this.window=g,this.document=b,this.Js=H,this.Ys=J,this.Xs=be,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Ze=>Promise.resolve(),!np.C())throw new Tt(rt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yy(this,u),this.ii=t+"main",this.It=new Pg(V),this.ri=new Zr(this.ii,this.Xs,new r_(this.It)),this.Cs=new qy(this.referenceDelegate,this.It),this.remoteDocumentCache=Il(this.It),this.Ns=new Gy,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===J&&nt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Tt(rt.FAILED_PRECONDITION,Wa);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ms(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,ve.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ve.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ca(e))return Q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return wd(e).get("owner").next(t=>tt.resolve(this.mi(t)))}gi(e){return rp(e).delete(this.clientId)}yi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=bo(o,"clientMetadata");return u.W().next(d=>{const g=e.Ii(d,18e5),b=d.filter(V=>-1===g.indexOf(V));return tt.forEach(b,V=>u.delete(V.clientId)).next(()=>b)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?tt.resolve(!0):wd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Tt(rt.FAILED_PRECONDITION,Wa);return!1}}return!(!this.networkEnabled||!this.inForeground)||rp(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,b=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&b)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Q("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Rg(t,ms.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rp(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Ch.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Oc(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return zf.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Q("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=15===(g=this.Xs)?Hf:14===g?_h:13===g?Hy:12===g?zv:11===g?$y:void Mt();var g;let b;return this.ri.runTransaction(e,u,d,V=>(b=new Rg(V,this.Ss?this.Ss.next():ms.at),"readwrite-primary"===t?this.fi(b).next(H=>!!H||this.di(b)).next(H=>{if(!H)throw nt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Tt(rt.FAILED_PRECONDITION,tl);return o(b)}).next(H=>this.wi(b).next(()=>H)):this.Vi(b).next(()=>o(b)))).then(V=>(b.raiseOnCommittedEvent(),V))}Vi(e){return wd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Tt(rt.FAILED_PRECONDITION,Wa)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wd(e).put("owner",t)}static C(){return Zr.C()}_i(e){const t=wd(e);return t.get("owner").next(o=>this.mi(o)?(Q("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):tt.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(nt(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Fe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Q("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return nt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){nt("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wd(i){return bo(i,"owner")}function rp(i){return bo(i,"clientMetadata")}function Qg(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Sh{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=cr(),u=cr();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Sh(e,t.fromCache,o,u)}}class i_{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(d=>d||this.Oi(e,t,u,o)).next(d=>d||this.Mi(e,t))}ki(e,t){if(nh(t))return tt.resolve(null);let o=Ws(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=_c(t,null,"F"),o=Ws(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const g=cr(...d);return this.Ni.getDocuments(e,g).next(b=>this.indexManager.getMinOffset(e,o).next(V=>{const H=this.Fi(t,b);return this.$i(t,H,g,V.readTime)?this.ki(e,_c(t,null,"F")):this.Bi(e,H,t,V)}))})))}Oi(e,t,o,u){return nh(t)||u.isEqual(Mn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(d=>{const g=this.Fi(t,d);return this.$i(t,g,o,u)?this.Mi(e,t):(C()<=We.in.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ol(t)),this.Bi(e,g,t,el(u,-1)))})}Fi(e,t){let o=new Fr(Yl(e));return t.forEach((u,d)=>{Zl(e,d)&&(o=o.add(d))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Mi(e,t){return C()<=We.in.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ol(t)),this.Ni.getDocumentsMatchingQuery(e,t,ns.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(t.forEach(g=>{d=d.insert(g.key,g)}),d))}}class Jg{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.It=u,this.Ui=new Wr(Fn),this.qi=new pa(d=>Ba(d),Wu),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function s_(i,e,t,o){return new Jg(i,e,t,o)}function ip(i,e){return sp.apply(this,arguments)}function sp(){return sp=(0,ve.Z)(function*(i,e){const t=Ut(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const g=[],b=[];let V=cr();for(const H of u){g.push(H.batchId);for(const J of H.mutations)V=V.add(J.key)}for(const H of d){b.push(H.batchId);for(const J of H.mutations)V=V.add(J.key)}return t.localDocuments.getDocuments(o,V).next(H=>({ji:H,removedBatchIds:g,addedBatchIds:b}))})})}),sp.apply(this,arguments)}function Xg(i,e){const t=Ut(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(g,b,V,H){const J=V.batch,be=J.keys();let Ze=tt.resolve();return be.forEach(ft=>{Ze=Ze.next(()=>H.getEntry(b,ft)).next(bt=>{const en=V.docVersions.get(ft);Qt(null!==en),bt.version.compareTo(en)<0&&(J.applyToRemoteDocument(bt,V),bt.isValidDocument()&&(bt.setReadTime(V.commitVersion),H.addEntry(bt)))})}),Ze.next(()=>g.mutationQueue.removeMutationBatch(b,J))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let b=cr();for(let V=0;V<g.mutationResults.length;++V)g.mutationResults[V].transformResults.length>0&&(b=b.add(g.batch.mutations[V].key));return b}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function em(i){const e=Ut(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function o_(i,e){const t=Ut(i),o=e.snapshotVersion;let u=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.Ui;const b=[];e.targetChanges.forEach((J,be)=>{const Ze=u.get(be);if(!Ze)return;b.push(t.Cs.removeMatchingKeys(d,J.removedDocuments,be).next(()=>t.Cs.addMatchingKeys(d,J.addedDocuments,be)));let ft=Ze.withSequenceNumber(d.currentSequenceNumber);var bt,en,dn;e.targetMismatches.has(be)?ft=ft.withResumeToken(k.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):J.resumeToken.approximateByteSize()>0&&(ft=ft.withResumeToken(J.resumeToken,o)),u=u.insert(be,ft),en=ft,dn=J,(0===(bt=Ze).resumeToken.approximateByteSize()||en.snapshotVersion.toMicroseconds()-bt.snapshotVersion.toMicroseconds()>=3e8||dn.addedDocuments.size+dn.modifiedDocuments.size+dn.removedDocuments.size>0)&&b.push(t.Cs.updateTargetData(d,ft))});let V=No(),H=cr();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(d,J))}),b.push(xa(d,g,e.documentUpdates).next(J=>{V=J.Wi,H=J.zi})),!o.isEqual(Mn.min())){const J=t.Cs.getLastRemoteSnapshotVersion(d).next(be=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));b.push(J)}return tt.waitFor(b).next(()=>g.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,V,H)).next(()=>V)}).then(d=>(t.Ui=u,d))}function xa(i,e,t){let o=cr(),u=cr();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let g=No();return t.forEach((b,V)=>{const H=d.get(b);V.isFoundDocument()!==H.isFoundDocument()&&(u=u.add(b)),V.isNoDocument()&&V.version.isEqual(Mn.min())?(e.removeEntry(b,V.readTime),g=g.insert(b,V)):!H.isValidDocument()||V.version.compareTo(H.version)>0||0===V.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(V),g=g.insert(b,V)):Q("LocalStore","Ignoring outdated watch update for ",b,". Current version:",H.version," Watch version:",V.version)}),{Wi:g,zi:u}})}function a_(i,e){const t=Ut(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Lc(i,e){const t=Ut(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(d=>d?(u=d,tt.resolve(u)):t.Cs.allocateTargetId(o).next(g=>(u=new Qu(e,g,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function bl(i,e,t){return op.apply(this,arguments)}function op(){return op=(0,ve.Z)(function*(i,e,t){const o=Ut(i),u=o.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!ca(g))throw g;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),op.apply(this,arguments)}function xh(i,e,t){const o=Ut(i);let u=Mn.min(),d=cr();return o.persistence.runTransaction("Execute query","readonly",g=>function(b,V,H){const J=Ut(b),be=J.qi.get(H);return void 0!==be?tt.resolve(J.Ui.get(be)):J.Cs.getTargetData(V,H)}(o,g,Ws(e)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,b.targetId).next(V=>{d=V})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,t?u:Mn.min(),t?d:cr())).next(b=>(nm(o,al(e),b),{documents:b,Hi:d})))}function tm(i,e){const t=Ut(i),o=Ut(t.Cs),u=t.Ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>o.se(d,e).next(g=>g?g.target:null))}function ap(i,e){const t=Ut(i),o=t.Ki.get(e)||Mn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,el(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(nm(t,e,u),u))}function nm(i,e,t){let o=i.Ki.get(e)||Mn.min();t.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}function up(){return up=(0,ve.Z)(function*(i,e,t,o){const u=Ut(i);let d=cr(),g=No();for(const H of t){const J=e.Ji(H.metadata.name);H.document&&(d=d.add(J));const be=e.Yi(H);be.setReadTime(e.Xi(H.metadata.readTime)),g=g.insert(J,be)}const b=u.Gi.newChangeBuffer({trackRemovals:!0}),V=yield Lc(u,(H=o,Ws(yc(ar.fromString(`__bundle__/docs/${H}`)))));var H;return u.persistence.runTransaction("Apply bundle documents","readwrite",H=>xa(H,b,g).next(J=>(b.apply(H),J)).next(J=>u.Cs.removeMatchingKeysForTargetId(H,V.targetId).next(()=>u.Cs.addMatchingKeys(H,d,V.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(H,J.Wi,J.zi)).next(()=>J.Wi)))}),up.apply(this,arguments)}function lr(i,e){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,ve.Z)(function*(i,e,t=cr()){const o=yield Lc(i,Ws(pd(e.bundledQuery))),u=Ut(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const g=Is(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u.Ns.saveNamedQuery(d,e);const b=o.withResumeToken(k.EMPTY_BYTE_STRING,g);return u.Ui=u.Ui.insert(b.targetId,b),u.Cs.updateTargetData(d,b).next(()=>u.Cs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.Cs.addMatchingKeys(d,t,o.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),Mh.apply(this,arguments)}function cp(i,e){return`firestore_clients_${i}_${e}`}function lp(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function dp(i,e){return`firestore_targets_${i}_${e}`}class Oh{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Zi(e,t,o){const u=JSON.parse(o);let d,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(d=new Tt(u.error.code,u.error.message))),g?new Oh(e,t,u.state,d):(nt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dl{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Tt(o.error.code,o.error.message))),d?new Dl(e,o.state,u):(nt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=Su();for(let g=0;u&&g<o.activeTargetIds.length;++g)u=Hs(o.activeTargetIds[g]),d=d.add(o.activeTargetIds[g]);return u?new Rh(e,d):(nt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ph{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ph(t.clientId,t.onlineState):(nt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class hp{constructor(){this.activeTargetIds=Su()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fp{constructor(e,t,o,u,d){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Wr(Fn),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=cp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new hp),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const d=e.getItem(cp(e.persistenceKey,u));if(d){const g=Rh.Zi(u,d);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(dp(this.persistenceKey,e));if(o){const u=Dl.Zi(e,o);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dp(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Q("SharedClientState","READ",e,t),t}setItem(e,t){Q("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Q("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Q("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void nt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Vr(u,null)}{const u=t.Sr(o.key,o.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Nr(o.key,o.newValue);if(u)return t.kr(u)}}else if(o.key===t.wr){if(null!==o.newValue){const u=t.yr(o.newValue);if(u)return t.pr(u)}}else if(o.key===t.hr){const u=function(d){let g=ms.at;if(null!=d)try{const b=JSON.parse(d);Qt("number"==typeof b),g=b}catch(b){nt("SharedClientState","Failed to read sequence number from WebStorage",b)}return g}(o.newValue);u!==ms.at&&t.sequenceNumberHandler(u)}else if(o.key===t.mr){const u=t.Or(o.newValue);yield Promise.all(u.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const u=new Oh(this.currentUser,e,t,o),d=lp(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const t=lp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const u=dp(this.persistenceKey,e),d=new Dl(e,t,o);this.setItem(u,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return Rh.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),u=Number(o[1]);return Oh.Zi(new wi(void 0!==o[2]?o[2]:null),u,t)}Nr(e,t){const o=this._r.exec(e),u=Number(o[1]);return Dl.Zi(u,t)}yr(e){return Ph.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Q("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(o),g=[],b=[];return d.forEach(V=>{u.has(V)||g.push(V)}),u.forEach(V=>{d.has(V)||b.push(V)}),this.syncEngine.Br(g,b).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Su();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class c_{constructor(){this.Lr=new hp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new hp,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rm{qr(e){}shutdown(){}}class pp{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Fc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l_{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,d){const g=this.ho(e,t);Q("RestConnection","Sending: ",g,o);const b={};return this.lo(b,u,d),this.fo(e,g,b,o).then(V=>(Q("RestConnection","Received: ",V),V),V=>{throw Yt("RestConnection",`${e} failed with error: `,V,"url: ",g,"request:",o),V})}_o(e,t,o,u,d,g){return this.ao(e,t,o,u,d)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+qr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ho(e,t){return`${this.oo}/v1/${t}:${Fc[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((d,g)=>{const b=new ra;b.setWithCredentials(!0),b.listenOnce(Uo.COMPLETE,()=>{var H;try{switch(b.getLastErrorCode()){case js.NO_ERROR:const J=b.getResponseJson();Q("Connection","XHR received:",JSON.stringify(J)),d(J);break;case js.TIMEOUT:Q("Connection",'RPC "'+e+'" timed out'),g(new Tt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case js.HTTP_ERROR:const be=b.getStatus();if(Q("Connection",'RPC "'+e+'" failed with status:',be,"response text:",b.getResponseText()),be>0){let Ze=b.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const ft=null===(H=Ze)||void 0===H?void 0:H.error;if(ft&&ft.status&&ft.message){const bt=function(en){const dn=en.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(dn)>=0?dn:rt.UNKNOWN}(ft.status);g(new Tt(bt,ft.message))}else g(new Tt(rt.UNKNOWN,"Server responded with status "+b.getStatus()))}else g(new Tt(rt.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{Q("Connection",'RPC "'+e+'" completed.')}});const V=JSON.stringify(u);b.send(t,"POST",V,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=va(),g=Eu(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new Bo({})),this.lo(b.initMessageHeaders,t,o),b.encodeInitMessageHeaders=!0;const V=u.join("");Q("Connection","Creating WebChannel: "+V,b);const H=d.createWebChannel(V,b);let J=!1,be=!1;const Ze=new l_({Hr:bt=>{be?Q("Connection","Not sending because WebChannel is closed:",bt):(J||(Q("Connection","Opening WebChannel transport."),H.open(),J=!0),Q("Connection","WebChannel sending:",bt),H.send(bt))},Jr:()=>H.close()}),ft=(bt,en,dn)=>{bt.listen(en,Yr=>{try{dn(Yr)}catch(xi){setTimeout(()=>{throw xi},0)}})};return ft(H,jo.EventType.OPEN,()=>{be||Q("Connection","WebChannel transport opened.")}),ft(H,jo.EventType.CLOSE,()=>{be||(be=!0,Q("Connection","WebChannel transport closed"),Ze.io())}),ft(H,jo.EventType.ERROR,bt=>{be||(be=!0,Yt("Connection","WebChannel transport errored:",bt),Ze.io(new Tt(rt.UNAVAILABLE,"The operation could not be completed")))}),ft(H,jo.EventType.MESSAGE,bt=>{var en;if(!be){const dn=bt.data[0];Qt(!!dn);const Yr=dn,xi=Yr.error||(null===(en=Yr[0])||void 0===en?void 0:en.error);if(xi){Q("Connection","WebChannel received error:",xi);const xr=xi.status;let $i=function(ri){const ao=li[ri];if(void 0!==ao)return lh(ao)}(xr),ei=xi.message;void 0===$i&&($i=rt.INTERNAL,ei="Unknown error status: "+xr+" with message "+xi.message),be=!0,Ze.io(new Tt($i,ei)),H.close()}else Q("Connection","WebChannel received:",dn),Ze.ro(dn)}}),ft(g,wa.STAT_EVENT,bt=>{bt.stat===Yo.PROXY?Q("Connection","Detected buffering proxy"):bt.stat===Yo.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ze.so()},0),Ze}}function Nh(){return typeof window<"u"?window:null}function kh(){return typeof document<"u"?document:null}function Lh(i){return new id(i,!0)}class im{constructor(e,t,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&Q("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class d_{constructor(e,t,o,u,d,g,b,V){this.Hs=e,this.vo=o,this.Vo=u,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=b,this.listener=V,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new im(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ve.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ve.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,ve.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(nt(t.toString()),nt("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===rt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new Tt(rt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ve.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h_ extends d_{constructor(e,t,o,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,g),this.It=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function ml(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:Mt(),u=e.targetChange.targetIds||[],d=function(V,H){return V.gt?(Qt(void 0===H||"string"==typeof H),k.fromBase64String(H||"")):(Qt(void 0===H||H instanceof Uint8Array),k.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,b=g&&function(V){const H=void 0===V.code?rt.UNKNOWN:lh(V.code);return new Tt(H,V.message||"")}(g);t=new ph(o,u,d,b||null)}else if("documentChange"in e){const o=e.documentChange,u=Io(i,o.document.name),d=Is(o.document.updateTime),g=new Si({mapValue:{fields:o.document.fields}}),b=Br.newFoundDocument(u,d,g);t=new Ic(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const o=e.documentDelete,u=Io(i,o.document),d=o.readTime?Is(o.readTime):Mn.min(),g=Br.newNoDocument(u,d);t=new Ic([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=Io(i,o.document);t=new Ic([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Mt();{const o=e.filter,d=new Sg(o.count||0);t=new bc(o.targetId,d)}}var V;return t}(this.It,e),o=function(u){if(!("targetChange"in u))return Mn.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Mn.min():d.readTime?Is(d.readTime):Mn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Ou(this.It),t.addTarget=function(u,d){let g;const b=d.target;return g=nl(b)?{documents:Vf(u,b)}:{query:sd(u,b)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=Dc(u,d.resumeToken):d.snapshotVersion.compareTo(Mn.min())>0&&(g.readTime=xu(u,d.snapshotVersion.toTimestamp())),g}(this.It,e);const o=function m(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Ou(this.It),t.removeTarget=e,this.Bo(t)}}class sm extends d_{constructor(e,t,o,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,g),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Ff(i,e){return i&&i.length>0?(Qt(void 0!==e),i.map(t=>function(o,u){let d=Is(o.updateTime?o.updateTime:u);return d.isEqual(Mn.min())&&(d=Is(u)),new ll(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Is(e.commitTime);return this.listener.Zo(o,t)}return Qt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ou(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>ya(this.It,o))};this.Bo(t)}}class qv extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new Tt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ao(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Tt(rt.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection._o(e,t,o,d,g,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Tt(rt.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class p_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(nt(t),this.ou=!1):Q("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class om{constructor(e,t,o,u,d){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(b=>{o.enqueueAndForget((0,ve.Z)(function*(){var V;du(g)&&(Q("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,ve.Z)(function*(H){const J=Ut(H);J._u.add(4),yield Vc(J),J.gu.set("Unknown"),J._u.delete(4),yield rc(J)}),function(H){return V.apply(this,arguments)})(g))}))}),this.gu=new p_(o,u)}}function rc(i){return mp.apply(this,arguments)}function mp(){return mp=(0,ve.Z)(function*(i){if(du(i))for(const e of i.wu)yield e(!0)}),mp.apply(this,arguments)}function Vc(i){return yp.apply(this,arguments)}function yp(){return yp=(0,ve.Z)(function*(i){for(const e of i.wu)yield e(!1)}),yp.apply(this,arguments)}function Fh(i,e){const t=Ut(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),vp(t)?Vh(t):Tl(t).ko()&&_p(t,e))}function Ed(i,e){const t=Ut(i),o=Tl(t);t.du.delete(e),o.ko()&&am(t,e),0===t.du.size&&(o.ko()?o.Fo():du(t)&&t.gu.set("Unknown"))}function _p(i,e){i.yu.Mt(e.targetId),Tl(i).zo(e)}function am(i,e){i.yu.Mt(e),Tl(i).Ho(e)}function Vh(i){i.yu=new cu({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),Tl(i).start(),i.gu.uu()}function vp(i){return du(i)&&!Tl(i).No()&&i.du.size>0}function du(i){return 0===Ut(i)._u.size}function wp(i){i.yu=void 0}function Ep(i){return um.apply(this,arguments)}function um(){return um=(0,ve.Z)(function*(i){i.du.forEach((e,t)=>{_p(i,e)})}),um.apply(this,arguments)}function Ip(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,ve.Z)(function*(i,e){wp(i),vp(i)?(i.gu.hu(e),Vh(i)):i.gu.set("Unknown")}),bp.apply(this,arguments)}function Zv(i,e,t){return ic.apply(this,arguments)}function ic(){return ic=(0,ve.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof ph&&2===e.state&&e.cause)try{yield(o=(0,ve.Z)(function*(u,d){const g=d.cause;for(const b of d.targetIds)u.du.has(b)&&(yield u.remoteSyncer.rejectListen(b,g),u.du.delete(b),u.yu.removeTarget(b))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Id(i,o)}else if(e instanceof Ic?i.yu.Gt(e):e instanceof bc?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(Mn.min()))try{const o=yield em(i.localStore);t.compareTo(o)>=0&&(yield function(u,d){const g=u.yu.te(d);return g.targetChanges.forEach((b,V)=>{if(b.resumeToken.approximateByteSize()>0){const H=u.du.get(V);H&&u.du.set(V,H.withResumeToken(b.resumeToken,d))}}),g.targetMismatches.forEach(b=>{const V=u.du.get(b);if(!V)return;u.du.set(b,V.withResumeToken(k.EMPTY_BYTE_STRING,V.snapshotVersion)),am(u,b);const H=new Qu(V.target,b,1,V.sequenceNumber);_p(u,H)}),u.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){Q("RemoteStore","Failed to raise snapshot:",o),yield Id(i,o)}var o}),ic.apply(this,arguments)}function Id(i,e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,ve.Z)(function*(i,e,t){if(!ca(e))throw e;i._u.add(1),yield Vc(i),i.gu.set("Offline"),t||(t=()=>em(i.localStore)),i.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Q("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield rc(i)}))}),Uh.apply(this,arguments)}function bd(i,e){return e().catch(t=>Id(i,t,e))}function ko(i){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,ve.Z)(function*(i){const e=Ut(i),t=sc(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;g_(e);)try{const u=yield a_(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,Dp(e,u)}catch(u){yield Id(e,u)}hu(e)&&jh(e)}),Bh.apply(this,arguments)}function g_(i){return du(i)&&i.fu.length<10}function Dp(i,e){i.fu.push(e);const t=sc(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function hu(i){return du(i)&&!sc(i).No()&&i.fu.length>0}function jh(i){sc(i).start()}function cm(i){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,ve.Z)(function*(i){sc(i).eu()}),Dd.apply(this,arguments)}function Yv(i){return $h.apply(this,arguments)}function $h(){return $h=(0,ve.Z)(function*(i){const e=sc(i);for(const t of i.fu)e.Xo(t.mutations)}),$h.apply(this,arguments)}function Qv(i,e,t){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,ve.Z)(function*(i,e,t){const o=i.fu.shift(),u=Gf.from(o,e,t);yield bd(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield ko(i)}),Cl.apply(this,arguments)}function Hh(i,e){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,ve.Z)(function*(i,e){var t;e&&sc(i).Yo&&(yield(t=(0,ve.Z)(function*(o,u){if(ed(d=u.code)&&d!==rt.ABORTED){const g=o.fu.shift();sc(o).Mo(),yield bd(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield ko(o)}var d}),function(o,u){return t.apply(this,arguments)})(i,e)),hu(i)&&jh(i)}),Cd.apply(this,arguments)}function Gh(i,e){return Td.apply(this,arguments)}function Td(){return Td=(0,ve.Z)(function*(i,e){const t=Ut(i);t.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const o=du(t);t._u.add(3),yield Vc(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield rc(t)}),Td.apply(this,arguments)}function lm(i,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,ve.Z)(function*(i,e){const t=Ut(i);e?(t._u.delete(2),yield rc(t)):e||(t._u.add(2),yield Vc(t),t.gu.set("Unknown"))}),Cp.apply(this,arguments)}function Tl(i){return i.pu||(i.pu=function(e,t,o){const u=Ut(e);return u.su(),new h_(t,u.connection,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Ep.bind(null,i),Zr:Ip.bind(null,i),Wo:Zv.bind(null,i)}),i.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(i.pu.Mo(),vp(i)?Vh(i):i.gu.set("Unknown")):(yield i.pu.stop(),wp(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function sc(i){return i.Iu||(i.Iu=function(e,t,o){const u=Ut(e);return u.su(),new sm(t,u.connection,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:cm.bind(null,i),Zr:Hh.bind(null,i),tu:Yv.bind(null,i),Zo:Qv.bind(null,i)}),i.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(i.Iu.Mo(),yield ko(i)):(yield i.Iu.stop(),i.fu.length>0&&(Q("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class Tp{constructor(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,u,d){const g=Date.now()+o,b=new Tp(e,t,g,u,d);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tt(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uc(i,e){if(nt("AsyncQueue",`${e}: ${i}`),ca(i))return new Tt(rt.UNAVAILABLE,`${e}: ${i}`);throw i}class Ad{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Vt.comparator(t.key,o.key):(t,o)=>Vt.comparator(t.key,o.key),this.keyedMap=Ec(),this.sortedSet=new Wr(this.comparator)}static emptySet(e){return new Ad(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ad)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Ad;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class dm{constructor(){this.Tu=new Wr(Vt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Mt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Sd{constructor(e,t,o,u,d,g,b,V,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=b,this.excludesMetadataChanges=V,this.hasCachedResults=H}static fromInitialDocuments(e,t,o,u,d){const g=[];return t.forEach(b=>{g.push({type:0,doc:b})}),new Sd(e,t,Ad.emptySet(t),g,o,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class hm{constructor(){this.Au=void 0,this.listeners=[]}}class fm{constructor(){this.queries=new pa(e=>fa(e),ou),this.onlineState="Unknown",this.Ru=new Set}}function Ap(i,e){return xd.apply(this,arguments)}function xd(){return xd=(0,ve.Z)(function*(i,e){const t=Ut(i),o=e.query;let u=!1,d=t.queries.get(o);if(d||(u=!0,d=new hm),u)try{d.Au=yield t.onListen(o)}catch(g){const b=Uc(g,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(b)}t.queries.set(o,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&mm(t)}),xd.apply(this,arguments)}function pm(i,e){return gm.apply(this,arguments)}function gm(){return gm=(0,ve.Z)(function*(i,e){const t=Ut(i),o=e.query;let u=!1;const d=t.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),u=0===d.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),gm.apply(this,arguments)}function Jv(i,e){const t=Ut(i);let o=!1;for(const u of e){const g=t.queries.get(u.query);if(g){for(const b of g.listeners)b.Pu(u)&&(o=!0);g.Au=u}}o&&mm(t)}function Xv(i,e,t){const o=Ut(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);o.queries.delete(e)}function mm(i){i.Ru.forEach(e=>{e.next()})}class ym{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Sd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class ew{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class m_{constructor(e){this.It=e}Ji(e){return Io(this.It,e)}Yi(e){return e.metadata.exists?lu(this.It,e.document,!1):Br.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Is(e)}}class tw{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=y_(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const o=ar.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new m_(this.It);for(const u of e)if(u.metadata.queries){const d=o.Ji(u.metadata.name);for(const g of u.metadata.queries){const b=(t.get(g)||cr()).add(d);t.set(g,b)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function u_(i,e,t,o){return up.apply(this,arguments)}(e.localStore,new m_(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const u of e.queries)yield lr(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function y_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Lu{constructor(e){this.key=e}}class Wh{constructor(e){this.key=e}}class _m{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=cr(),this.mutatedKeys=cr(),this.Gu=Yl(e),this.Qu=new Ad(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new dm,u=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,g=u,b=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((J,be)=>{const Ze=u.get(J),ft=Zl(this.query,be)?be:null,bt=!!Ze&&this.mutatedKeys.has(Ze.key),en=!!ft&&(ft.hasLocalMutations||this.mutatedKeys.has(ft.key)&&ft.hasCommittedMutations);let dn=!1;Ze&&ft?Ze.data.isEqual(ft.data)?bt!==en&&(o.track({type:3,doc:ft}),dn=!0):this.Hu(Ze,ft)||(o.track({type:2,doc:ft}),dn=!0,(V&&this.Gu(ft,V)>0||H&&this.Gu(ft,H)<0)&&(b=!0)):!Ze&&ft?(o.track({type:0,doc:ft}),dn=!0):Ze&&!ft&&(o.track({type:1,doc:Ze}),dn=!0,(V||H)&&(b=!0)),dn&&(ft?(g=g.add(ft),d=en?d.add(J):d.delete(J)):(g=g.delete(J),d=d.delete(J)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const J="F"===this.query.limitType?g.last():g.first();g=g.delete(J.key),d=d.delete(J.key),o.track({type:1,doc:J})}return{Qu:g,zu:o,$i:b,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort((H,J)=>function(be,Ze){const ft=bt=>{switch(bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return ft(be)-ft(Ze)}(H.type,J.type)||this.Gu(H.doc,J.doc)),this.Ju(o);const g=t?this.Yu():[],b=0===this.Ku.size&&this.current?1:0,V=b!==this.qu;return this.qu=b,0!==d.length||V?{snapshot:new Sd(this.query,e.Qu,u,d,e.mutatedKeys,0===b,V,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:g}:{Xu:g}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new dm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=cr(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Wh(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Lu(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=cr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Sd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class vm{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Sp{constructor(e){this.key=e,this.nc=!1}}class wm{constructor(e,t,o,u,d,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.sc={},this.ic=new pa(b=>fa(b),ou),this.rc=new Map,this.oc=new Set,this.uc=new Wr(Vt.comparator),this.cc=new Map,this.ac=new tp,this.hc={},this.lc=new Map,this.fc=Nc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function xp(i,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ve.Z)(function*(i,e){const t=Ma(i);let o,u;const d=t.ic.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),u=d.view.ec();else{const g=yield Lc(t.localStore,Ws(e));t.isPrimaryClient&&Fh(t.remoteStore,g);const b=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield fu(t,e,o,"current"===b,g.resumeToken)}return u}),Mp.apply(this,arguments)}function fu(i,e,t,o,u){return zh.apply(this,arguments)}function zh(){return zh=(0,ve.Z)(function*(i,e,t,o,u){i._c=(be,Ze,ft)=>{return(bt=(0,ve.Z)(function*(en,dn,Yr,xi){let xr=dn.view.Wu(Yr);xr.$i&&(xr=yield xh(en.localStore,dn.query,!1).then(({documents:ri})=>dn.view.Wu(ri,xr)));const $i=xi&&xi.targetChanges.get(dn.targetId),ei=dn.view.applyChanges(xr,en.isPrimaryClient,$i);return Lp(en,dn.targetId,ei.Xu),ei.snapshot}),function(en,dn,Yr,xi){return bt.apply(this,arguments)})(i,be,Ze,ft);var bt};const d=yield xh(i.localStore,e,!0),g=new _m(e,d.Hi),b=g.Wu(d.documents),V=na.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),H=g.applyChanges(b,i.isPrimaryClient,V);Lp(i,t,H.Xu);const J=new vm(e,t,g);return i.ic.set(e,J),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),H.snapshot}),zh.apply(this,arguments)}function __(i,e){return Op.apply(this,arguments)}function Op(){return Op=(0,ve.Z)(function*(i,e){const t=Ut(i),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(d=>!ou(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield bl(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Ed(t.remoteStore,o.targetId),xl(t,o.targetId)}).catch(ua))):(xl(t,o.targetId),yield bl(t.localStore,o.targetId,!0))}),Op.apply(this,arguments)}function Rp(){return Rp=(0,ve.Z)(function*(i,e,t){const o=Pd(i);try{const u=yield function(d,g){const b=Ut(d),V=er.now(),H=g.reduce((Ze,ft)=>Ze.add(ft.key),cr());let J,be;return b.persistence.runTransaction("Locally write mutations","readwrite",Ze=>{let ft=No(),bt=cr();return b.Gi.getEntries(Ze,H).next(en=>{ft=en,ft.forEach((dn,Yr)=>{Yr.isValidDocument()||(bt=bt.add(dn))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ze,ft)).next(en=>{J=en;const dn=[];for(const Yr of g){const xi=kf(Yr,J.get(Yr.key).overlayedDocument);null!=xi&&dn.push(new Eo(Yr.key,xi,ha(xi.value.mapValue),Vi.exists(!0)))}return b.mutationQueue.addMutationBatch(Ze,V,dn,g)}).next(en=>{be=en;const dn=en.applyToLocalDocumentSet(J,bt);return b.documentOverlayCache.saveOverlays(Ze,en.batchId,dn)})}).then(()=>({batchId:be.batchId,changes:Yu(J)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,g,b){let V=d.hc[d.currentUser.toKey()];V||(V=new Wr(Fn)),V=V.insert(g,b),d.hc[d.currentUser.toKey()]=V}(o,u.batchId,t),yield pu(o,u.changes),yield ko(o.remoteStore)}catch(u){const d=Uc(u,"Failed to persist write");t.reject(d)}}),Rp.apply(this,arguments)}function Im(i,e){return Al.apply(this,arguments)}function Al(){return Al=(0,ve.Z)(function*(i,e){const t=Ut(i);try{const o=yield o_(t.localStore,e);e.targetChanges.forEach((u,d)=>{const g=t.cc.get(d);g&&(Qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.nc=!0:u.modifiedDocuments.size>0?Qt(g.nc):u.removedDocuments.size>0&&(Qt(g.nc),g.nc=!1))}),yield pu(t,o,e)}catch(o){yield ua(o)}}),Al.apply(this,arguments)}function Bc(i,e,t){const o=Ut(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((d,g)=>{const b=g.view.bu(e);b.snapshot&&u.push(b.snapshot)}),function(d,g){const b=Ut(d);b.onlineState=g;let V=!1;b.queries.forEach((H,J)=>{for(const be of J.listeners)be.bu(g)&&(V=!0)}),V&&mm(b)}(o.eventManager,e),u.length&&o.sc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Pp(i,e,t){return oc.apply(this,arguments)}function oc(){return oc=(0,ve.Z)(function*(i,e,t){const o=Ut(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),d=u&&u.key;if(d){let g=new Wr(Vt.comparator);g=g.insert(d,Br.newNoDocument(d,Mn.min()));const b=cr().add(d),V=new uu(Mn.min(),new Map,new Fr(Fn),g,b);yield Im(o,V),o.uc=o.uc.remove(d),o.cc.delete(e),Fp(o)}else yield bl(o.localStore,e,!1).then(()=>xl(o,e,t)).catch(ua)}),oc.apply(this,arguments)}function Np(i,e){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,ve.Z)(function*(i,e){const t=Ut(i),o=e.batch.batchId;try{const u=yield Xg(t.localStore,e);Od(t,o,null),qh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield pu(t,u)}catch(u){yield ua(u)}}),Sl.apply(this,arguments)}function bm(i,e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,ve.Z)(function*(i,e,t){const o=Ut(i);try{const u=yield function(d,g){const b=Ut(d);return b.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let H;return b.mutationQueue.lookupMutationBatch(V,g).next(J=>(Qt(null!==J),H=J.keys(),b.mutationQueue.removeMutationBatch(V,J))).next(()=>b.mutationQueue.performConsistencyCheck(V)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(V,H,g)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,H)).next(()=>b.localDocuments.getDocuments(V,H))})}(o.localStore,e);Od(o,e,t),qh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield pu(o,u)}catch(u){yield ua(u)}}),Kh.apply(this,arguments)}function Md(){return Md=(0,ve.Z)(function*(i,e){const t=Ut(i);du(t.remoteStore)||Q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const g=Ut(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>g.mutationQueue.getHighestUnacknowledgedBatchId(b))}(t.localStore);if(-1===o)return void e.resolve();const u=t.lc.get(o)||[];u.push(e),t.lc.set(o,u)}catch(o){const u=Uc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Md.apply(this,arguments)}function qh(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Od(i,e,t){const o=Ut(i);let u=o.hc[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function xl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||v_(i,o)})}function v_(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Ed(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Fp(i))}function Lp(i,e,t){for(const o of t)o instanceof Lu?(i.ac.addReference(o.key,e),Dm(i,o)):o instanceof Wh?(Q("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||v_(i,o.key)):Mt()}function Dm(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Q("SyncEngine","New document in limbo: "+t),i.oc.add(o),Fp(i))}function Fp(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Vt(ar.fromString(e)),o=i.fc.next();i.cc.set(o,new Sp(t)),i.uc=i.uc.insert(t,o),Fh(i.remoteStore,new Qu(Ws(yc(t.path)),o,2,ms.at))}}function pu(i,e,t){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,ve.Z)(function*(i,e,t){const o=Ut(i),u=[],d=[],g=[];var b;o.ic.isEmpty()||(o.ic.forEach((b,V)=>{g.push(o._c(V,e,t).then(H=>{if((H||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,H?.fromCache?"not-current":"current"),H){u.push(H);const J=Sh.Ci(V.targetId,H);d.push(J)}}))}),yield Promise.all(g),o.sc.Wo(u),yield(b=(0,ve.Z)(function*(V,H){const J=Ut(V);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",be=>tt.forEach(H,Ze=>tt.forEach(Ze.Si,ft=>J.persistence.referenceDelegate.addReference(be,Ze.targetId,ft)).next(()=>tt.forEach(Ze.Di,ft=>J.persistence.referenceDelegate.removeReference(be,Ze.targetId,ft)))))}catch(be){if(!ca(be))throw be;Q("LocalStore","Failed to update sequence numbers: "+be)}for(const be of H){const Ze=be.targetId;if(!be.fromCache){const ft=J.Ui.get(Ze),en=ft.withLastLimboFreeSnapshotVersion(ft.snapshotVersion);J.Ui=J.Ui.insert(Ze,en)}}}),function(V,H){return b.apply(this,arguments)})(o.localStore,d))}),Zh.apply(this,arguments)}function w_(i,e){return Go.apply(this,arguments)}function Go(){return Go=(0,ve.Z)(function*(i,e){const t=Ut(i);if(!t.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const o=yield ip(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(g=>{g.forEach(b=>{b.reject(new Tt(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield pu(t,o.ji)}var u}),Go.apply(this,arguments)}function Cm(i,e){const t=Ut(i),o=t.cc.get(e);if(o&&o.nc)return cr().add(o.key);{let u=cr();const d=t.rc.get(e);if(!d)return u;for(const g of d){const b=t.ic.get(g);u=u.unionWith(b.view.ju)}return u}}function E_(i,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,ve.Z)(function*(i,e){const t=Ut(i),o=yield xh(t.localStore,e.query,!0),u=e.view.tc(o);return t.isPrimaryClient&&Lp(t,e.targetId,u.Xu),u}),Tm.apply(this,arguments)}function I_(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,ve.Z)(function*(i,e){const t=Ut(i);return ap(t.localStore,e).then(o=>pu(t,o))}),Rd.apply(this,arguments)}function Am(i,e,t,o){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,ve.Z)(function*(i,e,t,o){const u=Ut(i),d=yield function(g,b){const V=Ut(g),H=Ut(V.mutationQueue);return V.persistence.runTransaction("Lookup mutation documents","readonly",J=>H.Tn(J,b).next(be=>be?V.localDocuments.getDocuments(J,be):tt.resolve(null)))}(u.localStore,e);var b;null!==d?("pending"===t?yield ko(u.remoteStore):"acknowledged"===t||"rejected"===t?(Od(u,e,o||null),qh(u,e),b=e,Ut(Ut(u.localStore).mutationQueue).An(b)):Mt(),yield pu(u,d)):Q("SyncEngine","Cannot apply mutation batch with id: "+e)}),Vp.apply(this,arguments)}function Up(){return Up=(0,ve.Z)(function*(i,e){const t=Ut(i);if(Ma(t),Pd(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Bp(t,o.toArray());t.dc=!0,yield lm(t.remoteStore,!0);for(const d of u)Fh(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const o=[];let u=Promise.resolve();t.rc.forEach((d,g)=>{t.sharedClientState.isLocalQueryTarget(g)?o.push(g):u=u.then(()=>(xl(t,g),bl(t.localStore,g,!0))),Ed(t.remoteStore,g)}),yield u,yield Bp(t,o),function(d){const g=Ut(d);g.cc.forEach((b,V)=>{Ed(g.remoteStore,V)}),g.ac.fs(),g.cc=new Map,g.uc=new Wr(Vt.comparator)}(t),t.dc=!1,yield lm(t.remoteStore,!1)}}),Up.apply(this,arguments)}function Bp(i,e,t){return jp.apply(this,arguments)}function jp(){return jp=(0,ve.Z)(function*(i,e,t){const o=Ut(i),u=[],d=[];for(const g of e){let b;const V=o.rc.get(g);if(V&&0!==V.length){b=yield Lc(o.localStore,Ws(V[0]));for(const H of V){const J=o.ic.get(H),be=yield E_(o,J);be.snapshot&&d.push(be.snapshot)}}else{const H=yield tm(o.localStore,g);b=yield Lc(o.localStore,H),yield fu(o,$p(H),g,!1,b.resumeToken)}u.push(b)}return o.sc.Wo(d),u}),jp.apply(this,arguments)}function $p(i){return Of(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function D_(i){const e=Ut(i);return Ut(Ut(e.localStore).persistence).vi()}function C_(i,e,t,o){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,ve.Z)(function*(i,e,t,o){const u=Ut(i);if(u.dc)return void Q("SyncEngine","Ignoring unexpected query state notification.");const d=u.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const g=yield ap(u.localStore,al(d[0])),b=uu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,k.EMPTY_BYTE_STRING);yield pu(u,g,b);break}case"rejected":yield bl(u.localStore,e,!0),xl(u,e,o);break;default:Mt()}}),Yh.apply(this,arguments)}function Sm(i,e,t){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,ve.Z)(function*(i,e,t){const o=Ma(i);if(o.dc){for(const u of e){if(o.rc.has(u)){Q("SyncEngine","Adding an already active target "+u);continue}const d=yield tm(o.localStore,u),g=yield Lc(o.localStore,d);yield fu(o,$p(d),g.targetId,!1,g.resumeToken),Fh(o.remoteStore,g)}for(const u of t)o.rc.has(u)&&(yield bl(o.localStore,u,!1).then(()=>{Ed(o.remoteStore,u),xl(o,u)}).catch(ua))}}),Hp.apply(this,arguments)}function Ma(i){const e=Ut(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Im.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pp.bind(null,e),e.sc.Wo=Jv.bind(null,e.eventManager),e.sc.wc=Xv.bind(null,e.eventManager),e}function Pd(i){const e=Ut(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Np.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bm.bind(null,e),e}class xm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.It=Lh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return s_(this.persistence,new i_,e.initialUser,this.It)}yc(e){return new Yg(Ah.Bs,this.It)}gc(e){return new c_}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class A_ extends xm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ve.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield Pd(o.Ac.syncEngine),yield ko(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return s_(this.persistence,new i_,e.initialUser,this.It)}Tc(e,t){return new Wg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new ea(t,this.persistence);return new ba(e.asyncQueue,o)}yc(e){const t=Qg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?zs.withCacheSize(this.cacheSizeBytes):zs.DEFAULT;return new np(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Nh(),kh(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new c_}}class Mm extends A_{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ve.Z)(function*(){yield t().call(o,e);const u=o.Ac.syncEngine;o.sharedClientState instanceof fp&&(o.sharedClientState.syncEngine={Fr:Am.bind(null,u),$r:C_.bind(null,u),Br:Sm.bind(null,u),vi:D_.bind(null,u),Mr:I_.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var d=(0,ve.Z)(function*(g){yield function b_(i,e){return Up.apply(this,arguments)}(o.Ac.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}gc(e){const t=Nh();if(!fp.C(t))throw new Tt(rt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Qg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fp(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Gp{initialize(e,t){var o=this;return(0,ve.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Bc(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=w_.bind(null,o.syncEngine),yield lm(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fm}createDatastore(e){const t=Lh(e.databaseInfo.databaseId),o=new gp(e.databaseInfo);return new qv(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=b=>Bc(this.syncEngine,b,0),g=pp.C()?new pp:new rm,new om(t,o,u,d,g);var t,o,u,d,g}createSyncEngine(e,t){return function(o,u,d,g,b,V,H){const J=new wm(o,u,d,g,b,V);return H&&(J.dc=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const o=Ut(t);Q("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Vc(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Wp(i,e,t){if(!t)throw new Tt(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Om(i,e,t,o){if(!0===e&&!0===o)throw new Tt(rt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Qh(i){if(!Vt.isDocumentKey(i))throw new Tt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Rm(i){if(Vt.isDocumentKey(i))throw new Tt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Mt()}function Dr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Tt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jh(i);throw new Tt(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Xh(i,e){if(e<=0)throw new Tt(rt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const Nd=new Map;class S_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Tt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Tt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Om("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jc{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Tt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Tt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Za;switch(t.type){case"gapi":return new ka(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Tt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nd.get(e);t&&(Q("ComponentProvider","Removing Datastore"),Nd.delete(e),t.terminate())}(this),Promise.resolve()}}class Bi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bi(this.firestore,e,this._key)}}class Do{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class za extends Do{constructor(e,t,o){super(e,t,yc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new Vt(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function zp(i,e,...t){if(i=(0,Fe.m9)(i),Wp("collection","path",e),i instanceof jc){const o=ar.fromString(e,...t);return Rm(o),new za(i,null,o)}{if(!(i instanceof Bi||i instanceof za))throw new Tt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ar.fromString(e,...t));return Rm(o),new za(i.firestore,null,o)}}function Oa(i,e,...t){if(i=(0,Fe.m9)(i),1===arguments.length&&(e=La.R()),Wp("doc","path",e),i instanceof jc){const o=ar.fromString(e,...t);return Qh(o),new Bi(i,null,new Vt(o))}{if(!(i instanceof Bi||i instanceof za))throw new Tt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ar.fromString(e,...t));return Qh(o),new Bi(i.firestore,i instanceof za?i.converter:null,new Vt(o))}}function kd(i,e){return i=(0,Fe.m9)(i),e=(0,Fe.m9)(e),(i instanceof Bi||i instanceof za)&&(e instanceof Bi||e instanceof za)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Ml(i,e){return i=(0,Fe.m9)(i),e=(0,Fe.m9)(e),i instanceof Do&&e instanceof Do&&i.firestore===e.firestore&&ou(i._query,e._query)&&i.converter===e.converter}function Ol(i,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ef{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):nt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class qp{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Ei,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),u=Number(o);isNaN(u)&&e.Dc(`length string (${o}) is not valid number`);const d=yield e.Cc(u);return new ew(JSON.parse(d),t.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ve.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Ld{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Tt(rt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,ve.Z)(function*(d,g){const b=Ut(d),V=Ou(b.It)+"/documents",H={documents:g.map(ft=>Mu(b.It,ft))},J=yield b._o("BatchGetDocuments",V,H,g.length),be=new Map;J.forEach(ft=>{const bt=function Ac(i,e){return"found"in e?function(t,o){Qt(!!o.found);const u=Io(t,o.found.name),d=Is(o.found.updateTime),g=new Si({mapValue:{fields:o.found.fields}});return Br.newFoundDocument(u,d,g)}(i,e):"missing"in e?function(t,o){Qt(!!o.missing),Qt(!!o.readTime);const u=Io(t,o.missing),d=Is(o.readTime);return Br.newNoDocument(u,d)}(i,e):Mt()}(b.It,ft);be.set(bt.key.toString(),bt)});const Ze=[];return g.forEach(ft=>{const bt=be.get(ft.toString());Qt(!!bt),Ze.push(bt)}),Ze}),function(d,g){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Aa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const d=Vt.fromPath(u);e.mutations.push(new dl(d,e.precondition(d)))}),yield(o=(0,ve.Z)(function*(u,d){const g=Ut(u),b=Ou(g.It)+"/documents",V={writes:d.map(H=>ya(g.It,H))};yield g.ao("Commit",b,V)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mt();t=Mn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Tt(rt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mn.min())?Vi.exists(!1):Vi.updateTime(t):Vi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mn.min()))throw new Tt(rt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(t)}return Vi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class P_{constructor(e,t,o,u,d){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=d,this.kc=o.maxAttempts,this.xo=new im(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ve.Z)(function*(){const t=new Ld(e.datastore),o=e.Mc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Fc(d)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!Os(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ed(t)}return!1}}class nw{constructor(e,t,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=wi.UNAUTHENTICATED,this.clientId=La.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,ve.Z)(function*(b){Q("FirestoreClient","Received user=",b.uid),yield d.authCredentialListener(b),d.user=b});return function(b){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Q("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Tt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Uc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Pm(i,e){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,ve.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,ve.Z)(function*(d){o.isEqual(d)||(yield ip(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Nm.apply(this,arguments)}function km(i,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ve.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Yp(i);Q("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Gh(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>Gh(e.remoteStore,d)),i.onlineComponents=e}),Zp.apply(this,arguments)}function Yp(i){return tf.apply(this,arguments)}function tf(){return tf=(0,ve.Z)(function*(i){return i.offlineComponents||(Q("FirestoreClient","Using default OfflineComponentProvider"),yield Pm(i,new xm)),i.offlineComponents}),tf.apply(this,arguments)}function Rl(i){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,ve.Z)(function*(i){return i.onlineComponents||(Q("FirestoreClient","Using default OnlineComponentProvider"),yield km(i,new Gp)),i.onlineComponents}),Qp.apply(this,arguments)}function nf(i){return Yp(i).then(e=>e.persistence)}function rf(i){return Yp(i).then(e=>e.localStore)}function Jp(i){return Rl(i).then(e=>e.remoteStore)}function Xp(i){return Rl(i).then(e=>e.syncEngine)}function Pl(i){return eg.apply(this,arguments)}function eg(){return eg=(0,ve.Z)(function*(i){const e=yield Rl(i),t=e.eventManager;return t.onListen=xp.bind(null,e.syncEngine),t.onUnlisten=__.bind(null,e.syncEngine),t}),eg.apply(this,arguments)}function Nl(i,e,t={}){const o=new Ei;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(u,d,g,b,V){const H=new ef({next:be=>{d.enqueueAndForget(()=>pm(u,J));const Ze=be.docs.has(g);!Ze&&be.fromCache?V.reject(new Tt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ze&&be.fromCache&&b&&"server"===b.source?V.reject(new Tt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(be)},error:be=>V.reject(be)}),J=new ym(yc(g.path),H,{includeMetadataChanges:!0,Nu:!0});return Ap(u,J)}(yield Pl(i),i.asyncQueue,e,t,o)})),o.promise}function Fm(i,e,t={}){const o=new Ei;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(u,d,g,b,V){const H=new ef({next:be=>{d.enqueueAndForget(()=>pm(u,J)),be.fromCache&&"server"===b.source?V.reject(new Tt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(be)},error:be=>V.reject(be)}),J=new ym(g,H,{includeMetadataChanges:!0,Nu:!0});return Ap(u,J)}(yield Pl(i),i.asyncQueue,e,t,o)})),o.promise}class Fd{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new im(this,"async_queue_retry"),this.Wc=()=>{const t=kh();t&&Q("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=kh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=kh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ei;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ca(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,nt("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=Tp.createAndSchedule(this,e,t,o,d=>this.Yc(d));return this.qc.push(u),u}zc(){this.Kc&&Mt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function fo(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Hc{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ei,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class jr extends jc{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Fd,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gc(this),this._firestoreClient.terminate()}}function ji(i){return i._firestoreClient||Gc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Gc(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Yn(i._databaseId,d,i._persistenceKey,(b=t).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var d,b;i._firestoreClient=new nw(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Wc(i,e,t){const o=new Ei;return i.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield Pm(i,t),yield km(i,e),o.resolve()}catch(u){const d=u;if(!("FirebaseError"===(g=d).name?g.code===rt.FAILED_PRECONDITION||g.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;Yt("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var g})).then(()=>o.promise)}function ng(i){if(i._initialized||i._terminated)throw new Tt(rt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ka(k.fromBase64String(e))}catch(t){throw new Tt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ka(k.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Tt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ac{constructor(e){this._methodName=e}}class uf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Tt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Tt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}const V_=/^__.*__$/;class $m{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tu(e,this.data,t,this.fieldTransforms)}}class Hm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Eo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class Bl{constructor(e,t,o,u,d,g){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=u,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Bl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return jd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Gm(this.sa)&&V_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class rg{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Lh(e)}da(e,t,o,u=!1){return new Bl({sa:e,methodName:t,fa:o,path:wr.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function zc(i){const e=i._freezeSettings(),t=Lh(i._databaseId);return new rg(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Kc(i,e,t,o,u,d={}){const g=i.da(d.merge||d.mergeFields?2:0,e,t,u);cg("Data must be an object, but it was:",g,o);const b=df(o,g);let V,H;if(d.merge)V=new _(g.fieldMask),H=g.fieldTransforms;else if(d.mergeFields){const J=[];for(const be of d.mergeFields){const Ze=hf(e,be,t);if(!g.contains(Ze))throw new Tt(rt.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);Km(J,Ze)||J.push(Ze)}V=new _(J),H=g.fieldTransforms.filter(be=>V.covers(be.field))}else V=null,H=g.fieldTransforms;return new $m(new Si(b),V,H)}class uc extends ac{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uc}}function cf(i,e,t){return new Bl({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class ig extends ac{_toFieldTransform(e){return new Ku(e.path,new au)}isEqual(e){return e instanceof ig}}class sg extends ac{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=cf(this,e,!0),o=this._a.map(d=>cc(d,t)),u=new Du(o);return new Ku(e.path,u)}isEqual(e){return this===e}}class og extends ac{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=cf(this,e,!0),o=this._a.map(d=>cc(d,t)),u=new ss(o);return new Ku(e.path,u)}isEqual(e){return this===e}}class Wm extends ac{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new ja(e.It,sh(e.It,this.wa));return new Ku(e.path,t)}isEqual(e){return this===e}}function lf(i,e,t,o){const u=i.da(1,e,t);cg("Data must be an object, but it was:",u,o);const d=[],g=Si.empty();vo(o,(V,H)=>{const J=Bd(e,V,t);H=(0,Fe.m9)(H);const be=u.ca(J);if(H instanceof uc)d.push(J);else{const Ze=cc(H,be);null!=Ze&&(d.push(J),g.set(J,Ze))}});const b=new _(d);return new Hm(g,b,u.fieldTransforms)}function Ud(i,e,t,o,u,d){const g=i.da(1,e,t),b=[hf(e,o,t)],V=[u];if(d.length%2!=0)throw new Tt(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<d.length;Ze+=2)b.push(hf(e,d[Ze])),V.push(d[Ze+1]);const H=[],J=Si.empty();for(let Ze=b.length-1;Ze>=0;--Ze)if(!Km(H,b[Ze])){const ft=b[Ze];let bt=V[Ze];bt=(0,Fe.m9)(bt);const en=g.ca(ft);if(bt instanceof uc)H.push(ft);else{const dn=cc(bt,en);null!=dn&&(H.push(ft),J.set(ft,dn))}}const be=new _(H);return new Hm(J,be,g.fieldTransforms)}function ag(i,e,t,o=!1){return cc(t,i.da(o?4:3,e))}function cc(i,e){if(ug(i=(0,Fe.m9)(i)))return cg("Unsupported field value:",e,i),df(i,e);if(i instanceof ac)return function(t,o){if(!Gm(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let d=0;for(const g of t){let b=cc(g,o.aa(d));null==b&&(b={nullValue:"NULL_VALUE"}),u.push(b),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,Fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sh(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=er.fromDate(t);return{timestampValue:xu(o.It,u)}}if(t instanceof er){const u=new er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xu(o.It,u)}}if(t instanceof uf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ka)return{bytesValue:Dc(o.It,t._byteString)};if(t instanceof Bi){const u=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw o.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Jh(t)}`)}(i,e)}function df(i,e){const t={};return da(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(i,(o,u)=>{const d=cc(u,e.ra(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function ug(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof er||i instanceof uf||i instanceof Ka||i instanceof Bi||i instanceof ac)}function cg(i,e,t){if(!ug(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Jh(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function hf(i,e,t){if((e=(0,Fe.m9)(e))instanceof mu)return e._internalPath;if("string"==typeof e)return Bd(i,e);throw jd("Field path arguments must be of type string or ",i,!1,void 0,t)}const zm=new RegExp("[~\\*/\\[\\]]");function Bd(i,e,t){if(e.search(zm)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new mu(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function jd(i,e,t,o,u){const d=o&&!o.isEmpty(),g=void 0!==u;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let V="";return(d||g)&&(V+=" (found",d&&(V+=` in field ${o}`),g&&(V+=` in document ${u}`),V+=")"),new Tt(rt.INVALID_ARGUMENT,b+i+V)}function Km(i,e){return i.some(t=>t.isEqual(e))}class $d{constructor(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new U_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class U_ extends $d{data(){return super.data()}}function Hd(i,e){return"string"==typeof e?Bd(i,e):e instanceof mu?e._internalPath:e._delegate._internalPath}function ff(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Tt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jl{}function Fu(i,...e){for(const t of e)i=t._apply(i);return i}class qm extends jl{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=zc(e.firestore),o=function(u,d,g,b,V,H,J){let be;if(V.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Tt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){dg(J,H);const ft=[];for(const bt of J)ft.push(iy(b,u,bt));be={arrayValue:{values:ft}}}else be=iy(b,u,J)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||dg(J,H),be=ag(g,"where",J,"in"===H||"not-in"===H);const Ze=Gs.create(V,H,be);return function(ft,bt){if(bt.dt()){const dn=ql(ft);if(null!==dn&&!dn.isEqual(bt.field))throw new Tt(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${dn.toString()}' and '${bt.field.toString()}'`);const Yr=rh(ft);null!==Yr&&sy(0,bt.field,Yr)}const en=function(dn,Yr){for(const xi of dn.filters)if(Yr.indexOf(xi.op)>=0)return xi.op;return null}(ft,function(dn){switch(dn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(bt.op));if(null!==en)throw new Tt(rt.INVALID_ARGUMENT,en===bt.op?`Invalid query. You cannot use more than one '${bt.op.toString()}' filter.`:`Invalid query. You cannot use '${bt.op.toString()}' filters with '${en.toString()}' filters.`)}(u,Ze),Ze}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Do(e.firestore,e.converter,function(u,d){const g=u.filters.concat([d]);return new iu(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class Ym extends jl{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,u,d){if(null!==o.startAt)throw new Tt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Tt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new ru(u,d);return function(b,V){if(null===rh(b)){const H=ql(b);null!==H&&sy(0,H,V.field)}}(o,g),g}(e._query,this.ma,this.pa);return new Do(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new iu(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class lg extends jl{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new Do(e.firestore,e.converter,_c(e._query,this.Ia,this.Ta))}}class Xm extends jl{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=ry(e,this.type,this.Ea,this.Aa);return new Do(e.firestore,e.converter,(u=t,new iu((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class ty extends jl{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=ry(e,this.type,this.Ea,this.Aa);return new Do(e.firestore,e.converter,(u=t,new iu((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function ry(i,e,t,o){if(t[0]=(0,Fe.m9)(t[0]),t[0]instanceof $d)return function(u,d,g,b,V){if(!b)throw new Tt(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const H=[];for(const J of su(u))if(J.field.isKeyField())H.push($t(d,b.key));else{const be=b.data.field(J.field);if(Ft(be))throw new Tt(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+J.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===be){const Ze=J.field.canonicalString();throw new Tt(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ze}' (used as the orderBy) does not exist.`)}H.push(be)}return new nu(H,V)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=zc(i.firestore);return function(d,g,b,V,H,J){const be=d.explicitOrderBy;if(H.length>be.length)throw new Tt(rt.INVALID_ARGUMENT,`Too many arguments provided to ${V}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ze=[];for(let ft=0;ft<H.length;ft++){const bt=H[ft];if(be[ft].field.isKeyField()){if("string"!=typeof bt)throw new Tt(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${V}(), but got a ${typeof bt}`);if(!sl(d)&&-1!==bt.indexOf("/"))throw new Tt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${V}() must be a plain document ID, but '${bt}' contains a slash.`);const en=d.path.child(ar.fromString(bt));if(!Vt.isDocumentKey(en))throw new Tt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${V}() must result in a valid document path, but '${en}' is not because it contains an odd number of segments.`);const dn=new Vt(en);Ze.push($t(g,dn))}else{const en=ag(b,V,bt);Ze.push(en)}}return new nu(Ze,J)}(i._query,i.firestore._databaseId,u,e,t,o)}}function iy(i,e,t){if("string"==typeof(t=(0,Fe.m9)(t))){if(""===t)throw new Tt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sl(e)&&-1!==t.indexOf("/"))throw new Tt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(ar.fromString(t));if(!Vt.isDocumentKey(o))throw new Tt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return $t(i,new Vt(o))}if(t instanceof Bi)return $t(i,t._key);throw new Tt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(t)}.`)}function dg(i,e){if(!Array.isArray(i)||0===i.length)throw new Tt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Tt(rt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sy(i,e,t){if(!t.isEqual(e))throw new Tt(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class pf{convertValue(e,t="none"){switch(R(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(it(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mt()}}convertObject(e,t){const o={};return vo(e.fields,(u,d)=>{o[u]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new uf(me(e.latitude),me(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Tn(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(an(e));default:return null}}convertTimestamp(e){const t=ue(e);return new er(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=ar.fromString(e);Qt(hn(o));const u=new Ii(o.get(1),o.get(3)),d=new Vt(o.popFirst(5));return u.isEqual(t)||nt(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Gd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class $l extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}class qc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vu extends $d{constructor(e,t,o,u,d,g){super(e,t,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Hd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Hl extends Vu{data(e={}){return super.data(e)}}class lc{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new qc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Hl(this._firestore,this._userDataWriter,o.key,o,new qc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Tt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Hl(o._firestore,o._userDataWriter,g.doc.key,g.doc,new qc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const b=new Hl(o._firestore,o._userDataWriter,g.doc.key,g.doc,new qc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,H=-1;return 0!==g.type&&(V=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),H=d.indexOf(g.doc.key)),{type:oy(g.type),doc:b,oldIndex:V,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function j_(i,e){return i instanceof Vu&&e instanceof Vu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof lc&&e instanceof lc&&i._firestore===e._firestore&&Ml(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class yu extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}function Ra(i,e,t){i=Dr(i,Bi);const o=Dr(i.firestore,jr),u=Gd(i.converter,e,t);return Gl(o,[Kc(zc(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Vi.none())])}function hg(i,e,t,...o){i=Dr(i,Bi);const u=Dr(i.firestore,jr),d=zc(u);let g;return g="string"==typeof(e=(0,Fe.m9)(e))||e instanceof mu?Ud(d,"updateDoc",i._key,e,t,o):lf(d,"updateDoc",i._key,e),Gl(u,[g.toMutation(i._key,Vi.exists(!0))])}function cy(i,...e){var t,o,u;i=(0,Fe.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||fo(e[g])||(d=e[g],g++);const b={includeMetadataChanges:d.includeMetadataChanges};if(fo(e[g])){const be=e[g];e[g]=null===(t=be.next)||void 0===t?void 0:t.bind(be),e[g+1]=null===(o=be.error)||void 0===o?void 0:o.bind(be),e[g+2]=null===(u=be.complete)||void 0===u?void 0:u.bind(be)}let V,H,J;if(i instanceof Bi)H=Dr(i.firestore,jr),J=yc(i._key.path),V={next:be=>{e[g]&&e[g](Wd(H,i,be))},error:e[g+1],complete:e[g+2]};else{const be=Dr(i,Do);H=Dr(be.firestore,jr),J=be._query;const Ze=new yu(H);V={next:ft=>{e[g]&&e[g](new lc(H,Ze,be,ft))},error:e[g+1],complete:e[g+2]},ff(i._query)}return function(be,Ze,ft,bt){const en=new ef(bt),dn=new ym(Ze,en,ft);return be.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Ap(yield Pl(be),dn)})),()=>{en.bc(),be.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return pm(yield Pl(be),dn)}))}}(ji(H),J,b,V)}function Gl(i,e){return function(t,o){const u=new Ei;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Em(i,e,t){return Rp.apply(this,arguments)}(yield Xp(t),o,u)})),u.promise}(ji(i),e)}function Wd(i,e,t){const o=t.docs.get(e._key),u=new yu(i);return new Vu(i,u,e._key,o,new qc(t.hasPendingWrites,t.fromCache),e.converter)}const ly={maxAttempts:5};class dy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zc(e)}set(e,t,o){this._verifyNotCommitted();const u=Uu(e,this._firestore),d=Gd(u.converter,t,o),g=Kc(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,Vi.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const d=Uu(e,this._firestore);let g;return g="string"==typeof(t=(0,Fe.m9)(t))||t instanceof mu?Ud(this._dataReader,"WriteBatch.update",d._key,t,o,u):lf(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(g.toMutation(d._key,Vi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uu(e,this._firestore);return this._mutations=this._mutations.concat(new Aa(t._key,Vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uu(i,e){if((i=(0,Fe.m9)(i)).firestore!==e)throw new Tt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class hy extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=zc(e)}get(e){const t=Uu(e,this._firestore),o=new $l(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return Mt();const d=u[0];if(d.isFoundDocument())return new $d(this._firestore,o,d.key,d,t.converter);if(d.isNoDocument())return new $d(this._firestore,o,t._key,null,t.converter);throw Mt()})}set(e,t,o){const u=Uu(e,this._firestore),d=Gd(u.converter,t,o),g=Kc(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,g),this}update(e,t,o,...u){const d=Uu(e,this._firestore);let g;return g="string"==typeof(t=(0,Fe.m9)(t))||t instanceof mu?Ud(this._dataReader,"Transaction.update",d._key,t,o,u):lf(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,g),this}delete(e){const t=Uu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uu(e,this._firestore),o=new yu(this._firestore);return super.get(e).then(u=>new Vu(this._firestore,o,t._key,u._document,new qc(!1,!1),t.converter))}}function _f(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Tt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function gg(){if(typeof Uint8Array>"u")throw new Tt("unimplemented","Uint8Arrays are not available in this environment.")}function mg(){if(!function M(){return typeof atob<"u"}())throw new Tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){qr=Et.SDK_VERSION,(0,Et._registerComponent)(new Xe.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const d=t.getProvider("app").getImmediate(),g=new jr(new Na(t.getProvider("auth-internal")),new $o(t.getProvider("app-check-internal")),function(b,V){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new Tt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ii(b.options.projectId,V)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,Et.registerVersion)(Ea,"3.7.3",i),(0,Et.registerVersion)(Ea,"3.7.3","esm2017")}();class zd{constructor(e){this._delegate=e}static fromBase64String(e){return mg(),new zd(Ka.fromBase64String(e))}static fromUint8Array(e){return gg(),new zd(Ka.fromUint8Array(e))}toBase64(){return mg(),this._delegate.toBase64()}toUint8Array(){return gg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yg(i){return function Z_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Y_{enableIndexedDbPersistence(e,t){return function kl(i,e){ng(i=Dr(i,jr));const t=ji(i),o=i._freezeSettings(),u=new Gp;return Wc(t,u,new A_(u,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ll(i){ng(i=Dr(i,jr));const e=ji(i),t=i._freezeSettings(),o=new Gp;return Wc(e,o,new Mm(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Fl(i){if(i._initialized&&!i._terminated)throw new Tt(rt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ei;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(o){if(!Zr.C())return Promise.resolve();const u=o+"main";yield Zr.delete(u)}),function(o){return t.apply(this,arguments)})(Qg(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class yy{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ii||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yt("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function x_(i,e,t,o={}){var u;const d=(i=Dr(i,jc))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Yt("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,b;if("string"==typeof o.mockUserToken)g=o.mockUserToken,b=wi.MOCK_USER;else{g=(0,Fe.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new Tt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new wi(V)}i._authCredentials=new Jo(new Qo(g,b))}}(this._delegate,e,t,o)}enableNetwork(){return function Ul(i){return function sf(i){return i.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield nf(i),t=yield Jp(i);return e.setNetworkEnabled(!0),function(o){const u=Ut(o);return u._u.delete(0),rc(u)}(t)}))}(ji(i=Dr(i,jr)))}(this._delegate)}disableNetwork(){return function Um(i){return function $c(i){return i.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield nf(i),t=yield Jp(i);return e.setNetworkEnabled(!1),(o=(0,ve.Z)(function*(u){const d=Ut(u);d._u.add(0),yield Vc(d),d.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ji(i=Dr(i,jr)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Om("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Vl(i){return function(e){const t=new Ei;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function kp(i,e){return Md.apply(this,arguments)}(yield Xp(e),t)})),t.promise}(ji(i=Dr(i,jr)))}(this._delegate)}onSnapshotsInSync(e){return function W_(i,e){return function tg(i,e){const t=new ef(e);return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return o=yield Pl(i),u=t,Ut(o).Ru.add(u),void u.next();var o,u})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return o=yield Pl(i),u=t,void Ut(o).Ru.delete(u);var o,u}))}}(ji(i=Dr(i,jr)),fo(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yc(this,zp(this._delegate,e))}catch(t){throw Wo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Pa(this,Oa(this._delegate,e))}catch(t){throw Wo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zo(this,function Kp(i,e){if(i=Dr(i,jc),Wp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Tt(rt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Do(i,null,(t=e,new iu(ar.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Wo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mf(i,e,t){i=Dr(i,jr);const o=Object.assign(Object.assign({},ly),t);return function(u){if(u.maxAttempts<1)throw new Tt(rt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,d,g){const b=new Ei;return u.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const V=yield function Lm(i){return Rl(i).then(e=>e.datastore)}(u);new P_(u.asyncQueue,V,g,d,b).run()})),b.promise}(ji(i),u=>e(new hy(i,u)),o)}(this._delegate,t=>e(new _y(this,t)))}batch(){return ji(this._delegate),new vy(new dy(this._delegate,e=>Gl(this._delegate,e)))}loadBundle(e){return function Bm(i,e){const t=ji(i=Dr(i,jr)),o=new Hc;return function k_(i,e,t,o){const u=function(d,g){let b;return b="string"==typeof d?(new TextEncoder).encode(d):d,V=function(V,H){if(V instanceof Uint8Array)return Ol(V,H);if(V instanceof ArrayBuffer)return Ol(new Uint8Array(V),H);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new qp(V,g);var V}(t,Lh(e));i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function T_(i,e,t){const o=Ut(i);var u;(u=(0,ve.Z)(function*(d,g,b){try{const V=yield g.getMetadata();if(yield function(Ze,ft){const bt=Ut(Ze),en=Is(ft.createTime);return bt.persistence.runTransaction("hasNewerBundle","readonly",dn=>bt.Ns.getBundleMetadata(dn,ft.id)).then(dn=>!!dn&&dn.createTime.compareTo(en)>=0)}(d.localStore,V))return yield g.close(),b._completeWith({taskState:"Success",documentsLoaded:(Ze=V).totalDocuments,bytesLoaded:Ze.totalBytes,totalDocuments:Ze.totalDocuments,totalBytes:Ze.totalBytes}),Promise.resolve(new Set);b._updateProgress(y_(V));const H=new tw(V,d.localStore,g.It);let J=yield g.mc();for(;J;){const Ze=yield H.Fu(J);Ze&&b._updateProgress(Ze),J=yield g.mc()}const be=yield H.complete();return yield pu(d,be.Lu,void 0),yield function(Ze,ft){const bt=Ut(Ze);return bt.persistence.runTransaction("Save bundle","readwrite",en=>bt.Ns.saveBundleMetadata(en,ft))}(d.localStore,V),b._completeWith(be.progress),Promise.resolve(be.Bu)}catch(V){return Yt("SyncEngine",`Loading bundle failed with ${V}`),b._failWith(V),Promise.resolve(new Set)}var Ze}),function(d,g,b){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Xp(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function jm(i,e){return function gu(i,e){return i.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,o){const u=Ut(t);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,o))}(yield rf(i),e)}))}(ji(i=Dr(i,jr)),e).then(t=>t?new Do(i,null,t.query):null)}(this._delegate,e).then(t=>t?new zo(this,t):null)}}class vf extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new zd(new Ka(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Pa.forKey(t,this.firestore,null)}}class _y{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vf(e)}get(e){const t=dc(e);return this._delegate.get(t).then(o=>new Kd(this._firestore,new Vu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=dc(e);return o?(_f("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=dc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=dc(e);return this._delegate.delete(t),this}}class vy{constructor(e){this._delegate=e}set(e,t,o){const u=dc(e);return o?(_f("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=dc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=dc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Zc{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Hl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qd(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Zc.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let d=u.get(t);return d||(d=new Zc(e,new vf(e),t),u.set(t,d)),d}}Zc.INSTANCES=new WeakMap;class Pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vf(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Pa(t,new Bi(t._delegate,o,new Vt(e)))}static forKey(e,t,o){return new Pa(t,new Bi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Yc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yc(this.firestore,zp(this._delegate,e))}catch(t){throw Wo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Fe.m9)(e))instanceof Bi&&kd(this._delegate,e)}set(e,t){t=_f("DocumentReference.set",t);try{return t?Ra(this._delegate,e,t):Ra(this._delegate,e)}catch(o){throw Wo(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?hg(this._delegate,e):hg(this._delegate,e,t,...o)}catch(u){throw Wo(u,"updateDoc()","DocumentReference.update()")}}delete(){return function uy(i){return Gl(Dr(i.firestore,jr),[new Aa(i._key,Vi.none())])}(this._delegate)}onSnapshot(...e){const t=wy(e),o=Ey(e,u=>new Kd(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return cy(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function _u(i){i=Dr(i,Bi);const e=Dr(i.firestore,jr),t=ji(e),o=new yu(e);return function rw(i,e){const t=new Ei;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(o=(0,ve.Z)(function*(u,d,g){try{const b=yield function(V,H){const J=Ut(V);return J.persistence.runTransaction("read document","readonly",be=>J.localDocuments.getDocument(be,H))}(u,d);b.isFoundDocument()?g.resolve(b):b.isNoDocument()?g.resolve(null):g.reject(new Tt(rt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const V=Uc(b,`Failed to get document '${d} from cache`);g.reject(V)}}),function(u,d,g){return o.apply(this,arguments)})(yield rf(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Vu(e,o,i._key,u,new qc(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function $_(i){i=Dr(i,Bi);const e=Dr(i.firestore,jr);return Nl(ji(e),i._key,{source:"server"}).then(t=>Wd(e,i,t))}(this._delegate):function ay(i){i=Dr(i,Bi);const e=Dr(i.firestore,jr);return Nl(ji(e),i._key).then(t=>Wd(e,i,t))}(this._delegate),t.then(o=>new Kd(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Pa(this.firestore,this._delegate.withConverter(e?Zc.getInstance(this.firestore,e):null))}}function Wo(i,e,t){return i.message=i.message.replace(e,t),i}function wy(i){for(const e of i)if("object"==typeof e&&!yg(e))return e;return{}}function Ey(i,e){var t,o;let u;return u=yg(i[0])?i[0]:yg(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Kd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return j_(this._delegate,e._delegate)}}class qd extends Kd{data(e){const t=this._delegate.data(e);return function lo(i,e){i||Mt()}(void 0!==t),t}}class zo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vf(e)}where(e,t,o){try{return new zo(this.firestore,Fu(this._delegate,function Zm(i,e,t){const o=e,u=Hd("where",i);return new qm(u,o,t)}(e,t,o)))}catch(u){throw Wo(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zo(this.firestore,Fu(this._delegate,function Qm(i,e="asc"){const t=e,o=Hd("orderBy",i);return new Ym(o,t)}(e,t)))}catch(o){throw Wo(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zo(this.firestore,Fu(this._delegate,function Jm(i){return Xh("limit",i),new lg("limit",i,"F")}(e)))}catch(t){throw Wo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zo(this.firestore,Fu(this._delegate,function iw(i){return Xh("limitToLast",i),new lg("limitToLast",i,"L")}(e)))}catch(t){throw Wo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zo(this.firestore,Fu(this._delegate,function B_(...i){return new Xm("startAt",i,!0)}(...e)))}catch(t){throw Wo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zo(this.firestore,Fu(this._delegate,function ey(...i){return new Xm("startAfter",i,!1)}(...e)))}catch(t){throw Wo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zo(this.firestore,Fu(this._delegate,function oo(...i){return new ty("endBefore",i,!1)}(...e)))}catch(t){throw Wo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zo(this.firestore,Fu(this._delegate,function ny(...i){return new ty("endAt",i,!0)}(...e)))}catch(t){throw Wo(t,"endAt()","Query.endAt()")}}isEqual(e){return Ml(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function vu(i){i=Dr(i,Do);const e=Dr(i.firestore,jr),t=ji(e),o=new yu(e);return function N_(i,e){const t=new Ei;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(o=(0,ve.Z)(function*(u,d,g){try{const b=yield xh(u,d,!0),V=new _m(d,b.Hi),H=V.Wu(b.documents),J=V.applyChanges(H,!1);g.resolve(J.snapshot)}catch(b){const V=Uc(b,`Failed to execute query '${d} against cache`);g.reject(V)}}),function(u,d,g){return o.apply(this,arguments)})(yield rf(i),e,t);var o})),t.promise}(t,i._query).then(u=>new lc(e,o,i,u))}(this._delegate):"server"===e?.source?function qa(i){i=Dr(i,Do);const e=Dr(i.firestore,jr),t=ji(e),o=new yu(e);return Fm(t,i._query,{source:"server"}).then(u=>new lc(e,o,i,u))}(this._delegate):function H_(i){i=Dr(i,Do);const e=Dr(i.firestore,jr),t=ji(e),o=new yu(e);return ff(i._query),Fm(t,i._query).then(u=>new lc(e,o,i,u))}(this._delegate),t.then(o=>new wf(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=wy(e),o=Ey(e,u=>new wf(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return cy(this._delegate,t,o)}withConverter(e){return new zo(this.firestore,this._delegate.withConverter(e?Zc.getInstance(this.firestore,e):null))}}class J_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new J_(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new qd(this._firestore,o))})}isEqual(e){return j_(this._delegate,e._delegate)}}class Yc extends zo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Pa(this.firestore,e):null}doc(e){try{return new Pa(this.firestore,void 0===e?Oa(this._delegate):Oa(this._delegate,e))}catch(t){throw Wo(t,"doc()","CollectionReference.doc()")}}add(e){return function G_(i,e){const t=Dr(i.firestore,jr),o=Oa(i),u=Gd(i.converter,e);return Gl(t,[Kc(zc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Vi.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Pa(this.firestore,t))}isEqual(e){return kd(this._delegate,e._delegate)}withConverter(e){return new Yc(this.firestore,this._delegate.withConverter(e?Zc.getInstance(this.firestore,e):null))}}function dc(i){return Dr(i,Bi)}class Ef{constructor(...e){this._delegate=new mu(...e)}static documentId(){return new Ef(wr.keyField().canonicalString())}isEqual(e){return(e=(0,Fe.m9)(e))instanceof mu&&this._delegate._internalPath.isEqual(e._internalPath)}}class hc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fy(){return new ig("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hc(e)}static delete(){const e=function z_(){return new uc("deleteField")}();return e._methodName="FieldValue.delete",new hc(e)}static arrayUnion(...e){const t=function py(...i){return new sg("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new hc(t)}static arrayRemove(...e){const t=function fg(...i){return new og("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new hc(t)}static increment(e){const t=function yf(i){return new Wm("increment",i)}(e);return t._methodName="FieldValue.increment",new hc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Iy={Firestore:yy,GeoPoint:uf,Timestamp:er,Blob:zd,Transaction:_y,WriteBatch:vy,DocumentReference:Pa,DocumentSnapshot:Kd,Query:zo,QueryDocumentSnapshot:qd,QuerySnapshot:wf,CollectionReference:Yc,FieldPath:Ef,FieldValue:hc,setLogLevel:function Q_(i){!function G(i){D.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Dy(i){(function by(i,e){i.INTERNAL.registerComponent(new Xe.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},Iy)))})(i,(e,t)=>new yy(e,t,new Y_)),i.registerVersion("@firebase/firestore-compat","0.2.3")}(Re.Z);var Bu=O(1041),Cy=O(440),Ty=O(127);function Ay(i,e){return function Qc(i,e=S.z){return new j.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function fc(i,e){return Ay(i,e).pipe((0,ne.U)(t=>({payload:t,type:"query"})))}function _g(i,e){return fc(i,e).pipe((0,de.O)(void 0),te(),(0,ne.U)(([t,o])=>{const u=o.payload.docChanges(),d=u.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,b)=>{const V=u.find(J=>J.doc.ref.isEqual(g.ref)),H=t?.payload.docs.find(J=>J.ref.isEqual(g.ref));V&&JSON.stringify(V.doc.metadata)===JSON.stringify(g.metadata)||!V&&H&&JSON.stringify(H.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:g}})}),d}))}function If(i,e,t){return _g(i,t).pipe((0,ie.R)((o,u)=>function ow(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Sy(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return bf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return bf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return bf(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(d=>d.payload),e),[]),(0,je.x)(),(0,ne.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function bf(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function ev(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class $n{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=_g(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ne.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,de.O)(void 0),te(),(0,He.h)(([o,u])=>u.length>0||!o),(0,ne.U)(([o,u])=>u),_e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ie.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ev(e);return If(this.query,t,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return fc(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),_e.iC)}get(e){return(0,ge.D)(this.query.get(e)).pipe(_e.iC)}add(e){return this.ref.add(e)}doc(e){return new xy(this.ref.doc(e),this.afs)}}class xy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:d}=Zd(o,t);return new $n(u,d,this.afs)}snapshotChanges(){return function X_(i,e){return Ay(i,e).pipe((0,de.O)(void 0),te(),(0,ne.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ne.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ge.D)(this.ref.get(e)).pipe(_e.iC)}}class tv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_g(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,He.h)(t=>t.length>0),_e.iC):_g(this.query,this.afs.schedulers.outsideAngular).pipe(_e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ie.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ev(e);return If(this.query,t,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return fc(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),_e.iC)}get(e){return(0,ge.D)(this.query.get(e)).pipe(_e.iC)}}const My=new p.OlP("angularfire2.enableFirestorePersistence"),Jc=new p.OlP("angularfire2.firestore.persistenceSettings"),nv=new p.OlP("angularfire2.firestore.settings"),Df=new p.OlP("angularfire2.firestore.use-emulator");function Zd(i,e=(t=>t)){return{query:e(i),ref:i}}let ys=(()=>{class i{constructor(t,o,u,d,g,b,V,H,J,be,Ze,ft,bt,en,dn,Yr,xi){this.schedulers=V;const xr=(0,Le.on)(t,b,o),$i=J;be&&(0,Bu.nw)(xr,b,Ze,bt,en,dn,ft,Yr),[this.firestore,this.persistenceEnabled$]=(0,Le.cc)(`${xr.name}.firestore`,"AngularFirestore",xr.name,()=>{const ei=b.runOutsideAngular(()=>xr.firestore());if(d&&ei.settings(d),$i&&ei.useEmulator(...$i),u&&!(0,lt.PM)(g)){const ri=()=>{try{return(0,ge.D)(ei.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(ao){return typeof console<"u"&&console.warn(ao),(0,re.of)(!1)}};return[ei,b.runOutsideAngular(ri)]}return[ei,(0,re.of)(!1)]},[d,$i,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:g}=Zd(u,o),b=this.schedulers.ngZone.run(()=>d);return new $n(b,g,this)}collectionGroup(t,o){const u=o||(g=>g),d=this.firestore.collectionGroup(t);return new tv(u(d),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new xy(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(p.LFG(Le.Dh),p.LFG(Le.xv,8),p.LFG(My,8),p.LFG(nv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(_e.HU),p.LFG(Jc,8),p.LFG(Df,8),p.LFG(Bu.zQ,8),p.LFG(Bu.Qv,8),p.LFG(Bu.L6,8),p.LFG(Bu._Q,8),p.LFG(Bu.rT,8),p.LFG(Bu.lh,8),p.LFG(Bu.f7,8),p.LFG(Cy.nm,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),aw=(()=>{class i{constructor(){Ty.Z.registerVersion("angularfire",_e.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:My,useValue:!0},{provide:Jc,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[ys]}),i})()},2011:(Se,X,O)=>{"use strict";O.d(X,{Dh:()=>he,GT:()=>_e,cc:()=>He,hO:()=>je,on:()=>te,pX:()=>re,xv:()=>pe});var p=O(4650),S=O(127),j=O(6351);Se=O.hmd(Se);const ge=["ngOnDestroy"],re=(Re,ve,Et,Xe={})=>new Proxy(Re,{get:(We,Fe)=>Et.runOutsideAngular(()=>{var _t;if(Re[Fe])return!(null===(_t=Xe?.spy)||void 0===_t)&&_t.get&&Xe.spy.get(Fe,Re[Fe]),Re[Fe];if(ge.indexOf(Fe)>-1)return()=>{};const dt=ve.toPromise().then(ee=>{const Ke=ee&&ee[Fe];return"function"==typeof Ke?Ke.bind(ee):Ke&&Ke.then?Ke.then(le=>Et.run(()=>le)):Et.run(()=>Ke)});return new Proxy(()=>{},{get:(ee,Ke)=>dt[Ke],apply:(ee,Ke,le)=>dt.then(Ae=>{var xe;const Pe=Ae&&Ae(...le);return!(null===(xe=Xe?.spy)||void 0===xe)&&xe.apply&&Xe.spy.apply(Fe,le,Pe),Pe})})})}),_e=(Re,ve)=>{ve.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(Xe=>{Object.defineProperty(Re.prototype,Xe,Object.getOwnPropertyDescriptor(Et.prototype||Et,Xe))})})};class de{constructor(ve){return ve}}const he=new p.OlP("angularfire2.app.options"),pe=new p.OlP("angularfire2.app.name");function te(Re,ve,Et){const We="object"==typeof Et&&Et||{};We.name=We.name||"string"==typeof Et&&Et||"[DEFAULT]";const _t=S.Z.apps.filter(dt=>dt&&dt.name===We.name)[0]||ve.runOutsideAngular(()=>S.Z.initializeApp(Re,We));try{JSON.stringify(Re)!==JSON.stringify(_t.options)&&ne("error",`${_t.name} Firebase App already initialized with different options${Se.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(_t)}const ne=(Re,...ve)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Re](...ve)},ie={provide:de,useFactory:te,deps:[he,p.R0b,[new p.FiY,pe]]};let je=(()=>{class Re{constructor(Et){S.Z.registerVersion("angularfire",j.q4.full,"core"),S.Z.registerVersion("angularfire",j.q4.full,"app-compat"),S.Z.registerVersion("angular",p.q4F.full,Et.toString())}static initializeApp(Et,Xe){return{ngModule:Re,providers:[{provide:he,useValue:Et},{provide:pe,useValue:Xe}]}}}return Re.\u0275fac=function(Et){return new(Et||Re)(p.LFG(p.Lbi))},Re.\u0275mod=p.oAB({type:Re}),Re.\u0275inj=p.cJS({providers:[ie]}),Re})();function He(Re,ve,Et,Xe,We){const[,Fe,_t]=globalThis.\u0275AngularfireInstanceCache.find(dt=>dt[0]===Re)||[];if(Fe)return function Le(Re,ve){try{return Re.toString()===ve.toString()}catch{return Re===ve}}(We,_t)||(Be("error",`${ve} was already initialized on the ${Et} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:We,was:_t})),Fe;{const dt=Xe();return globalThis.\u0275AngularfireInstanceCache.push([Re,dt,We]),dt}}const lt=!!Se.hot,Be=(Re,...ve)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Re](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Se,X,O)=>{"use strict";O.d(X,{q4:()=>Gu,iC:()=>$s,HU:()=>Ft,vb:()=>W,JM:()=>k});var p=O(4650),S=O(5867),j=O(5861),ge=O(9681),re=O(2090),_e=O(4859),de=O(1877),he=O(8766);const pe="@firebase/installations",te="0.5.16",ie=`w:${te}`,je="FIS_v2",ve=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Et(R){return R instanceof re.ZR&&R.code.includes("request-failed")}function Xe({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function We(R){return{token:R.token,requestStatus:2,expiresIn:Ae(R.expiresIn),creationTime:Date.now()}}function Fe(R,L){return _t.apply(this,arguments)}function _t(){return(_t=(0,j.Z)(function*(R,L){const ce=(yield L.json()).error;return ve.create("request-failed",{requestName:R,serverCode:ce.code,serverMessage:ce.message,serverStatus:ce.status})})).apply(this,arguments)}function dt({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function ee(R,{refreshToken:L}){const z=dt(R);return z.append("Authorization",function xe(R){return`${je} ${R}`}(L)),z}function Ke(R){return le.apply(this,arguments)}function le(){return(le=(0,j.Z)(function*(R){const L=yield R();return L.status>=500&&L.status<600?R():L})).apply(this,arguments)}function Ae(R){return Number(R.replace("s","000"))}function Pe(R,L){return yt.apply(this,arguments)}function yt(){return(yt=(0,j.Z)(function*({appConfig:R,heartbeatServiceProvider:L},{fid:z}){const ce=Xe(R),Ve=dt(R),Je=L.getImmediate({optional:!0});if(Je){const Zn=yield Je.getHeartbeatsHeader();Zn&&Ve.append("x-firebase-client",Zn)}const $t={method:"POST",headers:Ve,body:JSON.stringify({fid:z,authVersion:je,appId:R.appId,sdkVersion:ie})},On=yield Ke(()=>fetch(ce,$t));if(On.ok){const Zn=yield On.json();return{fid:Zn.fid||z,registrationStatus:2,refreshToken:Zn.refreshToken,authToken:We(Zn.authToken)}}throw yield Fe("Create Installation",On)})).apply(this,arguments)}function st(R){return new Promise(L=>{setTimeout(L,R)})}const Jt=/^[cdef][\w-]{21}$/;function gt(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const z=function Xt(R){return function Ot(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return Jt.test(z)?z:""}catch{return""}}function qt(R){return`${R.appName}!${R.appId}`}const mn=new Map;function Kt(R,L){const z=qt(R);Pt(z,L),function Gt(R,L){const z=function xn(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=R=>{Pt(R.data.key,R.data.fid)}),Pn}();z&&z.postMessage({key:R,fid:L}),function nr(){0===mn.size&&Pn&&(Pn.close(),Pn=null)}()}(z,L)}function Pt(R,L){const z=mn.get(R);if(z)for(const ce of z)ce(L)}let Pn=null;const Rn="firebase-installations-store";let sr=null;function pn(){return sr||(sr=(0,he.X3)("firebase-installations-database",1,{upgrade:(R,L)=>{0===L&&R.createObjectStore(Rn)}})),sr}function It(R,L){return Un.apply(this,arguments)}function Un(){return(Un=(0,j.Z)(function*(R,L){const z=qt(R),Ve=(yield pn()).transaction(Rn,"readwrite"),Je=Ve.objectStore(Rn),At=yield Je.get(z);return yield Je.put(L,z),yield Ve.done,(!At||At.fid!==L.fid)&&Kt(R,L.fid),L})).apply(this,arguments)}function Vn(R){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,j.Z)(function*(R){const L=qt(R),ce=(yield pn()).transaction(Rn,"readwrite");yield ce.objectStore(Rn).delete(L),yield ce.done})).apply(this,arguments)}function Qr(R,L){return ti.apply(this,arguments)}function ti(){return(ti=(0,j.Z)(function*(R,L){const z=qt(R),Ve=(yield pn()).transaction(Rn,"readwrite"),Je=Ve.objectStore(Rn),At=yield Je.get(z),$t=L(At);return void 0===$t?yield Je.delete(z):yield Je.put($t,z),yield Ve.done,$t&&(!At||At.fid!==$t.fid)&&Kt(R,$t.fid),$t})).apply(this,arguments)}function Cr(R){return bn.apply(this,arguments)}function bn(){return(bn=(0,j.Z)(function*(R){let L;const z=yield Qr(R.appConfig,ce=>{const Ve=kn(ce),Je=tn(R,Ve);return L=Je.registrationPromise,Je.installationEntry});return""===z.fid?{installationEntry:yield L}:{installationEntry:z,registrationPromise:L}})).apply(this,arguments)}function kn(R){return vn(R||{fid:gt(),registrationStatus:0})}function tn(R,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(ve.create("app-offline"))};const z={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},ce=function Dt(R,L){return Wn.apply(this,arguments)}(R,z);return{installationEntry:z,registrationPromise:ce}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:pr(R)}:{installationEntry:L}}function Wn(){return(Wn=(0,j.Z)(function*(R,L){try{const z=yield Pe(R,L);return It(R.appConfig,z)}catch(z){throw Et(z)&&409===z.customData.serverCode?yield Vn(R.appConfig):yield It(R.appConfig,{fid:L.fid,registrationStatus:0}),z}})).apply(this,arguments)}function pr(R){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,j.Z)(function*(R){let L=yield $r(R.appConfig);for(;1===L.registrationStatus;)yield st(100),L=yield $r(R.appConfig);if(0===L.registrationStatus){const{installationEntry:z,registrationPromise:ce}=yield Cr(R);return ce||z}return L})).apply(this,arguments)}function $r(R){return Qr(R,L=>{if(!L)throw ve.create("installation-not-found");return vn(L)})}function vn(R){return function Tr(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Hn(R,L){return ni.apply(this,arguments)}function ni(){return(ni=(0,j.Z)(function*({appConfig:R,heartbeatServiceProvider:L},z){const ce=qn(R,z),Ve=ee(R,z),Je=L.getImmediate({optional:!0});if(Je){const Zn=yield Je.getHeartbeatsHeader();Zn&&Ve.append("x-firebase-client",Zn)}const $t={method:"POST",headers:Ve,body:JSON.stringify({installation:{sdkVersion:ie,appId:R.appId}})},On=yield Ke(()=>fetch(ce,$t));if(On.ok)return We(yield On.json());throw yield Fe("Generate Auth Token",On)})).apply(this,arguments)}function qn(R,{fid:L}){return`${Xe(R)}/${L}/authTokens:generate`}function gr(R){return cn.apply(this,arguments)}function cn(){return(cn=(0,j.Z)(function*(R,L=!1){let z;const ce=yield Qr(R.appConfig,Je=>{if(!gn(Je))throw ve.create("not-registered");const At=Je.authToken;if(!L&&Ie(At))return Je;if(1===At.requestStatus)return z=jt(R,L),Je;{if(!navigator.onLine)throw ve.create("app-offline");const $t=Ce(Je);return z=ln(R,$t),$t}});return z?yield z:ce.authToken})).apply(this,arguments)}function jt(R,L){return mt.apply(this,arguments)}function mt(){return(mt=(0,j.Z)(function*(R,L){let z=yield kt(R.appConfig);for(;1===z.authToken.requestStatus;)yield st(100),z=yield kt(R.appConfig);const ce=z.authToken;return 0===ce.requestStatus?gr(R,L):ce})).apply(this,arguments)}function kt(R){return Qr(R,L=>{if(!gn(L))throw ve.create("not-registered");return function ot(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function ln(R,L){return un.apply(this,arguments)}function un(){return(un=(0,j.Z)(function*(R,L){try{const z=yield Hn(R,L),ce=Object.assign(Object.assign({},L),{authToken:z});return yield It(R.appConfig,ce),z}catch(z){if(!Et(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const ce=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield It(R.appConfig,ce)}else yield Vn(R.appConfig);throw z}})).apply(this,arguments)}function gn(R){return void 0!==R&&2===R.registrationStatus}function Ie(R){return 2===R.requestStatus&&!function ye(R){const L=Date.now();return L<R.creationTime||R.creationTime+R.expiresIn<L+36e5}(R)}function Ce(R){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:L})}function Nt(){return(Nt=(0,j.Z)(function*(R){const L=R,{installationEntry:z,registrationPromise:ce}=yield Cr(L);return ce?ce.catch(console.error):gr(L).catch(console.error),z.fid})).apply(this,arguments)}function Ln(){return(Ln=(0,j.Z)(function*(R,L=!1){const z=R;return yield Jn(z),(yield gr(z,L)).token})).apply(this,arguments)}function Jn(R){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,j.Z)(function*(R){const{registrationPromise:L}=yield Cr(R);L&&(yield L)})).apply(this,arguments)}function jn(R){return ve.create("missing-app-config-values",{valueName:R})}const ci="installations",mr=R=>{const L=R.getProvider("app").getImmediate(),z=function wn(R){if(!R||!R.options)throw jn("App Configuration");if(!R.name)throw jn("App Name");const L=["projectId","apiKey","appId"];for(const z of L)if(!R.options[z])throw jn(z);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(L);return{app:L,appConfig:z,heartbeatServiceProvider:(0,ge._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},Vr=R=>{const L=R.getProvider("app").getImmediate(),z=(0,ge._getProvider)(L,ci).getImmediate();return{getId:()=>function ke(R){return Nt.apply(this,arguments)}(z),getToken:Ve=>function nn(R){return Ln.apply(this,arguments)}(z,Ve)}};(function Hi(){(0,ge._registerComponent)(new _e.wA(ci,mr,"PUBLIC")),(0,ge._registerComponent)(new _e.wA("installations-internal",Vr,"PRIVATE"))})(),(0,ge.registerVersion)(pe,te),(0,ge.registerVersion)(pe,te,"esm2017");const mi="@firebase/remote-config",Er=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ue{constructor(L,z,ce,Ve){this.client=L,this.storage=z,this.storageCache=ce,this.logger=Ve}isCachedDataFresh(L,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ce=Date.now()-z,Ve=ce<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ce}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Ve}.`),Ve}fetch(L){var z=this;return(0,j.Z)(function*(){const[ce,Ve]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(Ve&&z.isCachedDataFresh(L.cacheMaxAgeMillis,ce))return Ve;L.eTag=Ve&&Ve.eTag;const Je=yield z.client.fetch(L),At=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&At.push(z.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(At),Je})()}}function Qe(R=navigator){return R.languages&&R.languages[0]||R.language}class Lt{constructor(L,z,ce,Ve,Je,At){this.firebaseInstallations=L,this.sdkVersion=z,this.namespace=ce,this.projectId=Ve,this.apiKey=Je,this.appId=At}fetch(L){var z=this;return(0,j.Z)(function*(){var ce,Ve,Je;const[At,$t]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),Zn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,ur={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},An={sdk_version:z.sdkVersion,app_instance_id:At,app_instance_id_token:$t,app_id:z.appId,language_code:Qe()},Ai={method:"POST",headers:ur,body:JSON.stringify(An)},is=fetch(Zn,Ai),Po=new Promise((ha,Br)=>{L.signal.addEventListener(()=>{const Ua=new Error("The operation was aborted.");Ua.name="AbortError",Br(Ua)})});let Fa;try{yield Promise.race([is,Po]),Fa=yield is}catch(ha){let Br="fetch-client-network";throw"AbortError"===(null===(ce=ha)||void 0===ce?void 0:ce.name)&&(Br="fetch-timeout"),Er.create(Br,{originalErrorMessage:null===(Ve=ha)||void 0===Ve?void 0:Ve.message})}let Da=Fa.status;const Ca=Fa.headers.get("ETag")||void 0;let Va,Si;if(200===Fa.status){let ha;try{ha=yield Fa.json()}catch(Br){throw Er.create("fetch-client-parse",{originalErrorMessage:null===(Je=Br)||void 0===Je?void 0:Je.message})}Va=ha.entries,Si=ha.state}if("INSTANCE_STATE_UNSPECIFIED"===Si?Da=500:"NO_CHANGE"===Si?Da=304:("NO_TEMPLATE"===Si||"EMPTY_CONFIG"===Si)&&(Va={}),304!==Da&&200!==Da)throw Er.create("fetch-status",{httpStatus:Da});return{status:Da,eTag:Ca,config:Va}})()}}class Te{constructor(L,z){this.client=L,this.storage=z}fetch(L){var z=this;return(0,j.Z)(function*(){const ce=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(L,ce)})()}attemptFetch(L,{throttleEndTimeMillis:z,backoffCount:ce}){var Ve=this;return(0,j.Z)(function*(){yield function Ct(R,L){return new Promise((z,ce)=>{const Ve=Math.max(L-Date.now(),0),Je=setTimeout(z,Ve);R.addEventListener(()=>{clearTimeout(Je),ce(Er.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,z);try{const Je=yield Ve.client.fetch(L);return yield Ve.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function De(R){if(!(R instanceof re.ZR&&R.customData))return!1;const L=Number(R.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Je))throw Je;const At={throttleEndTimeMillis:Date.now()+(0,re.$s)(ce),backoffCount:ce+1};return yield Ve.storage.setThrottleMetadata(At),Ve.attemptFetch(L,At)}})()}}class pt{constructor(L,z,ce,Ve,Je){this.app=L,this._client=z,this._storageCache=ce,this._storage=Ve,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wt(R,L){var z;const ce=R.target.error||void 0;return Er.create(L,{originalErrorMessage:ce&&(null===(z=ce)||void 0===z?void 0:z.message)})}const Sn="app_namespace_store";class Ts{constructor(L,z,ce,Ve=function Pi(){return new Promise((R,L)=>{var z;try{const ce=indexedDB.open("firebase_remote_config",1);ce.onerror=Ve=>{L(Wt(Ve,"storage-open"))},ce.onsuccess=Ve=>{R(Ve.target.result)},ce.onupgradeneeded=Ve=>{0===Ve.oldVersion&&Ve.target.result.createObjectStore(Sn,{keyPath:"compositeKey"})}}catch(ce){L(Er.create("storage-open",{originalErrorMessage:null===(z=ce)||void 0===z?void 0:z.message}))}})}()){this.appId=L,this.appName=z,this.namespace=ce,this.openDbPromise=Ve}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var z=this;return(0,j.Z)(function*(){const ce=yield z.openDbPromise;return new Promise((Ve,Je)=>{var At;const On=ce.transaction([Sn],"readonly").objectStore(Sn),Zn=z.createCompositeKey(L);try{const ur=On.get(Zn);ur.onerror=An=>{Je(Wt(An,"storage-get"))},ur.onsuccess=An=>{const Ai=An.target.result;Ve(Ai?Ai.value:void 0)}}catch(ur){Je(Er.create("storage-get",{originalErrorMessage:null===(At=ur)||void 0===At?void 0:At.message}))}})})()}set(L,z){var ce=this;return(0,j.Z)(function*(){const Ve=yield ce.openDbPromise;return new Promise((Je,At)=>{var $t;const Zn=Ve.transaction([Sn],"readwrite").objectStore(Sn),ur=ce.createCompositeKey(L);try{const An=Zn.put({compositeKey:ur,value:z});An.onerror=Ai=>{At(Wt(Ai,"storage-set"))},An.onsuccess=()=>{Je()}}catch(An){At(Er.create("storage-set",{originalErrorMessage:null===($t=An)||void 0===$t?void 0:$t.message}))}})})()}delete(L){var z=this;return(0,j.Z)(function*(){const ce=yield z.openDbPromise;return new Promise((Ve,Je)=>{var At;const On=ce.transaction([Sn],"readwrite").objectStore(Sn),Zn=z.createCompositeKey(L);try{const ur=On.delete(Zn);ur.onerror=An=>{Je(Wt(An,"storage-delete"))},ur.onsuccess=()=>{Ve()}}catch(ur){Je(Er.create("storage-delete",{originalErrorMessage:null===(At=ur)||void 0===At?void 0:At.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class qs{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,j.Z)(function*(){const z=L.storage.getLastFetchStatus(),ce=L.storage.getLastSuccessfulFetchTimestampMillis(),Ve=L.storage.getActiveConfig(),Je=yield z;Je&&(L.lastFetchStatus=Je);const At=yield ce;At&&(L.lastSuccessfulFetchTimestampMillis=At);const $t=yield Ve;$t&&(L.activeConfig=$t)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function as(){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,j.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function Wi(){(0,ge._registerComponent)(new _e.wA("remote-config",function R(L,{instanceIdentifier:z}){const ce=L.getProvider("app").getImmediate(),Ve=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Er.create("registration-window");if(!(0,re.hl)())throw Er.create("indexed-db-unavailable");const{projectId:Je,apiKey:At,appId:$t}=ce.options;if(!Je)throw Er.create("registration-project-id");if(!At)throw Er.create("registration-api-key");if(!$t)throw Er.create("registration-app-id");const On=new Ts($t,ce.name,z=z||"firebase"),Zn=new qs(On),ur=new de.Yd(mi);ur.logLevel=de.in.ERROR;const An=new Lt(Ve,ge.SDK_VERSION,z,Je,At,$t),Ai=new Te(An,On),is=new Ue(Ai,On,Zn,ur),Po=new pt(ce,is,Zn,On,ur);return function Or(R){const L=(0,re.m9)(R);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Po),Po},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(mi,"0.3.15"),(0,ge.registerVersion)(mi,"0.3.15","esm2017")}();const Zi="/firebase-messaging-sw.js",zi="/firebase-cloud-messaging-push-scope",Di="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uo="google.c.a.c_id",Yi="google.c.a.c_l",As="google.c.a.ts",_s="google.c.a.e";var Qi=(()=>{return(R=Qi||(Qi={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Qi;var R})();function Ci(R){const L=new Uint8Array(R);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ki(R){const z=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ce=atob(z),Ve=new Uint8Array(ce.length);for(let Je=0;Je<ce.length;++Je)Ve[Je]=ce.charCodeAt(Je);return Ve}const Ki="fcm_token_details_db",Xr="fcm_token_object_Store";function Ji(R){return vs.apply(this,arguments)}function vs(){return vs=(0,j.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(Ki))return null;let L=null;return(yield(0,he.X3)(Ki,5,{upgrade:(ce=(0,j.Z)(function*(Ve,Je,At,$t){var On;if(Je<2||!Ve.objectStoreNames.contains(Xr))return;const Zn=$t.objectStore(Xr),ur=yield Zn.index("fcmSenderId").get(R);if(yield Zn.clear(),ur)if(2===Je){const An=ur;if(!An.auth||!An.p256dh||!An.endpoint)return;L={token:An.fcmToken,createTime:null!==(On=An.createTime)&&void 0!==On?On:Date.now(),subscriptionOptions:{auth:An.auth,p256dh:An.p256dh,endpoint:An.endpoint,swScope:An.swScope,vapidKey:"string"==typeof An.vapidKey?An.vapidKey:Ci(An.vapidKey)}}}else if(3===Je){const An=ur;L={token:An.fcmToken,createTime:An.createTime,subscriptionOptions:{auth:Ci(An.auth),p256dh:Ci(An.p256dh),endpoint:An.endpoint,swScope:An.swScope,vapidKey:Ci(An.vapidKey)}}}else if(4===Je){const An=ur;L={token:An.fcmToken,createTime:An.createTime,subscriptionOptions:{auth:Ci(An.auth),p256dh:Ci(An.p256dh),endpoint:An.endpoint,swScope:An.swScope,vapidKey:Ci(An.vapidKey)}}}}),function(Je,At,$t,On){return ce.apply(this,arguments)})})).close(),yield(0,he.Lj)(Ki),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),Ur(L)?L:null;var ce}),vs.apply(this,arguments)}function Ur(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:L}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const fi="firebase-messaging-store";let Nr=null;function oi(){return Nr||(Nr=(0,he.X3)("firebase-messaging-database",1,{upgrade:(R,L)=>{0===L&&R.createObjectStore(fi)}})),Nr}function ks(R){return cs.apply(this,arguments)}function cs(){return(cs=(0,j.Z)(function*(R){const L=vi(R),ce=yield(yield oi()).transaction(fi).objectStore(fi).get(L);if(ce)return ce;{const Ve=yield Ji(R.appConfig.senderId);if(Ve)return yield or(R,Ve),Ve}})).apply(this,arguments)}function or(R,L){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,j.Z)(function*(R,L){const z=vi(R),Ve=(yield oi()).transaction(fi,"readwrite");return yield Ve.objectStore(fi).put(L,z),yield Ve.done,L})).apply(this,arguments)}function Ls(R){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,j.Z)(function*(R){const L=vi(R),ce=(yield oi()).transaction(fi,"readwrite");yield ce.objectStore(fi).delete(L),yield ce.done})).apply(this,arguments)}function vi({appConfig:R}){return R.appId}const Hr=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function In(R,L){return co.apply(this,arguments)}function co(){return(co=(0,j.Z)(function*(R,L){var z;const ce=yield Js(R),Ve=vt(L),Je={method:"POST",headers:ce,body:JSON.stringify(Ve)};let At;try{At=yield(yield fetch(ds(R.appConfig),Je)).json()}catch($t){throw Hr.create("token-subscribe-failed",{errorInfo:null===(z=$t)||void 0===z?void 0:z.toString()})}if(At.error)throw Hr.create("token-subscribe-failed",{errorInfo:At.error.message});if(!At.token)throw Hr.create("token-subscribe-no-token");return At.token})).apply(this,arguments)}function Xi(R,L){return Co.apply(this,arguments)}function Co(){return(Co=(0,j.Z)(function*(R,L){var z;const ce=yield Js(R),Ve=vt(L.subscriptionOptions),Je={method:"PATCH",headers:ce,body:JSON.stringify(Ve)};let At;try{At=yield(yield fetch(`${ds(R.appConfig)}/${L.token}`,Je)).json()}catch($t){throw Hr.create("token-update-failed",{errorInfo:null===(z=$t)||void 0===z?void 0:z.toString()})}if(At.error)throw Hr.create("token-update-failed",{errorInfo:At.error.message});if(!At.token)throw Hr.create("token-update-no-token");return At.token})).apply(this,arguments)}function Qs(R,L){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,j.Z)(function*(R,L){var z;const Ve={method:"DELETE",headers:yield Js(R)};try{const At=yield(yield fetch(`${ds(R.appConfig)}/${L}`,Ve)).json();if(At.error)throw Hr.create("token-unsubscribe-failed",{errorInfo:At.error.message})}catch(Je){throw Hr.create("token-unsubscribe-failed",{errorInfo:null===(z=Je)||void 0===z?void 0:z.toString()})}})).apply(this,arguments)}function ds({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function Js(R){return po.apply(this,arguments)}function po(){return(po=(0,j.Z)(function*({appConfig:R,installations:L}){const z=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function vt({p256dh:R,auth:L,endpoint:z,vapidKey:ce}){const Ve={web:{endpoint:z,auth:L,p256dh:R}};return ce!==Di&&(Ve.web.applicationPubKey=ce),Ve}const zn=6048e5;function Xs(R){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,j.Z)(function*(R){const L=yield hs(R.swRegistration,R.vapidKey),z={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:L.endpoint,auth:Ci(L.getKey("auth")),p256dh:Ci(L.getKey("p256dh"))},ce=yield ks(R.firebaseDependencies);if(ce){if(F(ce.subscriptionOptions,z))return Date.now()>=ce.createTime+zn?Ss(R,{token:ce.token,createTime:Date.now(),subscriptionOptions:z}):ce.token;try{yield Qs(R.firebaseDependencies,ce.token)}catch(Ve){console.warn(Ve)}return xs(R.firebaseDependencies,z)}return xs(R.firebaseDependencies,z)})).apply(this,arguments)}function kr(R){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,j.Z)(function*(R){const L=yield ks(R.firebaseDependencies);L&&(yield Qs(R.firebaseDependencies,L.token),yield Ls(R.firebaseDependencies));const z=yield R.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()})).apply(this,arguments)}function Ss(R,L){return qi.apply(this,arguments)}function qi(){return(qi=(0,j.Z)(function*(R,L){try{const z=yield Xi(R.firebaseDependencies,L),ce=Object.assign(Object.assign({},L),{token:z,createTime:Date.now()});return yield or(R.firebaseDependencies,ce),z}catch(z){throw yield kr(R),z}})).apply(this,arguments)}function xs(R,L){return es.apply(this,arguments)}function es(){return(es=(0,j.Z)(function*(R,L){const ce={token:yield In(R,L),createTime:Date.now(),subscriptionOptions:L};return yield or(R,ce),ce.token})).apply(this,arguments)}function hs(R,L){return go.apply(this,arguments)}function go(){return(go=(0,j.Z)(function*(R,L){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ki(L)})})).apply(this,arguments)}function F(R,L){return L.vapidKey===R.vapidKey&&L.endpoint===R.endpoint&&L.auth===R.auth&&L.p256dh===R.p256dh}function N(R){const L={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function A(R,L){if(!L.notification)return;R.notification={};const z=L.notification.title;z&&(R.notification.title=z);const ce=L.notification.body;ce&&(R.notification.body=ce);const Ve=L.notification.image;Ve&&(R.notification.image=Ve);const Je=L.notification.icon;Je&&(R.notification.icon=Je)}(L,R),function q(R,L){!L.data||(R.data=L.data)}(L,R),function Ge(R,L){var z,ce,Ve,Je,At;if(!(L.fcmOptions||null!==(z=L.notification)&&void 0!==z&&z.click_action))return;R.fcmOptions={};const $t=null!==(Ve=null===(ce=L.fcmOptions)||void 0===ce?void 0:ce.link)&&void 0!==Ve?Ve:null===(Je=L.notification)||void 0===Je?void 0:Je.click_action;$t&&(R.fcmOptions.link=$t);const On=null===(At=L.fcmOptions)||void 0===At?void 0:At.analytics_label;On&&(R.fcmOptions.analyticsLabel=On)}(L,R),L}function zt(R){return"object"==typeof R&&!!R&&uo in R}function dr(R,L){const z=[];for(let ce=0;ce<R.length;ce++)z.push(R.charAt(ce)),ce<L.length&&z.push(L.charAt(ce));return z.join("")}function Li(R){return Hr.create("missing-app-config-values",{valueName:R})}dr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fs{constructor(L,z,ce){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ve=function ts(R){if(!R||!R.options)throw Li("App Configuration Object");if(!R.name)throw Li("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:z}=R;for(const ce of L)if(!z[ce])throw Li(ce);return{appName:R.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Ve,installations:z,analyticsProvider:ce}}_delete(){return Promise.resolve()}}function Us(R){return eo.apply(this,arguments)}function eo(){return(eo=(0,j.Z)(function*(R){var L;try{R.swRegistration=yield navigator.serviceWorker.register(Zi,{scope:zi}),R.swRegistration.update().catch(()=>{})}catch(z){throw Hr.create("failed-service-worker-registration",{browserErrorMessage:null===(L=z)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function Bs(R,L){return qo.apply(this,arguments)}function qo(){return(qo=(0,j.Z)(function*(R,L){if(!L&&!R.swRegistration&&(yield Us(R)),L||!R.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw Hr.create("invalid-sw-registration");R.swRegistration=L}})).apply(this,arguments)}function ps(R,L){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,j.Z)(function*(R,L){L?R.vapidKey=L:R.vapidKey||(R.vapidKey=Di)})).apply(this,arguments)}function Ao(){return(Ao=(0,j.Z)(function*(R,L){if(!navigator)throw Hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hr.create("permission-blocked");return yield ps(R,L?.vapidKey),yield Bs(R,L?.serviceWorkerRegistration),Xs(R)})).apply(this,arguments)}function mo(R,L,z){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,j.Z)(function*(R,L,z){const ce=So(L);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(ce,{message_id:z[uo],message_name:z[Yi],message_time:z[As],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function So(R){switch(R){case Qi.NOTIFICATION_CLICKED:return"notification_open";case Qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $(){return($=(0,j.Z)(function*(R,L){const z=L.data;if(!z.isFirebaseMessaging)return;R.onMessageHandler&&z.messageType===Qi.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(N(z)):R.onMessageHandler.next(N(z)));const ce=z.data;zt(ce)&&"1"===ce[_s]&&(yield mo(R,z.messageType,ce))})).apply(this,arguments)}const P="@firebase/messaging",K="0.11.0",Ee=R=>{const L=new fs(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function T(R,L){return $.apply(this,arguments)}(L,z)),L},qe=R=>{const L=R.getProvider("messaging").getImmediate();return{getToken:ce=>function To(R,L){return Ao.apply(this,arguments)}(L,ce)}};function rn(){return rr.apply(this,arguments)}function rr(){return(rr=(0,j.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ut(){(0,ge._registerComponent)(new _e.wA("messaging",Ee,"PUBLIC")),(0,ge._registerComponent)(new _e.wA("messaging-internal",qe,"PRIVATE")),(0,ge.registerVersion)(P,K),(0,ge.registerVersion)(P,K,"esm2017")}();const Ms="analytics",to="firebase_id",Es="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zo="https://www.googletagmanager.com/gtag/js",Kr=new de.Yd("@firebase/analytics");function va(R){return Promise.all(R.map(L=>L.catch(z=>z)))}function Eu(R,L){const z=document.createElement("script");z.src=`${Zo}?l=${R}&id=${L}`,z.async=!0,document.head.appendChild(z)}function Uo(R,L,z,ce,Ve,Je){return wa.apply(this,arguments)}function wa(){return(wa=(0,j.Z)(function*(R,L,z,ce,Ve,Je){const At=ce[Ve];try{if(At)yield L[At];else{const On=(yield va(z)).find(Zn=>Zn.measurementId===Ve);On&&(yield L[On.appId])}}catch($t){Kr.error($t)}R("config",Ve,Je)})).apply(this,arguments)}function Yo(R,L,z,ce,Ve){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,j.Z)(function*(R,L,z,ce,Ve){try{let Je=[];if(Ve&&Ve.send_to){let At=Ve.send_to;Array.isArray(At)||(At=[At]);const $t=yield va(z);for(const On of At){const Zn=$t.find(An=>An.measurementId===On),ur=Zn&&L[Zn.appId];if(!ur){Je=[];break}Je.push(ur)}}0===Je.length&&(Je=Object.values(L)),yield Promise.all(Je),R("event",ce,Ve||{})}catch(Je){Kr.error(Je)}})).apply(this,arguments)}function Ea(R){const L=window.document.getElementsByTagName("script");for(const z of Object.values(L))if(z.src&&z.src.includes(Zo)&&z.src.includes(R))return z;return null}const qr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Q=new class G{constructor(L={},z=1e3){this.throttleMetadata=L,this.intervalMillis=z}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,z){this.throttleMetadata[L]=z}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function nt(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function Yt(R){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,j.Z)(function*(R){var L;const{appId:z,apiKey:ce}=R,Ve={method:"GET",headers:nt(ce)},Je=Es.replace("{app-id}",z),At=yield fetch(Je,Ve);if(200!==At.status&&304!==At.status){let $t="";try{const On=yield At.json();null!==(L=On.error)&&void 0!==L&&L.message&&($t=On.error.message)}catch{}throw qr.create("config-fetch-failed",{httpStatus:At.status,responseMessage:$t})}return At.json()})).apply(this,arguments)}function Mt(R){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,j.Z)(function*(R,L=Q,z){const{appId:ce,apiKey:Ve,measurementId:Je}=R.options;if(!ce)throw qr.create("no-app-id");if(!Ve){if(Je)return{measurementId:Je,appId:ce};throw qr.create("no-api-key")}const At=L.getThrottleMetadata(ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$t=new Ei;return setTimeout((0,j.Z)(function*(){$t.abort()}),void 0!==z?z:6e4),lo({appId:ce,apiKey:Ve,measurementId:Je},At,$t,L)})).apply(this,arguments)}function lo(R,L,z){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,j.Z)(function*(R,{throttleEndTimeMillis:L,backoffCount:z},ce,Ve=Q){var Je,At;const{appId:$t,measurementId:On}=R;try{yield rt(ce,L)}catch(Zn){if(On)return Kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${On} provided in the "measurementId" field in the local Firebase config. [${null===(Je=Zn)||void 0===Je?void 0:Je.message}]`),{appId:$t,measurementId:On};throw Zn}try{const Zn=yield Yt(R);return Ve.deleteThrottleMetadata($t),Zn}catch(Zn){const ur=Zn;if(!Tt(ur)){if(Ve.deleteThrottleMetadata($t),On)return Kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${On} provided in the "measurementId" field in the local Firebase config. [${ur?.message}]`),{appId:$t,measurementId:On};throw Zn}const An=503===Number(null===(At=ur?.customData)||void 0===At?void 0:At.httpStatus)?(0,re.$s)(z,Ve.intervalMillis,30):(0,re.$s)(z,Ve.intervalMillis),Ai={throttleEndTimeMillis:Date.now()+An,backoffCount:z+1};return Ve.setThrottleMetadata($t,Ai),Kr.debug(`Calling attemptFetch again in ${An} millis`),lo(R,Ai,ce,Ve)}})).apply(this,arguments)}function rt(R,L){return new Promise((z,ce)=>{const Ve=Math.max(L-Date.now(),0),Je=setTimeout(z,Ve);R.addEventListener(()=>{clearTimeout(Je),ce(qr.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}function Tt(R){if(!(R instanceof re.ZR&&R.customData))return!1;const L=Number(R.customData.httpStatus);return 429===L||500===L||503===L||504===L}class Ei{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let Qo,Fn;function Jo(){return(Jo=(0,j.Z)(function*(R,L,z,ce,Ve){if(Ve&&Ve.global)R("event",z,ce);else{const Je=yield L;R("event",z,Object.assign(Object.assign({},ce),{send_to:Je}))}})).apply(this,arguments)}function no(R){Fn=R}function Qa(R){Qo=R}function er(){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,j.Z)(function*(){var R;if(!(0,re.hl)())return Kr.warn(qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(L){return Kr.warn(qr.create("indexeddb-unavailable",{errorInfo:null===(R=L)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function ar(){return(ar=(0,j.Z)(function*(R,L,z,ce,Ve,Je,At){var $t;const On=Mt(R);On.then(is=>{z[is.measurementId]=is.appId,R.options.measurementId&&is.measurementId!==R.options.measurementId&&Kr.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${is.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(is=>Kr.error(is)),L.push(On);const Zn=er().then(is=>{if(is)return ce.getId()}),[ur,An]=yield Promise.all([On,Zn]);Ea(Je)||Eu(Je,ur.measurementId),Fn&&(Ve("consent","default",Fn),no(void 0)),Ve("js",new Date);const Ai=null!==($t=At?.config)&&void 0!==$t?$t:{};return Ai.origin="firebase",Ai.update=!0,null!=An&&(Ai[to]=An),Ve("config",ur.measurementId,Ai),Qo&&(Ve("set",Qo),Qa(void 0)),ur.measurementId})).apply(this,arguments)}class Ia{constructor(L){this.app=L}_delete(){return delete wr[this.app.options.appId],Promise.resolve()}}let wr={},Vt=[];const _o={};let oa,ro,sa="dataLayer",aa=!1;function $u(R,L,z){!function el(){const R=[];if((0,re.ru)()&&R.push("This is a browser extension environment."),(0,re.zI)()||R.push("Cookies are not available."),R.length>0){const L=R.map((ce,Ve)=>`(${Ve+1}) ${ce}`).join(" "),z=qr.create("invalid-analytics-context",{errorInfo:L});Kr.warn(z.message)}}();const ce=R.options.appId;if(!ce)throw qr.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw qr.create("no-api-key");Kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wr[ce])throw qr.create("already-exists",{id:ce});if(!aa){!function js(R){let L=[];Array.isArray(window[R])?L=window[R]:window[R]=L}(sa);const{wrappedGtag:Je,gtagCore:At}=function ra(R,L,z,ce,Ve){let Je=function(...At){window[ce].push(arguments)};return window[Ve]&&"function"==typeof window[Ve]&&(Je=window[Ve]),window[Ve]=function jo(R,L,z,ce){function Je(){return(Je=(0,j.Z)(function*(At,$t,On){try{"event"===At?yield Yo(R,L,z,$t,On):"config"===At?yield Uo(R,L,z,ce,$t,On):"consent"===At?R("consent","update",On):R("set",$t)}catch(Zn){Kr.error(Zn)}})).apply(this,arguments)}return function Ve(At,$t,On){return Je.apply(this,arguments)}}(Je,R,L,z),{gtagCore:Je,wrappedGtag:window[Ve]}}(wr,Vt,_o,sa,"gtag");ro=Je,oa=At,aa=!0}return wr[ce]=function yo(R,L,z,ce,Ve,Je,At){return ar.apply(this,arguments)}(R,Vt,_o,L,oa,sa,z),new Ia(R)}function tl(){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,j.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const ca="@firebase/analytics";!function rs(){(0,ge._registerComponent)(new _e.wA(Ms,(L,{options:z})=>$u(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,ge._registerComponent)(new _e.wA("analytics-internal",function R(L){try{const z=L.getProvider(Ms).getImmediate();return{logEvent:(ce,Ve,Je)=>function eu(R,L,z,ce){R=(0,re.m9)(R),function Za(R,L,z,ce,Ve){return Jo.apply(this,arguments)}(ro,wr[R.app.options.appId],L,z,ce).catch(Ve=>Kr.error(Ve))}(z,ce,Ve,Je)}}catch(z){throw qr.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,ge.registerVersion)(ca,"0.8.4"),(0,ge.registerVersion)(ca,"0.8.4","esm2017")}();var io=O(233),tu=O(4986),ba=O(8505),ea=O(9468),ms=O(5363);const Gu=new p.GfV("7.5.0"),vo="__angularfire_symbol__analyticsIsSupportedValue",da="__angularfire_symbol__analyticsIsSupported",Wr="__angularfire_symbol__remoteConfigIsSupportedValue",Ro="__angularfire_symbol__remoteConfigIsSupported",Lr="__angularfire_symbol__messagingIsSupportedValue",Fr="__angularfire_symbol__messagingIsSupported";function k(R,L,z){if(L){if(1===L.length)return L[0];const Je=L.filter(At=>At.app===z);if(1===Je.length)return Je[0]}return z.container.getProvider(R).getImmediate({optional:!0})}globalThis[da]||(globalThis[da]=tl().then(R=>globalThis[vo]=R).catch(()=>globalThis[vo]=!1)),globalThis[Fr]||(globalThis[Fr]=rn().then(R=>globalThis[Lr]=R).catch(()=>globalThis[Lr]=!1)),globalThis[Ro]||(globalThis[Ro]=as().then(R=>globalThis[Wr]=R).catch(()=>globalThis[Wr]=!1));const W=(R,L)=>{const z=L?[L]:(0,S.C6)(),ce=[];return z.forEach(Ve=>{Ve.container.getProvider(R).instances.forEach(At=>{ce.includes(At)||ce.push(At)})}),ce};function ue(){}class me{constructor(L,z=io.N){this.zone=L,this.delegate=z}now(){return this.delegate.now()}schedule(L,z,ce){const Ve=this.zone;return this.delegate.schedule(function(At){Ve.runGuarded(()=>{L.apply(this,[At])})},z,ce)}}class it{constructor(L){this.zone=L,this.task=null}call(L,z){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ue,{},ue,ue)),z.pipe((0,ba.b)({next:ce,complete:ce,error:ce})).subscribe(L).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ft=(()=>{class R{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new me(Zone.current)),this.insideAngular=z.run(()=>new me(Zone.current,tu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(z){return new(z||R)(p.LFG(p.R0b))},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Tn(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function $s(R){return Tn(),function Hs(R){return function(z){return(z=z.lift(new it(R.ngZone))).pipe((0,ea.R)(R.outsideAngular),(0,ms.Q)(R.insideAngular))}}(Tn())(R)}},2090:(Se,X,O)=>{"use strict";O.d(X,{$s:()=>kt,BH:()=>on,G6:()=>Fe,L:()=>he,LL:()=>mn,Pz:()=>Jt,Sg:()=>gt,UG:()=>Le,US:()=>_e,ZB:()=>ne,ZR:()=>qt,aH:()=>Ot,b$:()=>Re,eu:()=>dt,hl:()=>_t,jU:()=>lt,m9:()=>gn,ne:()=>bn,pd:()=>ti,r3:()=>Zt,ru:()=>Be,tV:()=>pe,uI:()=>He,vZ:()=>It,w1:()=>Et,xO:()=>Cn,xb:()=>sr,z$:()=>je,zI:()=>ee,zd:()=>Qr});const ge=function(Ie){const ye=[];let Ce=0;for(let ot=0;ot<Ie.length;ot++){let ke=Ie.charCodeAt(ot);ke<128?ye[Ce++]=ke:ke<2048?(ye[Ce++]=ke>>6|192,ye[Ce++]=63&ke|128):55296==(64512&ke)&&ot+1<Ie.length&&56320==(64512&Ie.charCodeAt(ot+1))?(ke=65536+((1023&ke)<<10)+(1023&Ie.charCodeAt(++ot)),ye[Ce++]=ke>>18|240,ye[Ce++]=ke>>12&63|128,ye[Ce++]=ke>>6&63|128,ye[Ce++]=63&ke|128):(ye[Ce++]=ke>>12|224,ye[Ce++]=ke>>6&63|128,ye[Ce++]=63&ke|128)}return ye},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ie,ye){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,ot=[];for(let ke=0;ke<Ie.length;ke+=3){const Nt=Ie[ke],nn=ke+1<Ie.length,Ln=nn?Ie[ke+1]:0,Jn=ke+2<Ie.length,Bn=Jn?Ie[ke+2]:0;let se=(15&Ln)<<2|Bn>>6,$e=63&Bn;Jn||($e=64,nn||(se=64)),ot.push(Ce[Nt>>2],Ce[(3&Nt)<<4|Ln>>4],Ce[se],Ce[$e])}return ot.join("")},encodeString(Ie,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(Ie):this.encodeByteArray(ge(Ie),ye)},decodeString(Ie,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(Ie):function(Ie){const ye=[];let Ce=0,ot=0;for(;Ce<Ie.length;){const ke=Ie[Ce++];if(ke<128)ye[ot++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const Nt=Ie[Ce++];ye[ot++]=String.fromCharCode((31&ke)<<6|63&Nt)}else if(ke>239&&ke<365){const Jn=((7&ke)<<18|(63&Ie[Ce++])<<12|(63&Ie[Ce++])<<6|63&Ie[Ce++])-65536;ye[ot++]=String.fromCharCode(55296+(Jn>>10)),ye[ot++]=String.fromCharCode(56320+(1023&Jn))}else{const Nt=Ie[Ce++],nn=Ie[Ce++];ye[ot++]=String.fromCharCode((15&ke)<<12|(63&Nt)<<6|63&nn)}}return ye.join("")}(this.decodeStringToByteArray(Ie,ye))},decodeStringToByteArray(Ie,ye){this.init_();const Ce=ye?this.charToByteMapWebSafe_:this.charToByteMap_,ot=[];for(let ke=0;ke<Ie.length;){const Nt=Ce[Ie.charAt(ke++)],Ln=ke<Ie.length?Ce[Ie.charAt(ke)]:0;++ke;const Bn=ke<Ie.length?Ce[Ie.charAt(ke)]:64;++ke;const oe=ke<Ie.length?Ce[Ie.charAt(ke)]:64;if(++ke,null==Nt||null==Ln||null==Bn||null==oe)throw Error();ot.push(Nt<<2|Ln>>4),64!==Bn&&(ot.push(Ln<<4&240|Bn>>2),64!==oe&&ot.push(Bn<<6&192|oe))}return ot},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}},he=function(Ie){return function(Ie){const ye=ge(Ie);return _e.encodeByteArray(ye,!0)}(Ie).replace(/\./g,"")},pe=function(Ie){try{return _e.decodeString(Ie,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function ne(Ie,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return ye}for(const Ce in ye)!ye.hasOwnProperty(Ce)||!ie(Ce)||(Ie[Ce]=ne(Ie[Ce],ye[Ce]));return Ie}function ie(Ie){return"__proto__"!==Ie}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lt(){return"object"==typeof self&&self.self===self}function Be(){const Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){const Ie=je();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0}function Fe(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _t(){return"object"==typeof indexedDB}function dt(){return new Promise((Ie,ye)=>{try{let Ce=!0;const ot="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(ot);ke.onsuccess=()=>{ke.result.close(),Ce||self.indexedDB.deleteDatabase(ot),Ie(!0)},ke.onupgradeneeded=()=>{Ce=!1},ke.onerror=()=>{var Nt;ye((null===(Nt=ke.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(Ce){ye(Ce)}})}function ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Pe=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ie=process.env.__FIREBASE_DEFAULTS__;return Ie?JSON.parse(Ie):void 0})()||(()=>{if(typeof document>"u")return;let Ie;try{Ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=Ie&&pe(Ie[1]);return ye&&JSON.parse(ye)})()}catch(Ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ie}`)}},Ot=()=>{var Ie;return null===(Ie=Pe())||void 0===Ie?void 0:Ie.config},Jt=Ie=>{var ye;return null===(ye=Pe())||void 0===ye?void 0:ye[`_${Ie}`]};class on{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,Ce)=>{this.resolve=ye,this.reject=Ce})}wrapCallback(ye){return(Ce,ot)=>{Ce?this.reject(Ce):this.resolve(ot),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(Ce):ye(Ce,ot))}}}function gt(Ie,ye){if(Ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ot=ye||"demo-project",ke=Ie.iat||0,Nt=Ie.sub||Ie.user_id;if(!Nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const nn=Object.assign({iss:`https://securetoken.google.com/${ot}`,aud:ot,iat:ke,exp:ke+3600,auth_time:ke,sub:Nt,user_id:Nt,firebase:{sign_in_provider:"custom",identities:{}}},Ie);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(nn)),""].join(".")}class qt extends Error{constructor(ye,Ce,ot){super(Ce),this.code=ye,this.customData=ot,this.name="FirebaseError",Object.setPrototypeOf(this,qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}}class mn{constructor(ye,Ce,ot){this.service=ye,this.serviceName=Ce,this.errors=ot}create(ye,...Ce){const ot=Ce[0]||{},ke=`${this.service}/${ye}`,Nt=this.errors[ye],nn=Nt?function Kt(Ie,ye){return Ie.replace(ht,(Ce,ot)=>{const ke=ye[ot];return null!=ke?String(ke):`<${ot}?>`})}(Nt,ot):"Error";return new qt(ke,`${this.serviceName}: ${nn} (${ke}).`,ot)}}const ht=/\{\$([^}]+)}/g;function Zt(Ie,ye){return Object.prototype.hasOwnProperty.call(Ie,ye)}function sr(Ie){for(const ye in Ie)if(Object.prototype.hasOwnProperty.call(Ie,ye))return!1;return!0}function It(Ie,ye){if(Ie===ye)return!0;const Ce=Object.keys(Ie),ot=Object.keys(ye);for(const ke of Ce){if(!ot.includes(ke))return!1;const Nt=Ie[ke],nn=ye[ke];if(Un(Nt)&&Un(nn)){if(!It(Nt,nn))return!1}else if(Nt!==nn)return!1}for(const ke of ot)if(!Ce.includes(ke))return!1;return!0}function Un(Ie){return null!==Ie&&"object"==typeof Ie}function Cn(Ie){const ye=[];for(const[Ce,ot]of Object.entries(Ie))Array.isArray(ot)?ot.forEach(ke=>{ye.push(encodeURIComponent(Ce)+"="+encodeURIComponent(ke))}):ye.push(encodeURIComponent(Ce)+"="+encodeURIComponent(ot));return ye.length?"&"+ye.join("&"):""}function Qr(Ie){const ye={};return Ie.replace(/^\?/,"").split("&").forEach(ot=>{if(ot){const[ke,Nt]=ot.split("=");ye[decodeURIComponent(ke)]=decodeURIComponent(Nt)}}),ye}function ti(Ie){const ye=Ie.indexOf("?");if(!ye)return"";const Ce=Ie.indexOf("#",ye);return Ie.substring(ye,Ce>0?Ce:void 0)}function bn(Ie,ye){const Ce=new kn(Ie,ye);return Ce.subscribe.bind(Ce)}class kn{constructor(ye,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{ye(this)}).catch(ot=>{this.error(ot)})}next(ye){this.forEachObserver(Ce=>{Ce.next(ye)})}error(ye){this.forEachObserver(Ce=>{Ce.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,Ce,ot){let ke;if(void 0===ye&&void 0===Ce&&void 0===ot)throw new Error("Missing Observer.");ke=function Dt(Ie,ye){if("object"!=typeof Ie||null===Ie)return!1;for(const Ce of ye)if(Ce in Ie&&"function"==typeof Ie[Ce])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:Ce,complete:ot},void 0===ke.next&&(ke.next=Wn),void 0===ke.error&&(ke.error=Wn),void 0===ke.complete&&(ke.complete=Wn);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),Nt}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,ye)}sendOne(ye,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{Ce(this.observers[ye])}catch(ot){typeof console<"u"&&console.error&&console.error(ot)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wn(){}function kt(Ie,ye=1e3,Ce=2){const ot=ye*Math.pow(Ce,Ie),ke=Math.round(.5*ot*(Math.random()-.5)*2);return Math.min(144e5,ot+ke)}function gn(Ie){return Ie&&Ie._delegate?Ie._delegate:Ie}},3259:(Se,X,O)=>{"use strict";O.d(X,{U:()=>j,a:()=>S});var p=O(9653);const S=(0,p.PH)("[Auth] setUser",(0,p.Ky)()),j=(0,p.PH)("[Auth] unSetUser")},7139:(Se,X,O)=>{"use strict";O.d(X,{H:()=>S,U:()=>j});var p=O(9653);const S=(0,p.PH)("[IngresoEgreso] unSet Items"),j=(0,p.PH)("[IngresoEgreso] Set Items",(0,p.Ky)())},1353:(Se,X,O)=>{"use strict";O.d(X,{e:()=>pe});var p=O(3259),S=O(7139),j=O(4004);class ge{constructor(ne,ie,je){this.uid=ne,this.nombre=ie,this.email=je}static fromFirebase({email:ne,uid:ie,nombre:je}){return new ge(ie,je,ne)}}var re=O(4650),_e=O(1041),de=O(7407),he=O(9653);let pe=(()=>{class te{constructor(ie,je,He){this.auth=ie,this.firestore=je,this.store=He}get user(){return this._user}initAuthListener(){this.auth.authState.subscribe(ie=>{ie?this.userSubscription=this.firestore.doc(`${ie.uid}/usuario`).valueChanges().subscribe(je=>{const He=ge.fromFirebase(je);this._user=He,this.store.dispatch(p.a({user:He}))}):(this._user=null,this.userSubscription?.unsubscribe(),this.store.dispatch(p.U()),this.store.dispatch(S.H()))})}crearUsuario(ie,je,He){return this.auth.createUserWithEmailAndPassword(je,He).then(({user:Le})=>{const lt=new ge(Le.uid,ie,je);return this.firestore.doc(`${Le?.uid}/usuario`).set({...lt})})}loginUsuario(ie,je){return this.auth.signInWithEmailAndPassword(ie,je)}logOutUsuario(){return this.auth.signOut()}isAuth(){return this.auth.authState.pipe((0,j.U)(ie=>null!=ie))}}return te.\u0275fac=function(ie){return new(ie||te)(re.LFG(_e.zQ),re.LFG(de.ST),re.LFG(he.yh))},te.\u0275prov=re.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})()},5299:(Se,X,O)=>{"use strict";O.d(X,{V:()=>j,h:()=>S});var p=O(9653);const S=(0,p.PH)("[UI Component] Is Loading"),j=(0,p.PH)("[UI Component] Stop Loading")},2787:(Se,X,O)=>{"use strict";var p=O(1481),S=O(4650);const j_firebase={projectId:"ingreso-egreso-app-6f7da",appId:"1:643960209890:web:0efd6cedb24a6c4f9cf9bb",storageBucket:"ingreso-egreso-app-6f7da.appspot.com",apiKey:"AIzaSyCqrzYhwYLl7c-fpwtn5d90mZuoX55zNSo",authDomain:"ingreso-egreso-app-6f7da.firebaseapp.com",messagingSenderId:"643960209890"};var ge=O(2011),re=O(7407),_e=O(1041),de=O(9653),he=O(5299);const te=(0,de.Lq)({isLoading:!1},(0,de.on)(he.h,ht=>({...ht,isLoading:!0})),(0,de.on)(he.V,ht=>({...ht,isLoading:!1})));var ne=O(3259);const He={ui:te,user:(0,de.Lq)({user:null},(0,de.on)(ne.a,(ht,{user:St})=>({...ht,user:{...St}})),(0,de.on)(ne.U,ht=>({...ht,user:null})))};var Le=O(825),lt=O(2607),Be=O(433),Re=O(727),ve=O(5226),Et=O.n(ve),Xe=O(1353),We=O(6895);function Fe(ht,St){1&ht&&S._UZ(0,"i",20)}function _t(ht,St){1&ht&&S._UZ(0,"i",20)}function dt(ht,St){if(1&ht&&(S.TgZ(0,"button",21),S._uU(1," Login "),S.qZA()),2&ht){const Pt=S.oxw();S.Q6J("disabled",Pt.loginForm.invalid)}}function ee(ht,St){1&ht&&(S.TgZ(0,"button",22),S._UZ(1,"i",23),S._uU(2," Espere... "),S.qZA()),2&ht&&S.Q6J("disabled",!0)}let Ke=(()=>{class ht{constructor(Pt,Gt,Pn,xn){this.fb=Pt,this.authService=Gt,this.router=Pn,this.store=xn,this.cargando=!1,this.cargandoSubs=new Re.w0}ngOnInit(){this.loginForm=this.fb.group({correo:["",[Be.kI.required,Be.kI.email]],password:["",Be.kI.required]}),this.cargandoSubs=this.store.select("ui").subscribe(Pt=>{this.cargando=Pt.isLoading})}ngOnDestroy(){this.cargandoSubs.unsubscribe()}login(){if(this.loginForm.invalid)return;this.store.dispatch(he.h());const{correo:Pt,password:Gt}=this.loginForm.value;this.authService.loginUsuario(Pt,Gt).then(Pn=>{this.store.dispatch(he.V()),this.router.navigateByUrl("dashboard")}).catch(Pn=>{this.store.dispatch(he.V()),Et().fire({title:"Error",text:Pn.message,icon:"error",confirmButtonText:"Cool"})})}}return ht.\u0275fac=function(Pt){return new(Pt||ht)(S.Y36(Be.qu),S.Y36(Xe.e),S.Y36(lt.F0),S.Y36(de.yh))},ht.\u0275cmp=S.Xpm({type:ht,selectors:[["app-login"]],decls:33,vars:5,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","auth-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4",2,"color","white"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label"],[1,"input-group"],["type","email","placeholder","Email","formControlName","correo",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","password","placeholder","*********","formControlName","password",1,"form-control"],["type","submit","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/register",1,"text-black","text-small"],[1,"fa","fa-check-circle"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],["type","button",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"fa","fa-spin","fa-sync"]],template:function(Pt,Gt){if(1&Pt&&(S.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),S._uU(5,"Ingresar"),S.qZA(),S.TgZ(6,"div",5)(7,"form",6),S.NdJ("ngSubmit",function(){return Gt.login()}),S.TgZ(8,"div",7)(9,"label",8),S._uU(10,"Usuario"),S.qZA(),S.TgZ(11,"div",9),S._UZ(12,"input",10),S.TgZ(13,"div",11)(14,"span",12),S.YNc(15,Fe,1,0,"i",13),S.qZA()()()(),S.TgZ(16,"div",7)(17,"label",8),S._uU(18,"Contrase\xf1a"),S.qZA(),S.TgZ(19,"div",9),S._UZ(20,"input",14),S.TgZ(21,"div",11)(22,"span",12),S.YNc(23,_t,1,0,"i",13),S.qZA()()()(),S.TgZ(24,"div",7),S.YNc(25,dt,2,1,"button",15),S.YNc(26,ee,3,1,"button",16),S.qZA(),S.TgZ(27,"div",17)(28,"span",18),S._uU(29,"No estas registrado? "),S.qZA(),S._UZ(30,"br"),S.TgZ(31,"a",19),S._uU(32,"Crear una cuenta"),S.qZA()()()()()()()()),2&Pt){let Pn,xn;S.xp6(7),S.Q6J("formGroup",Gt.loginForm),S.xp6(8),S.Q6J("ngIf",null==(Pn=Gt.loginForm.get("correo"))?null:Pn.valid),S.xp6(8),S.Q6J("ngIf",null==(xn=Gt.loginForm.get("password"))?null:xn.valid),S.xp6(2),S.Q6J("ngIf",!Gt.cargando),S.xp6(1),S.Q6J("ngIf",Gt.cargando)}},dependencies:[We.O5,Be._Y,Be.Fj,Be.JJ,Be.JL,Be.sg,Be.u,lt.yS],encapsulation:2}),ht})();function le(ht,St){1&ht&&S._UZ(0,"i",20)}function Ae(ht,St){1&ht&&S._UZ(0,"i",20)}function xe(ht,St){1&ht&&S._UZ(0,"i",20)}function Pe(ht,St){if(1&ht&&(S.TgZ(0,"button",21),S._uU(1," Crear cuenta "),S.qZA()),2&ht){const Pt=S.oxw();S.Q6J("disabled",Pt.registroForm.invalid)}}function yt(ht,St){1&ht&&(S.TgZ(0,"button",22),S._UZ(1,"i",23),S._uU(2," Espere... "),S.qZA()),2&ht&&S.Q6J("disabled",!0)}let st=(()=>{class ht{constructor(Pt,Gt,Pn,xn){this.fb=Pt,this.authService=Gt,this.router=Pn,this.store=xn,this.cargando=!1,this.cargandoSubs=new Re.w0}ngOnInit(){this.registroForm=this.fb.group({nombre:["",Be.kI.required],correo:["",[Be.kI.required,Be.kI.email]],password:["",Be.kI.required]}),this.cargandoSubs=this.store.select("ui").subscribe(Pt=>this.cargando=Pt.isLoading)}ngOnDestroy(){this.cargandoSubs.unsubscribe()}crearUsuario(){if(this.registroForm.invalid)return;this.store.dispatch(he.h());const{nombre:Pt,correo:Gt,password:Pn}=this.registroForm.value;this.authService.crearUsuario(Pt,Gt,Pn).then(xn=>{this.store.dispatch(he.V()),this.router.navigateByUrl("dashboard")}).catch(xn=>{this.store.dispatch(he.V()),Et().fire({title:"Error",text:xn.message,icon:"error",confirmButtonText:"Cool"})})}}return ht.\u0275fac=function(Pt){return new(Pt||ht)(S.Y36(Be.qu),S.Y36(Xe.e),S.Y36(lt.F0),S.Y36(de.yh))},ht.\u0275cmp=S.Xpm({type:ht,selectors:[["app-register"]],decls:35,vars:6,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","register-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","email","placeholder","Correo","formControlName","correo",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","submit","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/login",1,"text-black","text-small"],[1,"fa","fa-check-circle"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],["type","button",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"fa","fa-spin","fa-sync"]],template:function(Pt,Gt){if(1&Pt&&(S.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),S._uU(5,"Registro"),S.qZA(),S.TgZ(6,"div",5)(7,"form",6),S.NdJ("ngSubmit",function(){return Gt.crearUsuario()}),S.TgZ(8,"div",7)(9,"div",8),S._UZ(10,"input",9),S.TgZ(11,"div",10)(12,"span",11),S.YNc(13,le,1,0,"i",12),S.qZA()()()(),S.TgZ(14,"div",7)(15,"div",8),S._UZ(16,"input",13),S.TgZ(17,"div",10)(18,"span",11),S.YNc(19,Ae,1,0,"i",12),S.qZA()()()(),S.TgZ(20,"div",7)(21,"div",8),S._UZ(22,"input",14),S.TgZ(23,"div",10)(24,"span",11),S.YNc(25,xe,1,0,"i",12),S.qZA()()()(),S.TgZ(26,"div",7),S.YNc(27,Pe,2,1,"button",15),S.YNc(28,yt,3,1,"button",16),S.qZA(),S.TgZ(29,"div",17)(30,"span",18),S._uU(31,"Ya tienes una cuenta?"),S.qZA(),S._UZ(32,"br"),S.TgZ(33,"a",19),S._uU(34,"Login"),S.qZA()()()()()()()()),2&Pt){let Pn,xn,nr;S.xp6(7),S.Q6J("formGroup",Gt.registroForm),S.xp6(6),S.Q6J("ngIf",null==(Pn=Gt.registroForm.get("nombre"))?null:Pn.valid),S.xp6(6),S.Q6J("ngIf",null==(xn=Gt.registroForm.get("correo"))?null:xn.valid),S.xp6(6),S.Q6J("ngIf",null==(nr=Gt.registroForm.get("password"))?null:nr.valid),S.xp6(2),S.Q6J("ngIf",!Gt.cargando),S.xp6(1),S.Q6J("ngIf",Gt.cargando)}},dependencies:[We.O5,Be._Y,Be.Fj,Be.JJ,Be.JL,Be.sg,Be.u,lt.yS],encapsulation:2}),ht})();var Ot=O(8505),Jt=O(5698);const gt=[{path:"login",component:Ke},{path:"register",component:st},{path:"",canLoad:[(()=>{class ht{constructor(Pt,Gt){this.authService=Pt,this.router=Gt}canLoad(){return this.authService.isAuth().pipe((0,Ot.b)(Pt=>{Pt||this.router.navigateByUrl("login")}),(0,Jt.q)(1))}canActivate(){return this.authService.isAuth().pipe((0,Ot.b)(Pt=>{Pt||this.router.navigateByUrl("login")}))}}return ht.\u0275fac=function(Pt){return new(Pt||ht)(S.LFG(Xe.e),S.LFG(lt.F0))},ht.\u0275prov=S.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})()],loadChildren:()=>O.e(897).then(O.bind(O,8897)).then(ht=>ht.IngresoEgresoModule)},{path:"**",redirectTo:""}];let Xt=(()=>{class ht{}return ht.\u0275fac=function(Pt){return new(Pt||ht)},ht.\u0275mod=S.oAB({type:ht}),ht.\u0275inj=S.cJS({imports:[lt.Bz.forRoot(gt),lt.Bz]}),ht})(),qt=(()=>{class ht{}return ht.\u0275fac=function(Pt){return new(Pt||ht)},ht.\u0275mod=S.oAB({type:ht}),ht.\u0275inj=S.cJS({imports:[We.ez,Be.UX,lt.Bz]}),ht})(),mn=(()=>{class ht{constructor(Pt){this.authService=Pt,this.title="ingresoEgresoApp",this.authService.initAuthListener()}}return ht.\u0275fac=function(Pt){return new(Pt||ht)(S.Y36(Xe.e))},ht.\u0275cmp=S.Xpm({type:ht,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-scroller"]],template:function(Pt,Gt){1&Pt&&(S.TgZ(0,"div",0),S._UZ(1,"router-outlet"),S.qZA())},dependencies:[lt.lC]}),ht})(),Kt=(()=>{class ht{}return ht.\u0275fac=function(Pt){return new(Pt||ht)},ht.\u0275mod=S.oAB({type:ht,bootstrap:[mn]}),ht.\u0275inj=S.cJS({imports:[p.b2,qt,Xt,ge.hO.initializeApp(j_firebase),re.yb,_e.ww,de.Aw.forRoot(He),Le.FT.instrument({maxAge:25,logOnly:true,autoPause:!0})]}),ht})();(0,S.G48)(),p.q6().bootstrapModule(Kt).catch(ht=>console.error(ht))},5867:(Se,X,O)=>{"use strict";O.d(X,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=O(9681);(0,p.registerVersion)("firebase","9.14.0","app")},127:(Se,X,O)=>{"use strict";O.d(X,{Z:()=>p.Z});var p=O(3942);p.Z.registerVersion("firebase","9.14.0","app-compat")},1277:(Se,X,O)=>{"use strict";O.r(X);var p=O(5861),S=O(3942),j=O(2090),ge=O(9681),re=O(1877),_e=O(655),de=O(4859);const Le=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new re.Yd("@firebase/auth");function Et(m,...l){ve.logLevel<=re.in.ERROR&&ve.error(`Auth (${ge.SDK_VERSION}): ${m}`,...l)}function Xe(m,...l){throw dt(m,...l)}function We(m,...l){return dt(m,...l)}function Fe(m,l,f){const w=Object.assign(Object.assign({},lt()),{[l]:f});return new j.LL("auth","Firebase",w).create(l,{appName:m.name})}function _t(m,l,f){if(!(l instanceof f))throw f.name!==l.constructor.name&&Xe(m,"argument-error"),Fe(m,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dt(m,...l){if("string"!=typeof m){const f=l[0],w=[...l.slice(1)];return w[0]&&(w[0].appName=m.name),m._errorFactory.create(f,...w)}return Be.create(m,...l)}function ee(m,l,...f){if(!m)throw dt(l,...f)}function Ke(m){const l="INTERNAL ASSERTION FAILED: "+m;throw Et(l),new Error(l)}function le(m,l){m||Ke(l)}const Ae=new Map;function xe(m){le(m instanceof Function,"Expected a class definition");let l=Ae.get(m);return l?(le(l instanceof m,"Instance stored in cache mismatched with class"),l):(l=new m,Ae.set(m,l),l)}function st(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Ot(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Xt{constructor(l,f){this.shortDelay=l,this.longDelay=f,le(f>l,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function on(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ot()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qt(m,l){le(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return l?`${f}${l.startsWith("/")?l.slice(1):l}`:f}class mn{static initialize(l,f,w){this.fetchImpl=l,f&&(this.headersImpl=f),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ht=new Xt(3e4,6e4);function St(m,l){return m.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:m.tenantId}):l}function Pt(m,l,f,w){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,p.Z)(function*(m,l,f,w,B={}){return Pn(m,B,(0,p.Z)(function*(){let Y={},Oe={};w&&("GET"===l?Oe=w:Y={body:JSON.stringify(w)});const at=(0,j.xO)(Object.assign({key:m.config.apiKey},Oe)).slice(1),Ht=yield m._getAdditionalHeaders();return Ht["Content-Type"]="application/json",m.languageCode&&(Ht["X-Firebase-Locale"]=m.languageCode),mn.fetch()(Zt(m,m.config.apiHost,f,at),Object.assign({method:l,headers:Ht,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function Pn(m,l,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,p.Z)(function*(m,l,f){m._canInitEmulator=!1;const w=Object.assign(Object.assign({},Kt),l);try{const B=new Rn(m),Y=yield Promise.race([f(),B.promise]);B.clearNetworkTimeout();const Oe=yield Y.json();if("needConfirmation"in Oe)throw sr(m,"account-exists-with-different-credential",Oe);if(Y.ok&&!("errorMessage"in Oe))return Oe;{const at=Y.ok?Oe.errorMessage:Oe.error.message,[Ht,hn]=at.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ht)throw sr(m,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===Ht)throw sr(m,"email-already-in-use",Oe);if("USER_DISABLED"===Ht)throw sr(m,"user-disabled",Oe);const _n=w[Ht]||Ht.toLowerCase().replace(/[_\s]+/g,"-");if(hn)throw Fe(m,_n,hn);Xe(m,_n)}}catch(B){if(B instanceof j.ZR)throw B;Xe(m,"network-request-failed")}})).apply(this,arguments)}function nr(m,l,f,w){return fn.apply(this,arguments)}function fn(){return(fn=(0,p.Z)(function*(m,l,f,w,B={}){const Y=yield Pt(m,l,f,w,B);return"mfaPendingCredential"in Y&&Xe(m,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function Zt(m,l,f,w){const B=`${l}${f}?${w}`;return m.config.emulator?qt(m.config,B):`${m.config.apiScheme}://${B}`}class Rn{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((f,w)=>{this.timer=setTimeout(()=>w(We(this.auth,"network-request-failed")),ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(m,l,f){const w={appName:m.name};f.email&&(w.email=f.email),f.phoneNumber&&(w.phoneNumber=f.phoneNumber);const B=We(m,l,w);return B.customData._tokenResponse=f,B}function It(){return(It=(0,p.Z)(function*(m,l){return Pt(m,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Un(m,l){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,p.Z)(function*(m,l){return Pt(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Cn(m,l){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(m,l){return Pt(m,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function ti(m){if(m)try{const l=new Date(Number(m));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function kn(){return(kn=(0,p.Z)(function*(m,l=!1){const f=(0,j.m9)(m),w=yield f.getIdToken(l),B=Dt(w);ee(B&&B.exp&&B.auth_time&&B.iat,f.auth,"internal-error");const Y="object"==typeof B.firebase?B.firebase:void 0,Oe=Y?.sign_in_provider;return{claims:B,token:w,authTime:ti(tn(B.auth_time)),issuedAtTime:ti(tn(B.iat)),expirationTime:ti(tn(B.exp)),signInProvider:Oe||null,signInSecondFactor:Y?.sign_in_second_factor||null}})).apply(this,arguments)}function tn(m){return 1e3*Number(m)}function Dt(m){var l;const[f,w,B]=m.split(".");if(void 0===f||void 0===w||void 0===B)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,j.tV)(w);return Y?JSON.parse(Y):(Et("Failed to decode base64 JWT payload"),null)}catch(Y){return Et("Caught error parsing JWT payload as JSON",null===(l=Y)||void 0===l?void 0:l.toString()),null}}function pr(m,l){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,p.Z)(function*(m,l,f=!1){if(f)return l;try{return yield l}catch(w){throw w instanceof j.ZR&&$r(w)&&m.auth.currentUser===m&&(yield m.auth.signOut()),w}})).apply(this,arguments)}function $r({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class vn{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var f;if(l){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const B=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(l=!1){var f=this;if(!this.isRunning)return;const w=this.getInterval(l);this.timerId=setTimeout((0,p.Z)(function*(){yield f.iteration()}),w)}iteration(){var l=this;return(0,p.Z)(function*(){var f;try{yield l.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(f=w)||void 0===f?void 0:f.code)&&l.schedule(!0))}l.schedule()})()}}class Tr{constructor(l,f){this.createdAt=l,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=ti(this.lastLoginAt),this.creationTime=ti(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(m){return ni.apply(this,arguments)}function ni(){return(ni=(0,p.Z)(function*(m){var l;const f=m.auth,w=yield m.getIdToken(),B=yield pr(m,Cn(f,{idToken:w}));ee(B?.users.length,f,"internal-error");const Y=B.users[0];m._notifyReloadListener(Y);const Oe=null!==(l=Y.providerUserInfo)&&void 0!==l&&l.length?jt(Y.providerUserInfo):[],at=cn(m.providerData,Oe),_n=!!m.isAnonymous&&!(m.email&&Y.passwordHash||at?.length),Nn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:at,metadata:new Tr(Y.createdAt,Y.lastLoginAt),isAnonymous:_n};Object.assign(m,Nn)})).apply(this,arguments)}function gr(){return(gr=(0,p.Z)(function*(m){const l=(0,j.m9)(m);yield Hn(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function cn(m,l){return[...m.filter(w=>!l.some(B=>B.providerId===w.providerId)),...l]}function jt(m){return m.map(l=>{var{providerId:f}=l,w=(0,_e._T)(l,["providerId"]);return{providerId:f,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function kt(){return(kt=(0,p.Z)(function*(m,l){const f=yield Pn(m,{},(0,p.Z)(function*(){const w=(0,j.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:B,apiKey:Y}=m.config,Oe=Zt(m,B,"/v1/token",`key=${Y}`),at=yield m._getAdditionalHeaders();return at["Content-Type"]="application/x-www-form-urlencoded",mn.fetch()(Oe,{method:"POST",headers:at,body:w})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class ln{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ee(l.idToken,"internal-error"),ee(typeof l.idToken<"u","internal-error"),ee(typeof l.refreshToken<"u","internal-error");const f="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function Wn(m){const l=Dt(m);return ee(l,"internal-error"),ee(typeof l.exp<"u","internal-error"),ee(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,f)}getToken(l,f=!1){var w=this;return(0,p.Z)(function*(){return ee(!w.accessToken||w.refreshToken,l,"user-token-expired"),f||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(l,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,f){var w=this;return(0,p.Z)(function*(){const{accessToken:B,refreshToken:Y,expiresIn:Oe}=yield function mt(m,l){return kt.apply(this,arguments)}(l,f);w.updateTokensAndExpiration(B,Y,Number(Oe))})()}updateTokensAndExpiration(l,f,w){this.refreshToken=f||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(l,f){const{refreshToken:w,accessToken:B,expirationTime:Y}=f,Oe=new ln;return w&&(ee("string"==typeof w,"internal-error",{appName:l}),Oe.refreshToken=w),B&&(ee("string"==typeof B,"internal-error",{appName:l}),Oe.accessToken=B),Y&&(ee("number"==typeof Y,"internal-error",{appName:l}),Oe.expirationTime=Y),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new ln,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function un(m,l){ee("string"==typeof m||typeof m>"u","internal-error",{appName:l})}class gn{constructor(l){var{uid:f,auth:w,stsTokenManager:B}=l,Y=(0,_e._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=w,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new Tr(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(l){var f=this;return(0,p.Z)(function*(){const w=yield pr(f,f.stsTokenManager.getToken(f.auth,l));return ee(w,f.auth,"internal-error"),f.accessToken!==w&&(f.accessToken=w,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),w})()}getIdTokenResult(l){return function bn(m){return kn.apply(this,arguments)}(this,l)}reload(){return function qn(m){return gr.apply(this,arguments)}(this)}_assign(l){this!==l&&(ee(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(f=>Object.assign({},f)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new gn(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,f=!1){var w=this;return(0,p.Z)(function*(){let B=!1;l.idToken&&l.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(l),B=!0),f&&(yield Hn(w)),yield w.auth._persistUserIfCurrent(w),B&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var l=this;return(0,p.Z)(function*(){const f=yield l.getIdToken();return yield pr(l,function pn(m,l){return It.apply(this,arguments)}(l.auth,{idToken:f})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,f){var w,B,Y,Oe,at,Ht,hn,_n;const Nn=null!==(w=f.displayName)&&void 0!==w?w:void 0,bs=null!==(B=f.email)&&void 0!==B?B:void 0,pi=null!==(Y=f.phoneNumber)&&void 0!==Y?Y:void 0,$a=null!==(Oe=f.photoURL)&&void 0!==Oe?Oe:void 0,xc=null!==(at=f.tenantId)&&void 0!==at?at:void 0,od=null!==(Ht=f._redirectEventId)&&void 0!==Ht?Ht:void 0,Uf=null!==(hn=f.createdAt)&&void 0!==hn?hn:void 0,Bf=null!==(_n=f.lastLoginAt)&&void 0!==_n?_n:void 0,{uid:mh,emailVerified:jf,isAnonymous:ad,providerData:ud,stsTokenManager:yh}=f;ee(mh&&yh,l,"internal-error");const $f=ln.fromJSON(this.name,yh);ee("string"==typeof mh,l,"internal-error"),un(Nn,l.name),un(bs,l.name),ee("boolean"==typeof jf,l,"internal-error"),ee("boolean"==typeof ad,l,"internal-error"),un(pi,l.name),un($a,l.name),un(xc,l.name),un(od,l.name),un(Uf,l.name),un(Bf,l.name);const cd=new gn({uid:mh,auth:l,email:bs,emailVerified:jf,displayName:Nn,isAnonymous:ad,photoURL:$a,phoneNumber:pi,tenantId:xc,stsTokenManager:$f,createdAt:Uf,lastLoginAt:Bf});return ud&&Array.isArray(ud)&&(cd.providerData=ud.map(ld=>Object.assign({},ld))),od&&(cd._redirectEventId=od),cd}static _fromIdTokenResponse(l,f,w=!1){return(0,p.Z)(function*(){const B=new ln;B.updateFromServerResponse(f);const Y=new gn({uid:f.localId,auth:l,stsTokenManager:B,isAnonymous:w});return yield Hn(Y),Y})()}}const ye=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(f,w){var B=this;return(0,p.Z)(function*(){B.storage[f]=w})()}_get(f){var w=this;return(0,p.Z)(function*(){const B=w.storage[f];return void 0===B?null:B})()}_remove(f){var w=this;return(0,p.Z)(function*(){delete w.storage[f]})()}_addListener(f,w){}_removeListener(f,w){}}return m.type="NONE",m})();function Ce(m,l,f){return`firebase:${m}:${l}:${f}`}class ot{constructor(l,f,w){this.persistence=l,this.auth=f,this.userKey=w;const{config:B,name:Y}=this.auth;this.fullUserKey=Ce(this.userKey,B.apiKey,Y),this.fullPersistenceKey=Ce("persistence",B.apiKey,Y),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,p.Z)(function*(){const f=yield l.persistence._get(l.fullUserKey);return f?gn._fromJSON(l.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var f=this;return(0,p.Z)(function*(){if(f.persistence===l)return;const w=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=l,w?f.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,f,w="authUser"){return(0,p.Z)(function*(){if(!f.length)return new ot(xe(ye),l,w);const B=(yield Promise.all(f.map(function(){var hn=(0,p.Z)(function*(_n){if(yield _n._isAvailable())return _n});return function(_n){return hn.apply(this,arguments)}}()))).filter(hn=>hn);let Y=B[0]||xe(ye);const Oe=Ce(w,l.config.apiKey,l.name);let at=null;for(const hn of f)try{const _n=yield hn._get(Oe);if(_n){const Nn=gn._fromJSON(l,_n);hn!==Y&&(at=Nn),Y=hn;break}}catch{}const Ht=B.filter(hn=>hn._shouldAllowMigration);return Y._shouldAllowMigration&&Ht.length?(Y=Ht[0],at&&(yield Y._set(Oe,at.toJSON())),yield Promise.all(f.map(function(){var hn=(0,p.Z)(function*(_n){if(_n!==Y)try{yield _n._remove(Oe)}catch{}});return function(_n){return hn.apply(this,arguments)}}())),new ot(Y,l,w)):new ot(Y,l,w)})()}}function ke(m){const l=m.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Jn(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Nt(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(we(l))return"Blackberry";if(oe(l))return"Webos";if(nn(l))return"Safari";if((l.includes("chrome/")||Ln(l))&&!l.includes("edge/"))return"Chrome";if(Bn(l))return"Android";{const w=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Nt(m=(0,j.z$)()){return/firefox\//i.test(m)}function nn(m=(0,j.z$)()){const l=m.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function Ln(m=(0,j.z$)()){return/crios\//i.test(m)}function Jn(m=(0,j.z$)()){return/iemobile/i.test(m)}function Bn(m=(0,j.z$)()){return/android/i.test(m)}function we(m=(0,j.z$)()){return/blackberry/i.test(m)}function oe(m=(0,j.z$)()){return/webos/i.test(m)}function se(m=(0,j.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function yn(m=(0,j.z$)()){return se(m)||Bn(m)||oe(m)||we(m)||/windows phone/i.test(m)||Jn(m)}function jn(m,l=[]){let f;switch(m){case"Browser":f=ke((0,j.z$)());break;case"Worker":f=`${ke((0,j.z$)())}-${m}`;break;default:f=m}const w=l.length?l.join(","):"FirebaseCore-web";return`${f}/JsCore/${ge.SDK_VERSION}/${w}`}class ci{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,f){const w=Y=>new Promise((Oe,at)=>{try{Oe(l(Y))}catch(Ht){at(Ht)}});w.onAbort=f,this.queue.push(w);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(l){var f=this;return(0,p.Z)(function*(){var w;if(f.auth.currentUser===l)return;const B=[];try{for(const Y of f.queue)yield Y(l),Y.onAbort&&B.push(Y.onAbort)}catch(Y){B.reverse();for(const Oe of B)try{Oe()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=Y)||void 0===w?void 0:w.message})}})()}}class En{constructor(l,f,w){this.app=l,this.heartbeatServiceProvider=f,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vr(this),this.idTokenSubscription=new Vr(this),this.beforeStateQueue=new ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(l,f){var w=this;return f&&(this._popupRedirectResolver=xe(f)),this._initializationPromise=this.queue((0,p.Z)(function*(){var B,Y;if(!w._deleted&&(w.persistenceManager=yield ot.create(w,l),!w._deleted)){if(null!==(B=w._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(f),w.lastNotifiedUid=(null===(Y=w.currentUser)||void 0===Y?void 0:Y.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,p.Z)(function*(){if(l._deleted)return;const f=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||f){if(l.currentUser&&f&&l.currentUser.uid===f.uid)return l._currentUser._assign(f),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(f,!0)}})()}initializeCurrentUser(l){var f=this;return(0,p.Z)(function*(){var w;const B=yield f.assertedPersistence.getCurrentUser();let Y=B,Oe=!1;if(l&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const at=null===(w=f.redirectUser)||void 0===w?void 0:w._redirectEventId,Ht=Y?._redirectEventId,hn=yield f.tryRedirectSignIn(l);(!at||at===Ht)&&hn?.user&&(Y=hn.user,Oe=!0)}if(!Y)return f.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Oe)try{yield f.beforeStateQueue.runMiddleware(Y)}catch(at){Y=B,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(at))}return Y?f.reloadAndSetCurrentUserOrClear(Y):f.directlySetCurrentUser(null)}return ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===Y._redirectEventId?f.directlySetCurrentUser(Y):f.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(l){var f=this;return(0,p.Z)(function*(){let w=null;try{w=yield f._popupRedirectResolver._completeRedirectFn(f,l,!0)}catch{yield f._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(l){var f=this;return(0,p.Z)(function*(){var w;try{yield Hn(l)}catch(B){if("auth/network-request-failed"!==(null===(w=B)||void 0===w?void 0:w.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function gt(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var l=this;return(0,p.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var f=this;return(0,p.Z)(function*(){const w=l?(0,j.m9)(l):null;return w&&ee(w.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(w&&w._clone(f))})()}_updateCurrentUser(l,f=!1){var w=this;return(0,p.Z)(function*(){if(!w._deleted)return l&&ee(w.tenantId===l.tenantId,w,"tenant-id-mismatch"),f||(yield w.beforeStateQueue.runMiddleware(l)),w.queue((0,p.Z)(function*(){yield w.directlySetCurrentUser(l),w.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,p.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var f=this;return this.queue((0,p.Z)(function*(){yield f.assertedPersistence.setPersistence(xe(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new j.LL("auth","Firebase",l())}onAuthStateChanged(l,f,w){return this.registerStateListener(this.authStateSubscription,l,f,w)}beforeAuthStateChanged(l,f){return this.beforeStateQueue.pushCallback(l,f)}onIdTokenChanged(l,f,w){return this.registerStateListener(this.idTokenSubscription,l,f,w)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,f){var w=this;return(0,p.Z)(function*(){const B=yield w.getOrInitRedirectPersistenceManager(f);return null===l?B.removeCurrentUser():B.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var f=this;return(0,p.Z)(function*(){if(!f.redirectPersistenceManager){const w=l&&xe(l)||f._popupRedirectResolver;ee(w,f,"argument-error"),f.redirectPersistenceManager=yield ot.create(f,[xe(w._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(l){var f=this;return(0,p.Z)(function*(){var w,B;return f._isInitialized&&(yield f.queue((0,p.Z)(function*(){}))),(null===(w=f._currentUser)||void 0===w?void 0:w._redirectEventId)===l?f._currentUser:(null===(B=f.redirectUser)||void 0===B?void 0:B._redirectEventId)===l?f.redirectUser:null})()}_persistUserIfCurrent(l){var f=this;return(0,p.Z)(function*(){if(l===f.currentUser)return f.queue((0,p.Z)(function*(){return f.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(f=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,f,w,B){if(this._deleted)return()=>{};const Y="function"==typeof f?f:f.next.bind(f),Oe=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(Oe,this,"internal-error"),Oe.then(()=>Y(this.currentUser)),"function"==typeof f?l.addObserver(f,w,B):l.addObserver(f)}directlySetCurrentUser(l){var f=this;return(0,p.Z)(function*(){f.currentUser&&f.currentUser!==l&&f._currentUser._stopProactiveRefresh(),l&&f.isProactiveRefreshEnabled&&l._startProactiveRefresh(),f.currentUser=l,l?yield f.assertedPersistence.setCurrentUser(l):yield f.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,p.Z)(function*(){var f;const w={"X-Client-Version":l.clientVersion};l.app.options.appId&&(w["X-Firebase-gmpid"]=l.app.options.appId);const B=yield null===(f=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return B&&(w["X-Firebase-Client"]=B),w})()}}function mr(m){return(0,j.m9)(m)}class Vr{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,j.ne)(f=>this.observer=f)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mi(m){const l=m.indexOf(":");return l<0?"":m.substr(0,l+1)}function Mi(m){if(!m)return null;const l=Number(m);return isNaN(l)?null:l}class Ar{constructor(l,f){this.providerId=l,this.signInMethod=f}toJSON(){return Ke("not implemented")}_getIdTokenResponse(l){return Ke("not implemented")}_linkToIdToken(l,f){return Ke("not implemented")}_getReauthenticationResolver(l){return Ke("not implemented")}}function Er(m,l){return di.apply(this,arguments)}function di(){return(di=(0,p.Z)(function*(m,l){return Pt(m,"POST","/v1/accounts:resetPassword",St(m,l))})).apply(this,arguments)}function Xn(m,l){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,p.Z)(function*(m,l){return Pt(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function os(m,l){return ii.apply(this,arguments)}function ii(){return(ii=(0,p.Z)(function*(m,l){return Pt(m,"POST","/v1/accounts:update",St(m,l))})).apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(m,l){return nr(m,"POST","/v1/accounts:signInWithPassword",St(m,l))})).apply(this,arguments)}function yi(m,l){return bi.apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(m,l){return Pt(m,"POST","/v1/accounts:sendOobCode",St(m,l))})).apply(this,arguments)}function Or(m,l){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,p.Z)(function*(m,l){return yi(m,l)})).apply(this,arguments)}function yr(m,l){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(m,l){return yi(m,l)})).apply(this,arguments)}function Cs(m,l){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,p.Z)(function*(m,l){return yi(m,l)})).apply(this,arguments)}function Ps(m,l){return vr.apply(this,arguments)}function vr(){return(vr=(0,p.Z)(function*(m,l){return yi(m,l)})).apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*(m,l){return nr(m,"POST","/v1/accounts:signInWithEmailLink",St(m,l))})).apply(this,arguments)}function Qe(){return(Qe=(0,p.Z)(function*(m,l){return nr(m,"POST","/v1/accounts:signInWithEmailLink",St(m,l))})).apply(this,arguments)}class Lt extends Ar{constructor(l,f,w,B=null){super("password",w),this._email=l,this._password=f,this._tenantId=B}static _fromEmailAndPassword(l,f){return new Lt(l,f,"password")}static _fromEmailAndCode(l,f,w=null){return new Lt(l,f,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(l){var f=this;return(0,p.Z)(function*(){switch(f.signInMethod){case"password":return function Gi(m,l){return hi.apply(this,arguments)}(l,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function fe(m,l){return ze.apply(this,arguments)}(l,{email:f._email,oobCode:f._password});default:Xe(l,"internal-error")}})()}_linkToIdToken(l,f){var w=this;return(0,p.Z)(function*(){switch(w.signInMethod){case"password":return Xn(l,{idToken:f,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ue(m,l){return Qe.apply(this,arguments)}(l,{idToken:f,email:w._email,oobCode:w._password});default:Xe(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Ct(m,l){return De.apply(this,arguments)}function De(){return(De=(0,p.Z)(function*(m,l){return nr(m,"POST","/v1/accounts:signInWithIdp",St(m,l))})).apply(this,arguments)}class Ne extends Ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const f=new Ne(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(f.idToken=l.idToken),l.accessToken&&(f.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(f.nonce=l.nonce),l.pendingToken&&(f.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(f.accessToken=l.oauthToken,f.secret=l.oauthTokenSecret):Xe("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l,{providerId:w,signInMethod:B}=f,Y=(0,_e._T)(f,["providerId","signInMethod"]);if(!w||!B)return null;const Oe=new Ne(w,B);return Oe.idToken=Y.idToken||void 0,Oe.accessToken=Y.accessToken||void 0,Oe.secret=Y.secret,Oe.nonce=Y.nonce,Oe.pendingToken=Y.pendingToken||null,Oe}_getIdTokenResponse(l){return Ct(l,this.buildRequest())}_linkToIdToken(l,f){const w=this.buildRequest();return w.idToken=f,Ct(l,w)}_getReauthenticationResolver(l){const f=this.buildRequest();return f.autoCreate=!1,Ct(l,f)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),l.postBody=(0,j.xO)(f)}return l}}function ct(m,l){return pt.apply(this,arguments)}function pt(){return(pt=(0,p.Z)(function*(m,l){return Pt(m,"POST","/v1/accounts:sendVerificationCode",St(m,l))})).apply(this,arguments)}function Sn(){return(Sn=(0,p.Z)(function*(m,l){return nr(m,"POST","/v1/accounts:signInWithPhoneNumber",St(m,l))})).apply(this,arguments)}function ir(){return(ir=(0,p.Z)(function*(m,l){const f=yield nr(m,"POST","/v1/accounts:signInWithPhoneNumber",St(m,l));if(f.temporaryProof)throw sr(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Pi={USER_NOT_FOUND:"user-not-found"};function qs(){return(qs=(0,p.Z)(function*(m,l){return nr(m,"POST","/v1/accounts:signInWithPhoneNumber",St(m,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Pi)})).apply(this,arguments)}class Wi extends Ar{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,f){return new Wi({verificationId:l,verificationCode:f})}static _fromTokenResponse(l,f){return new Wi({phoneNumber:l,temporaryProof:f})}_getIdTokenResponse(l){return function Wt(m,l){return Sn.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,f){return function zr(m,l){return ir.apply(this,arguments)}(l,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Ts(m,l){return qs.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:f,verificationId:w,verificationCode:B}=this.params;return l&&f?{temporaryProof:l,phoneNumber:f}:{sessionInfo:w,code:B}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:f,verificationCode:w,phoneNumber:B,temporaryProof:Y}=l;return w||f||B||Y?new Wi({verificationId:f,verificationCode:w,phoneNumber:B,temporaryProof:Y}):null}}class as{constructor(l){var f,w,B,Y,Oe,at;const Ht=(0,j.zd)((0,j.pd)(l)),hn=null!==(f=Ht.apiKey)&&void 0!==f?f:null,_n=null!==(w=Ht.oobCode)&&void 0!==w?w:null,Nn=function Ni(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=Ht.mode)&&void 0!==B?B:null);ee(hn&&_n&&Nn,"argument-error"),this.apiKey=hn,this.operation=Nn,this.code=_n,this.continueUrl=null!==(Y=Ht.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Oe=Ht.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(at=Ht.tenantId)&&void 0!==at?at:null}static parseLink(l){const f=function _i(m){const l=(0,j.zd)((0,j.pd)(m)).link,f=l?(0,j.zd)((0,j.pd)(l)).deep_link_id:null,w=(0,j.zd)((0,j.pd)(m)).deep_link_id;return(w?(0,j.zd)((0,j.pd)(w)).link:null)||w||f||l||m}(l);try{return new as(f)}catch{return null}}}let Zi=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,w){return Lt._fromEmailAndPassword(f,w)}static credentialWithLink(f,w){const B=as.parseLink(w);return ee(B,"argument-error"),Lt._fromEmailAndCode(f,B.code,B.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class zi{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Di extends zi{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class si extends Di{static credentialFromJSON(l){const f="string"==typeof l?JSON.parse(l):l;return ee("providerId"in f&&"signInMethod"in f,"argument-error"),Ne._fromParams(f)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ee(l.idToken||l.accessToken,"argument-error"),Ne._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return si.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return si.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:f,oauthAccessToken:w,oauthTokenSecret:B,pendingToken:Y,nonce:Oe,providerId:at}=l;if(!w&&!B&&!f&&!Y||!at)return null;try{return new si(at)._credential({idToken:f,accessToken:w,nonce:Oe,pendingToken:Y})}catch{return null}}}let uo=(()=>{class m extends Di{constructor(){super("facebook.com")}static credential(f){return Ne._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Yi=(()=>{class m extends Di{constructor(){super("google.com"),this.addScope("profile")}static credential(f,w){return Ne._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:w})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:w,oauthAccessToken:B}=f;if(!w&&!B)return null;try{return m.credential(w,B)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),As=(()=>{class m extends Di{constructor(){super("github.com")}static credential(f){return Ne._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class us extends Ar{constructor(l,f){super(l,l),this.pendingToken=f}_getIdTokenResponse(l){return Ct(l,this.buildRequest())}_linkToIdToken(l,f){const w=this.buildRequest();return w.idToken=f,Ct(l,w)}_getReauthenticationResolver(l){const f=this.buildRequest();return f.autoCreate=!1,Ct(l,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l,{providerId:w,signInMethod:B,pendingToken:Y}=f;return w&&B&&Y&&w===B?new us(w,Y):null}static _create(l,f){return new us(l,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ci extends zi{constructor(l){ee(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Ci.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Ci.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const f=us.fromJSON(l);return ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:f,providerId:w}=l;if(!f||!w)return null;try{return us._create(w,f)}catch{return null}}}let ki=(()=>{class m extends Di{constructor(){super("twitter.com")}static credential(f,w){return Ne._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:w})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:w,oauthTokenSecret:B}=f;if(!w||!B)return null;try{return m.credential(w,B)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Ki(m,l){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,p.Z)(function*(m,l){return nr(m,"POST","/v1/accounts:signUp",St(m,l))})).apply(this,arguments)}class Xr{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,f,w,B=!1){return(0,p.Z)(function*(){const Y=yield gn._fromIdTokenResponse(l,w,B),Oe=Ji(w);return new Xr({user:Y,providerId:Oe,_tokenResponse:w,operationType:f})})()}static _forOperation(l,f,w){return(0,p.Z)(function*(){yield l._updateTokensIfNecessary(w,!0);const B=Ji(w);return new Xr({user:l,providerId:B,_tokenResponse:w,operationType:f})})()}}function Ji(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Ur(){return(Ur=(0,p.Z)(function*(m){var l;const f=mr(m);if(yield f._initializationPromise,null!==(l=f.currentUser)&&void 0!==l&&l.isAnonymous)return new Xr({user:f.currentUser,providerId:null,operationType:"signIn"});const w=yield Ki(f,{returnSecureToken:!0}),B=yield Xr._fromIdTokenResponse(f,"signIn",w,!0);return yield f._updateCurrentUser(B.user),B})).apply(this,arguments)}class Ns extends j.ZR{constructor(l,f,w,B){var Y;super(f.code,f.message),this.operationType=w,this.user=B,Object.setPrototypeOf(this,Ns.prototype),this.customData={appName:l.name,tenantId:null!==(Y=l.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:f.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(l,f,w,B){return new Ns(l,f,w,B)}}function Pr(m,l,f,w){return("reauthenticate"===l?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?Ns._fromErrorAndOperation(m,Y,l,w):Y})}function fi(m){return new Set(m.map(({providerId:l})=>l).filter(l=>!!l))}function oi(){return(oi=(0,p.Z)(function*(m,l){const f=(0,j.m9)(m);yield or(!0,f,l);const{providerUserInfo:w}=yield Un(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[l]}),B=fi(w||[]);return f.providerData=f.providerData.filter(Y=>B.has(Y.providerId)),B.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function ks(m,l){return cs.apply(this,arguments)}function cs(){return(cs=(0,p.Z)(function*(m,l,f=!1){const w=yield pr(m,l._linkToIdToken(m.auth,yield m.getIdToken()),f);return Xr._forOperation(m,"link",w)})).apply(this,arguments)}function or(m,l,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,p.Z)(function*(m,l,f){yield Hn(l);const B=!1===m?"provider-already-linked":"no-such-provider";ee(fi(l.providerData).has(f)===m,l.auth,B)})).apply(this,arguments)}function Ls(m,l){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,p.Z)(function*(m,l,f=!1){var w;const{auth:B}=m,Y="reauthenticate";try{const Oe=yield pr(m,Pr(B,Y,l,m),f);ee(Oe.idToken,B,"internal-error");const at=Dt(Oe.idToken);ee(at,B,"internal-error");const{sub:Ht}=at;return ee(m.uid===Ht,B,"user-mismatch"),Xr._forOperation(m,Y,Oe)}catch(Oe){throw"auth/user-not-found"===(null===(w=Oe)||void 0===w?void 0:w.code)&&Xe(B,"user-mismatch"),Oe}})).apply(this,arguments)}function vi(m,l){return ls.apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(m,l,f=!1){const w="signIn",B=yield Pr(m,w,l),Y=yield Xr._fromIdTokenResponse(m,w,B);return f||(yield m._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function Hr(m,l){return In.apply(this,arguments)}function In(){return(In=(0,p.Z)(function*(m,l){return vi(mr(m),l)})).apply(this,arguments)}function co(m,l){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,p.Z)(function*(m,l){const f=(0,j.m9)(m);return yield or(!1,f,l.providerId),ks(f,l)})).apply(this,arguments)}function Co(m,l){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,p.Z)(function*(m,l){return Ls((0,j.m9)(m),l)})).apply(this,arguments)}function Ti(m,l){return ds.apply(this,arguments)}function ds(){return(ds=(0,p.Z)(function*(m,l){return nr(m,"POST","/v1/accounts:signInWithCustomToken",St(m,l))})).apply(this,arguments)}function po(){return(po=(0,p.Z)(function*(m,l){const f=mr(m),w=yield Ti(f,{token:l,returnSecureToken:!0}),B=yield Xr._fromIdTokenResponse(f,"signIn",w);return yield f._updateCurrentUser(B.user),B})).apply(this,arguments)}class vt{constructor(l,f){this.factorId=l,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(l,f){return"phoneInfo"in f?zn._fromServerResponse(l,f):Xe(l,"internal-error")}}class zn extends vt{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,f){return new zn(f)}}function Xs(m,l,f){var w;ee((null===(w=f.url)||void 0===w?void 0:w.length)>0,m,"invalid-continue-uri"),ee(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),l.continueUrl=f.url,l.dynamicLinkDomain=f.dynamicLinkDomain,l.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ee(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),l.iOSBundleId=f.iOS.bundleId),f.android&&(ee(f.android.packageName.length>0,m,"missing-android-pkg-name"),l.androidInstallApp=f.android.installApp,l.androidMinimumVersionCode=f.android.minimumVersion,l.androidPackageName=f.android.packageName)}function kr(){return(kr=(0,p.Z)(function*(m,l,f){const w=(0,j.m9)(m),B={requestType:"PASSWORD_RESET",email:l};f&&Xs(w,B,f),yield yr(w,B)})).apply(this,arguments)}function Ss(){return(Ss=(0,p.Z)(function*(m,l,f){yield Er((0,j.m9)(m),{oobCode:l,newPassword:f})})).apply(this,arguments)}function xs(){return(xs=(0,p.Z)(function*(m,l){yield os((0,j.m9)(m),{oobCode:l})})).apply(this,arguments)}function es(m,l){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(m,l){const f=(0,j.m9)(m),w=yield Er(f,{oobCode:l}),B=w.requestType;switch(ee(B,f,"internal-error"),B){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(w.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(w.mfaInfo,f,"internal-error");default:ee(w.email,f,"internal-error")}let Y=null;return w.mfaInfo&&(Y=vt._fromServerResponse(mr(f),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:Y},operation:B}})).apply(this,arguments)}function F(){return(F=(0,p.Z)(function*(m,l){const{data:f}=yield es((0,j.m9)(m),l);return f.email})).apply(this,arguments)}function A(){return(A=(0,p.Z)(function*(m,l,f){const w=mr(m),B=yield Ki(w,{returnSecureToken:!0,email:l,password:f}),Y=yield Xr._fromIdTokenResponse(w,"signIn",B);return yield w._updateCurrentUser(Y.user),Y})).apply(this,arguments)}function zt(){return(zt=(0,p.Z)(function*(m,l,f){const w=(0,j.m9)(m),B={requestType:"EMAIL_SIGNIN",email:l};ee(f.handleCodeInApp,w,"argument-error"),f&&Xs(w,B,f),yield Cs(w,B)})).apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(m,l,f){const w=(0,j.m9)(m),B=Zi.credentialWithLink(l,f||st());return ee(B._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Hr(w,B)})).apply(this,arguments)}function fs(m,l){return Us.apply(this,arguments)}function Us(){return(Us=(0,p.Z)(function*(m,l){return Pt(m,"POST","/v1/accounts:createAuthUri",St(m,l))})).apply(this,arguments)}function Bs(){return(Bs=(0,p.Z)(function*(m,l){const w={identifier:l,continueUri:Ot()?st():"http://localhost"},{signinMethods:B}=yield fs((0,j.m9)(m),w);return B||[]})).apply(this,arguments)}function ps(){return(ps=(0,p.Z)(function*(m,l){const f=(0,j.m9)(m),B={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};l&&Xs(f.auth,B,l);const{email:Y}=yield Or(f.auth,B);Y!==m.email&&(yield m.reload())})).apply(this,arguments)}function To(){return(To=(0,p.Z)(function*(m,l,f){const w=(0,j.m9)(m),Y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:l};f&&Xs(w.auth,Y,f);const{email:Oe}=yield Ps(w.auth,Y);Oe!==m.email&&(yield m.reload())})).apply(this,arguments)}function Ao(m,l){return mo.apply(this,arguments)}function mo(){return(mo=(0,p.Z)(function*(m,l){return Pt(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function So(){return(So=(0,p.Z)(function*(m,{displayName:l,photoURL:f}){if(void 0===l&&void 0===f)return;const w=(0,j.m9)(m),Y={idToken:yield w.getIdToken(),displayName:l,photoUrl:f,returnSecureToken:!0},Oe=yield pr(w,Ao(w.auth,Y));w.displayName=Oe.displayName||null,w.photoURL=Oe.photoUrl||null;const at=w.providerData.find(({providerId:Ht})=>"password"===Ht);at&&(at.displayName=w.displayName,at.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Oe)})).apply(this,arguments)}function P(m,l,f){return K.apply(this,arguments)}function K(){return(K=(0,p.Z)(function*(m,l,f){const{auth:w}=m,Y={idToken:yield m.getIdToken(),returnSecureToken:!0};l&&(Y.email=l),f&&(Y.password=f);const Oe=yield pr(m,Xn(w,Y));yield m._updateTokensIfNecessary(Oe,!0)})).apply(this,arguments)}class qe{constructor(l,f,w={}){this.isNewUser=l,this.providerId=f,this.profile=w}}class ut extends qe{constructor(l,f,w,B){super(l,f,w),this.username=B}}class rn extends qe{constructor(l,f){super(l,"facebook.com",f)}}class rr extends ut{constructor(l,f){super(l,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class hr extends qe{constructor(l,f){super(l,"google.com",f)}}class fr extends ut{constructor(l,f,w){super(l,"twitter.com",f,w)}}function Kn(m){const{user:l,_tokenResponse:f}=m;return l.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Ee(m){var l,f;if(!m)return null;const{providerId:w}=m,B=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},Y=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!w&&m?.idToken){const Oe=null===(f=null===(l=Dt(m.idToken))||void 0===l?void 0:l.firebase)||void 0===f?void 0:f.sign_in_provider;if(Oe)return new qe(Y,"anonymous"!==Oe&&"custom"!==Oe?Oe:null)}if(!w)return null;switch(w){case"facebook.com":return new rn(Y,B);case"github.com":return new rr(Y,B);case"google.com":return new hr(Y,B);case"twitter.com":return new fr(Y,B,m.screenName||null);case"custom":case"anonymous":return new qe(Y,null);default:return new qe(Y,w,B)}}(f)}class Es{constructor(l,f,w){this.type=l,this.credential=f,this.auth=w}static _fromIdtoken(l,f){return new Es("enroll",l,f)}static _fromMfaPendingCredential(l){return new Es("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var f,w;if(l?.multiFactorSession){if(null!==(f=l.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Es._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(w=l.multiFactorSession)&&void 0!==w&&w.idToken)return Es._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Zo{constructor(l,f,w){this.session=l,this.hints=f,this.signInResolver=w}static _fromError(l,f){const w=mr(l),B=f.customData._serverResponse,Y=(B.mfaInfo||[]).map(at=>vt._fromServerResponse(w,at));ee(B.mfaPendingCredential,w,"internal-error");const Oe=Es._fromMfaPendingCredential(B.mfaPendingCredential);return new Zo(Oe,Y,function(){var at=(0,p.Z)(function*(Ht){const hn=yield Ht._process(w,Oe);delete B.mfaInfo,delete B.mfaPendingCredential;const _n=Object.assign(Object.assign({},B),{idToken:hn.idToken,refreshToken:hn.refreshToken});switch(f.operationType){case"signIn":const Nn=yield Xr._fromIdTokenResponse(w,f.operationType,_n);return yield w._updateCurrentUser(Nn.user),Nn;case"reauthenticate":return ee(f.user,w,"internal-error"),Xr._forOperation(f.user,f.operationType,_n);default:Xe(w,"internal-error")}});return function(Ht){return at.apply(this,arguments)}}())}resolveSignIn(l){var f=this;return(0,p.Z)(function*(){return f.signInResolver(l)})()}}function va(m,l){return Pt(m,"POST","/v2/accounts/mfaEnrollment:start",St(m,l))}class Uo{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(w=>vt._fromServerResponse(l.auth,w)))})}static _fromUser(l){return new Uo(l)}getSession(){var l=this;return(0,p.Z)(function*(){return Es._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,f){var w=this;return(0,p.Z)(function*(){const B=l,Y=yield w.getSession(),Oe=yield pr(w.user,B._process(w.user.auth,Y,f));return yield w.user._updateTokensIfNecessary(Oe),w.user.reload()})()}unenroll(l){var f=this;return(0,p.Z)(function*(){var w;const B="string"==typeof l?l:l.uid,Y=yield f.user.getIdToken(),Oe=yield pr(f.user,function js(m,l){return Pt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",St(m,l))}(f.user.auth,{idToken:Y,mfaEnrollmentId:B}));f.enrolledFactors=f.enrolledFactors.filter(({uid:at})=>at!==B),yield f.user._updateTokensIfNecessary(Oe);try{yield f.user.reload()}catch(at){if("auth/user-token-expired"!==(null===(w=at)||void 0===w?void 0:w.code))throw at}})()}}const wa=new WeakMap,Bo="__sak";class jo{constructor(l,f){this.storageRetriever=l,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Bo,"1"),this.storage.removeItem(Bo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,f){return this.storage.setItem(l,JSON.stringify(f)),Promise.resolve()}_get(l){const f=this.storage.getItem(l);return Promise.resolve(f?JSON.parse(f):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const D=(()=>{class m extends jo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,w)=>this.onStorageEvent(f,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ra(){const m=(0,j.z$)();return nn(m)||se(m)}()&&function wn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const w of Object.keys(this.listeners)){const B=this.storage.getItem(w),Y=this.localCache[w];B!==Y&&f(w,Y,B)}}onStorageEvent(f,w=!1){if(!f.key)return void this.forAllChangedKeys((at,Ht,hn)=>{this.notifyListeners(at,hn)});const B=f.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const at=this.storage.getItem(B);if(f.newValue!==at)null!==f.newValue?this.storage.setItem(B,f.newValue):this.storage.removeItem(B);else if(this.localCache[B]===f.newValue&&!w)return}const Y=()=>{const at=this.storage.getItem(B);!w&&this.localCache[B]===at||this.notifyListeners(B,at)},Oe=this.storage.getItem(B);!function Rt(){return(0,j.w1)()&&10===document.documentMode}()||Oe===f.newValue||f.newValue===f.oldValue?Y():setTimeout(Y,10)}notifyListeners(f,w){this.localCache[f]=w;const B=this.listeners[f];if(B)for(const Y of Array.from(B))Y(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,w,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:w,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(w)}_removeListener(f,w){this.listeners[f]&&(this.listeners[f].delete(w),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,w){var B=()=>super._set,Y=this;return(0,p.Z)(function*(){yield B().call(Y,f,w),Y.localCache[f]=JSON.stringify(w)})()}_get(f){var w=()=>super._get,B=this;return(0,p.Z)(function*(){const Y=yield w().call(B,f);return B.localCache[f]=JSON.stringify(Y),Y})()}_remove(f){var w=()=>super._remove,B=this;return(0,p.Z)(function*(){yield w().call(B,f),delete B.localCache[f]})()}}return m.type="LOCAL",m})(),G=(()=>{class m extends jo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,w){}_removeListener(f,w){}}return m.type="SESSION",m})();let nt=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const w=this.receivers.find(Y=>Y.isListeningto(f));if(w)return w;const B=new m(f);return this.receivers.push(B),B}isListeningto(f){return this.eventTarget===f}handleEvent(f){var w=this;return(0,p.Z)(function*(){const B=f,{eventId:Y,eventType:Oe,data:at}=B.data,Ht=w.handlersMap[Oe];if(!Ht?.size)return;B.ports[0].postMessage({status:"ack",eventId:Y,eventType:Oe});const hn=Array.from(Ht).map(function(){var Nn=(0,p.Z)(function*(bs){return bs(B.origin,at)});return function(bs){return Nn.apply(this,arguments)}}()),_n=yield function Q(m){return Promise.all(m.map(function(){var l=(0,p.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(w){return{fulfilled:!1,reason:w}}});return function(f){return l.apply(this,arguments)}}()))}(hn);B.ports[0].postMessage({status:"done",eventId:Y,eventType:Oe,response:_n})})()}_subscribe(f,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(w)}_unsubscribe(f,w){this.handlersMap[f]&&w&&this.handlersMap[f].delete(w),(!w||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Yt(m="",l=10){let f="";for(let w=0;w<l;w++)f+=Math.floor(10*Math.random());return m+f}class Gr{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,f,w=50){var B=this;return(0,p.Z)(function*(){const Y=typeof MessageChannel<"u"?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let Oe,at;return new Promise((Ht,hn)=>{const _n=Yt("",20);Y.port1.start();const Nn=setTimeout(()=>{hn(new Error("unsupported_event"))},w);at={messageChannel:Y,onMessage(bs){const pi=bs;if(pi.data.eventId===_n)switch(pi.data.status){case"ack":clearTimeout(Nn),Oe=setTimeout(()=>{hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),Ht(pi.data.response);break;default:clearTimeout(Nn),clearTimeout(Oe),hn(new Error("invalid_response"))}}},B.handlers.add(at),Y.port1.addEventListener("message",at.onMessage),B.target.postMessage({eventType:l,eventId:_n,data:f},[Y.port2])}).finally(()=>{at&&B.removeMessageHandler(at)})})()}}function Mt(){return window}function lo(){return typeof Mt().WorkerGlobalScope<"u"&&"function"==typeof Mt().importScripts}function rt(){return(rt=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qo="firebaseLocalStorageDb",Jo="firebaseLocalStorage",Na="fbase_key";class xo{constructor(l){this.request=l}toPromise(){return new Promise((l,f)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function ka(m,l){return m.transaction([Jo],l?"readwrite":"readonly").objectStore(Jo)}function $o(){const m=indexedDB.open(Qo,1);return new Promise((l,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const w=m.result;try{w.createObjectStore(Jo,{keyPath:Na})}catch(B){f(B)}}),m.addEventListener("success",(0,p.Z)(function*(){const w=m.result;w.objectStoreNames.contains(Jo)?l(w):(w.close(),yield function Ya(){const m=indexedDB.deleteDatabase(Qo);return new xo(m).toPromise()}(),l(yield $o()))}))})}function ia(m,l,f){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,p.Z)(function*(m,l,f){const w=ka(m,!0).put({[Na]:l,value:f});return new xo(w).toPromise()})).apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(m,l){const f=ka(m,!1).get(l),w=yield new xo(f).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function no(m,l){const f=ka(m,!0).delete(l);return new xo(f).toPromise()}const yo=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,p.Z)(function*(){return f.db||(f.db=yield $o()),f.db})()}_withRetries(f){var w=this;return(0,p.Z)(function*(){let B=0;for(;;)try{const Y=yield w._openDb();return yield f(Y)}catch(Y){if(B++>3)throw Y;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,p.Z)(function*(){return lo()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,p.Z)(function*(){f.receiver=nt._getInstance(function Ei(){return lo()?self:null}()),f.receiver._subscribe("keyChanged",function(){var w=(0,p.Z)(function*(B,Y){return{keyProcessed:(yield f._poll()).includes(Y.key)}});return function(B,Y){return w.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var w=(0,p.Z)(function*(B,Y){return["keyChanged"]});return function(B,Y){return w.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,p.Z)(function*(){var w,B;if(f.activeServiceWorker=yield function Ut(){return rt.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Gr(f.activeServiceWorker);const Y=yield f.sender._send("ping",{},800);!Y||(null===(w=Y[0])||void 0===w?void 0:w.fulfilled)&&(null===(B=Y[0])||void 0===B?void 0:B.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var w=this;return(0,p.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Tt(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:f},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const f=yield $o();return yield ia(f,Bo,"1"),yield no(f,Bo),!0}catch{}return!1})()}_withPendingWrite(f){var w=this;return(0,p.Z)(function*(){w.pendingWrites++;try{yield f()}finally{w.pendingWrites--}})()}_set(f,w){var B=this;return(0,p.Z)(function*(){return B._withPendingWrite((0,p.Z)(function*(){return yield B._withRetries(Y=>ia(Y,f,w)),B.localCache[f]=w,B.notifyServiceWorker(f)}))})()}_get(f){var w=this;return(0,p.Z)(function*(){const B=yield w._withRetries(Y=>function La(m,l){return Fn.apply(this,arguments)}(Y,f));return w.localCache[f]=B,B})()}_remove(f){var w=this;return(0,p.Z)(function*(){return w._withPendingWrite((0,p.Z)(function*(){return yield w._withRetries(B=>no(B,f)),delete w.localCache[f],w.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,p.Z)(function*(){const w=yield f._withRetries(Oe=>{const at=ka(Oe,!1).getAll();return new xo(at).toPromise()});if(!w)return[];if(0!==f.pendingWrites)return[];const B=[],Y=new Set;for(const{fbase_key:Oe,value:at}of w)Y.add(Oe),JSON.stringify(f.localCache[Oe])!==JSON.stringify(at)&&(f.notifyListeners(Oe,at),B.push(Oe));for(const Oe of Object.keys(f.localCache))f.localCache[Oe]&&!Y.has(Oe)&&(f.notifyListeners(Oe,null),B.push(Oe));return B})()}notifyListeners(f,w){this.localCache[f]=w;const B=this.listeners[f];if(B)for(const Y of Array.from(B))Y(w)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(w)}_removeListener(f,w){this.listeners[f]&&(this.listeners[f].delete(w),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function ar(m,l){return Pt(m,"POST","/v2/accounts/mfaSignIn:start",St(m,l))}function Vt(){return(Vt=(0,p.Z)(function*(m){return(yield Pt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sa(m){return new Promise((l,f)=>{const w=document.createElement("script");w.setAttribute("src",m),w.onload=l,w.onerror=B=>{const Y=We("internal-error");Y.customData=B,f(Y)},w.type="text/javascript",w.charset="UTF-8",function _o(){var m,l;return null!==(l=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==l?l:document}().appendChild(w)})}function Mo(m){return`__${m}${Math.floor(1e6*Math.random())}`}const aa=1e12;class br{constructor(l){this.auth=l,this.counter=aa,this._widgets=new Map}render(l,f){const w=this.counter;return this._widgets.set(w,new el(l,this.auth.name,f||{})),this.counter++,w}reset(l){var f;const w=l||aa;null===(f=this._widgets.get(w))||void 0===f||f.delete(),this._widgets.delete(w)}getResponse(l){var f;return(null===(f=this._widgets.get(l||aa))||void 0===f?void 0:f.getResponse())||""}execute(l){var f=this;return(0,p.Z)(function*(){var w;return null===(w=f._widgets.get(l||aa))||void 0===w||w.execute(),""})()}}class el{constructor(l,f,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const B="string"==typeof l?document.getElementById(l):l;ee(B,"argument-error",{appName:f}),this.container=B,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $u(m){const l=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<m;w++)l.push(f.charAt(Math.floor(Math.random()*f.length)));return l.join("")}(50);const{callback:l,"expired-callback":f}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ns=Mo("rcb"),Ja=new Xt(3e4,6e4);class Xa{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=Mt().grecaptcha)||void 0===l||!l.render)}load(l,f=""){return ee(function ua(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),l,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Mt().grecaptcha):new Promise((w,B)=>{const Y=Mt().setTimeout(()=>{B(We(l,"network-request-failed"))},Ja.get());Mt()[ns]=()=>{Mt().clearTimeout(Y),delete Mt()[ns];const at=Mt().grecaptcha;if(!at)return void B(We(l,"internal-error"));const Ht=at.render;at.render=(hn,_n)=>{const Nn=Ht(hn,_n);return this.counter++,Nn},this.hostLanguage=f,w(at)},sa(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:ns,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(Y),B(We(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var f;return!(null===(f=Mt().grecaptcha)||void 0===f||!f.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xo{load(l){return(0,p.Z)(function*(){return new br(l)})()}clearedOneInstance(){}}const tt="recaptcha",Hu={theme:"light",type:"image"};class Zr{constructor(l,f=Object.assign({},Hu),w){this.parameters=f,this.type=tt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mr(w),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const B="string"==typeof l?document.getElementById(l):l;ee(B,this.auth,"argument-error"),this.container=B,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xo:new Xa,this.validateStartingState()}verify(){var l=this;return(0,p.Z)(function*(){l.assertNotDestroyed();const f=yield l.render(),w=l.getAssertedRecaptcha();return w.getResponse(f)||new Promise(Y=>{const Oe=at=>{!at||(l.tokenChangeListeners.delete(Oe),Y(at))};l.tokenChangeListeners.add(Oe),l.isInvisible&&w.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return f=>{if(this.tokenChangeListeners.forEach(w=>w(f)),"function"==typeof l)l(f);else if("string"==typeof l){const w=Mt()[l];"function"==typeof w&&w(f)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,p.Z)(function*(){if(yield l.init(),!l.widgetId){let f=l.container;if(!l.isInvisible){const w=document.createElement("div");f.appendChild(w),f=w}l.widgetId=l.getAssertedRecaptcha().render(f,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,p.Z)(function*(){ee(Ot()&&!lo(),l.auth,"internal-error"),yield function eu(){let m=null;return new Promise(l=>{"complete"!==document.readyState?(m=()=>l(),window.addEventListener("load",m)):l()}).catch(l=>{throw m&&window.removeEventListener("load",m),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const f=yield function wr(m){return Vt.apply(this,arguments)}(l.auth);ee(f,l.auth,"internal-error"),l.parameters.sitekey=f})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oo{constructor(l,f){this.verificationId=l,this.onConfirmation=f}confirm(l){const f=Wi._fromVerification(this.verificationId,l);return this.onConfirmation(f)}}function la(){return(la=(0,p.Z)(function*(m,l,f){const w=mr(m),B=yield ea(w,l,(0,j.m9)(f));return new Oo(B,Y=>Hr(w,Y))})).apply(this,arguments)}function io(){return(io=(0,p.Z)(function*(m,l,f){const w=(0,j.m9)(m);yield or(!1,w,"phone");const B=yield ea(w.auth,l,(0,j.m9)(f));return new Oo(B,Y=>co(w,Y))})).apply(this,arguments)}function ba(){return(ba=(0,p.Z)(function*(m,l,f){const w=(0,j.m9)(m),B=yield ea(w.auth,l,(0,j.m9)(f));return new Oo(B,Y=>Co(w,Y))})).apply(this,arguments)}function ea(m,l,f){return ms.apply(this,arguments)}function ms(){return(ms=(0,p.Z)(function*(m,l,f){var w;const B=yield f.verify();try{let Y;if(ee("string"==typeof B,m,"argument-error"),ee(f.type===tt,m,"argument-error"),Y="string"==typeof l?{phoneNumber:l}:l,"session"in Y){const Oe=Y.session;if("phoneNumber"in Y)return ee("enroll"===Oe.type,m,"internal-error"),(yield va(m,{idToken:Oe.credential,phoneEnrollmentInfo:{phoneNumber:Y.phoneNumber,recaptchaToken:B}})).phoneSessionInfo.sessionInfo;{ee("signin"===Oe.type,m,"internal-error");const at=(null===(w=Y.multiFactorHint)||void 0===w?void 0:w.uid)||Y.multiFactorUid;return ee(at,m,"missing-multi-factor-info"),(yield ar(m,{mfaPendingCredential:Oe.credential,mfaEnrollmentId:at,phoneSignInInfo:{recaptchaToken:B}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Oe}=yield ct(m,{phoneNumber:Y.phoneNumber,recaptchaToken:B});return Oe}}finally{f._reset()}})).apply(this,arguments)}function vo(){return(vo=(0,p.Z)(function*(m,l){yield ks((0,j.m9)(m),l)})).apply(this,arguments)}let da=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=mr(f)}verifyPhoneNumber(f,w){return ea(this.auth,f,(0,j.m9)(w))}static credential(f,w){return Wi._fromVerification(f,w)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:w,temporaryProof:B}=f;return w&&B?Wi._fromTokenResponse(w,B):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Wr(m,l){return l?xe(l):(ee(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Ro extends Ar{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Ct(l,this._buildIdpRequest())}_linkToIdToken(l,f){return Ct(l,this._buildIdpRequest(f))}_getReauthenticationResolver(l){return Ct(l,this._buildIdpRequest())}_buildIdpRequest(l){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(f.idToken=l),f}}function Lr(m){return vi(m.auth,new Ro(m),m.bypassAuthState)}function Fr(m){const{auth:l,user:f}=m;return ee(f,l,"internal-error"),Ls(f,new Ro(m),m.bypassAuthState)}function v(m){return E.apply(this,arguments)}function E(){return(E=(0,p.Z)(function*(m){const{auth:l,user:f}=m;return ee(f,l,"internal-error"),ks(f,new Ro(m),m.bypassAuthState)})).apply(this,arguments)}class _{constructor(l,f,w,B,Y=!1){this.auth=l,this.resolver=w,this.user=B,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var l=this;return new Promise(function(){var f=(0,p.Z)(function*(w,B){l.pendingPromise={resolve:w,reject:B};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(Y){l.reject(Y)}});return function(w,B){return f.apply(this,arguments)}}())}onAuthEvent(l){var f=this;return(0,p.Z)(function*(){const{urlResponse:w,sessionId:B,postBody:Y,tenantId:Oe,error:at,type:Ht}=l;if(at)return void f.reject(at);const hn={auth:f.auth,requestUri:w,sessionId:B,tenantId:Oe||void 0,postBody:Y||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ht)(hn))}catch(_n){f.reject(_n)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Lr;case"linkViaPopup":case"linkViaRedirect":return v;case"reauthViaPopup":case"reauthViaRedirect":return Fr;default:Xe(this.auth,"internal-error")}}resolve(l){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const M=new Xt(2e3,1e4);function W(){return(W=(0,p.Z)(function*(m,l,f){const w=mr(m);_t(m,l,zi);const B=Wr(w,f);return new Tn(w,"signInViaPopup",l,B).executeNotNull()})).apply(this,arguments)}function me(){return(me=(0,p.Z)(function*(m,l,f){const w=(0,j.m9)(m);_t(w.auth,l,zi);const B=Wr(w.auth,f);return new Tn(w.auth,"reauthViaPopup",l,B,w).executeNotNull()})).apply(this,arguments)}function Ft(){return(Ft=(0,p.Z)(function*(m,l,f){const w=(0,j.m9)(m);_t(w.auth,l,zi);const B=Wr(w.auth,f);return new Tn(w.auth,"linkViaPopup",l,B,w).executeNotNull()})).apply(this,arguments)}let Tn=(()=>{class m extends _{constructor(f,w,B,Y,Oe){super(f,w,Y,Oe),this.provider=B,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,p.Z)(function*(){const w=yield f.execute();return ee(w,f.auth,"internal-error"),w})()}onExecution(){var f=this;return(0,p.Z)(function*(){le(1===f.filter.length,"Popup operations only handle one event");const w=Yt();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],w),f.authWindow.associatedEvent=w,f.resolver._originValidation(f.auth).catch(B=>{f.reject(B)}),f.resolver._isIframeWebStorageSupported(f.auth,B=>{B||f.reject(We(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var w,B;this.pollId=null!==(B=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==B&&B.closed?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,M.get())};f()}}return m.currentPopupAction=null,m})();const Yn=new Map;class Ii extends _{constructor(l,f,w=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,w),this.eventId=null}execute(){var l=()=>super.execute,f=this;return(0,p.Z)(function*(){let w=Yn.get(f.auth._key());if(!w){try{const Y=(yield function Os(m,l){return $s.apply(this,arguments)}(f.resolver,f.auth))?yield l().call(f):null;w=()=>Promise.resolve(Y)}catch(B){w=()=>Promise.reject(B)}Yn.set(f.auth._key(),w)}return f.bypassAuthState||Yn.set(f.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(l){var f=()=>super.onAuthEvent,w=this;return(0,p.Z)(function*(){if("signInViaRedirect"===l.type)return f().call(w,l);if("unknown"!==l.type){if(l.eventId){const B=yield w.auth._redirectUserForId(l.eventId);if(B)return w.user=B,f().call(w,l);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function $s(){return($s=(0,p.Z)(function*(m,l){const f=z(l),w=L(m);if(!(yield w._isAvailable()))return!1;const B="true"===(yield w._get(f));return yield w._remove(f),B})).apply(this,arguments)}function Hs(m,l){return wo.apply(this,arguments)}function wo(){return(wo=(0,p.Z)(function*(m,l){return L(m)._set(z(l),"true")})).apply(this,arguments)}function R(m,l){Yn.set(m._key(),l)}function L(m){return xe(m._redirectPersistence)}function z(m){return Ce("pendingRedirect",m.config.apiKey,m.name)}function Je(){return(Je=(0,p.Z)(function*(m,l,f){const w=mr(m);_t(m,l,zi);const B=Wr(w,f);return yield Hs(B,w),B._openRedirect(w,l,"signInViaRedirect")})).apply(this,arguments)}function On(){return(On=(0,p.Z)(function*(m,l,f){const w=(0,j.m9)(m);_t(w.auth,l,zi);const B=Wr(w.auth,f);yield Hs(B,w.auth);const Y=yield Da(w);return B._openRedirect(w.auth,l,"reauthViaRedirect",Y)})).apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(m,l,f){const w=(0,j.m9)(m);_t(w.auth,l,zi);const B=Wr(w.auth,f);yield or(!1,w,l.providerId),yield Hs(B,w.auth);const Y=yield Da(w);return B._openRedirect(w.auth,l,"linkViaRedirect",Y)})).apply(this,arguments)}function is(){return(is=(0,p.Z)(function*(m,l){return yield mr(m)._initializationPromise,Po(m,l,!1)})).apply(this,arguments)}function Po(m,l){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,p.Z)(function*(m,l,f=!1){const w=mr(m),B=Wr(w,l),Oe=yield new Ii(w,B,f).execute();return Oe&&!f&&(delete Oe.user._redirectEventId,yield w._persistUserIfCurrent(Oe.user),yield w._setRedirectUser(null,l)),Oe})).apply(this,arguments)}function Da(m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,p.Z)(function*(m){const l=Yt(`${m.uid}:::`);return m._redirectEventId=l,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),l})).apply(this,arguments)}class Si{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let f=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(l,w)&&(f=!0,this.sendToConsumer(l,w),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Ua(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Br(m);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=l,f=!0)),f}sendToConsumer(l,f){var w;if(l.error&&!Br(l)){const B=(null===(w=l.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";f.onError(We(this.auth,B))}else f.onAuthEvent(l)}isEventForConsumer(l,f){const w=null===f.eventId||!!l.eventId&&l.eventId===f.eventId;return f.filter.includes(l.type)&&w}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ha(l))}saveEventToCache(l){this.cachedEventUids.add(ha(l)),this.lastProcessedEventTime=Date.now()}}function ha(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(l=>l).join("-")}function Br({type:m,error:l}){return"unknown"===m&&"auth/no-auth-event"===l?.code}function bu(m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(function*(m,l={}){return Pt(m,"GET","/v1/projects",l)})).apply(this,arguments)}const Cg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wu=/^https?/;function gc(){return(gc=(0,p.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:l}=yield bu(m);for(const f of l)try{if(Jd(f))return}catch{}Xe(m,"unauthorized-domain")})).apply(this,arguments)}function Jd(m){const l=st(),{protocol:f,hostname:w}=new URL(l);if(m.startsWith("chrome-extension://")){const Oe=new URL(m);return""===Oe.hostname&&""===w?"chrome-extension:"===f&&m.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===f&&Oe.hostname===w}if(!Wu.test(f))return!1;if(Cg.test(m))return w===m;const B=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(w)}const Xd=new Xt(3e4,6e4);function Gs(){const m=Mt().___jsl;if(m?.H)for(const l of Object.keys(m.H))if(m.H[l].r=m.H[l].r||[],m.H[l].L=m.H[l].L||[],m.H[l].r=[...m.H[l].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let mc=null;function Sf(m){return mc=mc||function rl(m){return new Promise((l,f)=>{var w,B,Y;function Oe(){Gs(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Gs(),f(We(m,"network-request-failed"))},timeout:Xd.get()})}if(null!==(B=null===(w=Mt().gapi)||void 0===w?void 0:w.iframes)&&void 0!==B&&B.Iframe)l(gapi.iframes.getContext());else{if(null===(Y=Mt().gapi)||void 0===Y||!Y.load){const at=Mo("iframefcb");return Mt()[at]=()=>{gapi.load?Oe():f(We(m,"network-request-failed"))},sa(`https://apis.google.com/js/api.js?onload=${at}`).catch(Ht=>f(Ht))}Oe()}}).catch(l=>{throw mc=null,l})}(m),mc}const Kl=new Xt(5e3,15e3),Ag={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nu(m){const l=m.config;ee(l.authDomain,m,"auth-domain-config-required");const f=l.emulator?qt(l,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,w={apiKey:l.apiKey,appName:m.name,v:ge.SDK_VERSION},B=xf.get(m.config.apiHost);B&&(w.eid=B);const Y=m._getFrameworks();return Y.length&&(w.fw=Y.join(",")),`${f}?${(0,j.xO)(w).slice(1)}`}function th(){return th=(0,p.Z)(function*(m){const l=yield Sf(m),f=Mt().gapi;return ee(f,m,"internal-error"),l.open({where:document.body,url:nu(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ag,dontclear:!0},w=>new Promise(function(){var B=(0,p.Z)(function*(Y,Oe){yield w.restyle({setHideOnLeave:!1});const at=We(m,"network-request-failed"),Ht=Mt().setTimeout(()=>{Oe(at)},Kl.get());function hn(){Mt().clearTimeout(Ht),Y(w)}w.ping(hn).then(hn,()=>{Oe(at)})});return function(Y,Oe){return B.apply(this,arguments)}}()))}),th.apply(this,arguments)}const Mf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nh{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ws(m,l,f,w,B,Y){ee(m.config.authDomain,m,"auth-domain-config-required"),ee(m.config.apiKey,m,"invalid-api-key");const Oe={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:w,v:ge.SDK_VERSION,eventId:B};if(l instanceof zi){l.setDefaultLanguage(m.languageCode),Oe.providerId=l.providerId||"",(0,j.xb)(l.getCustomParameters())||(Oe.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Ht,hn]of Object.entries(Y||{}))Oe[Ht]=hn}if(l instanceof Di){const Ht=l.getScopes().filter(hn=>""!==hn);Ht.length>0&&(Oe.scopes=Ht.join(","))}m.tenantId&&(Oe.tid=m.tenantId);const at=Oe;for(const Ht of Object.keys(at))void 0===at[Ht]&&delete at[Ht];return`${function _c({config:m}){return m.emulator?qt(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,j.xO)(at).slice(1)}`}const ou="webStorageSupport";class al extends class Zl{constructor(l){this.factorId=l}_process(l,f,w){switch(f.type){case"enroll":return this._finalizeEnroll(l,f.credential,w);case"signin":return this._finalizeSignIn(l,f.credential);default:return Ke("unexpected MultiFactorSessionType")}}}{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new al(l)}_finalizeEnroll(l,f,w){return function Eu(m,l){return Pt(m,"POST","/v2/accounts/mfaEnrollment:finalize",St(m,l))}(l,{idToken:f,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,f){return function Ia(m,l){return Pt(m,"POST","/v2/accounts/mfaSignIn:finalize",St(m,l))}(l,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yl=(()=>{class m{constructor(){}static assertion(f){return al._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var ul="@firebase/auth",Ql="0.20.11";class ih{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var f=this;return(0,p.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const f=this.auth.onIdTokenChanged(w=>{var B;l((null===(B=w)||void 0===B?void 0:B.stsTokenManager.accessToken)||null)});this.internalListeners.set(l,f),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const f=this.internalListeners.get(l);!f||(this.internalListeners.delete(l),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ta(){return window}function ja(){return(ja=(0,p.Z)(function*(m,l,f){var w;const{BuildInfo:B}=Ta();le(l.sessionId,"AuthEvent did not contain a session ID");const Y=yield wc(l.sessionId),Oe={};return se()?Oe.ibi=B.packageName:Bn()?Oe.apn=B.packageName:Xe(m,"operation-not-supported-in-this-environment"),B.displayName&&(Oe.appDisplayName=B.displayName),Oe.sessionId=Y,Ws(m,f,l.type,void 0,null!==(w=l.eventId)&&void 0!==w?w:void 0,Oe)})).apply(this,arguments)}function cl(){return(cl=(0,p.Z)(function*(m){const{BuildInfo:l}=Ta(),f={};se()?f.iosBundleId=l.packageName:Bn()?f.androidPackageName=l.packageName:Xe(m,"operation-not-supported-in-this-environment"),yield bu(m,f)})).apply(this,arguments)}function ll(){return(ll=(0,p.Z)(function*(m,l,f){const{cordova:w}=Ta();let B=()=>{};try{yield new Promise((Y,Oe)=>{let at=null;function Ht(){var Nn;Y();const bs=null===(Nn=w.plugins.browsertab)||void 0===Nn?void 0:Nn.close;"function"==typeof bs&&bs(),"function"==typeof f?.close&&f.close()}function hn(){at||(at=window.setTimeout(()=>{Oe(We(m,"redirect-cancelled-by-user"))},2e3))}function _n(){"visible"===document?.visibilityState&&hn()}l.addPassiveListener(Ht),document.addEventListener("resume",hn,!1),Bn()&&document.addEventListener("visibilitychange",_n,!1),B=()=>{l.removePassiveListener(Ht),document.removeEventListener("resume",hn,!1),document.removeEventListener("visibilitychange",_n,!1),at&&window.clearTimeout(at)}})}finally{B()}})).apply(this,arguments)}function wc(m){return qu.apply(this,arguments)}function qu(){return(qu=(0,p.Z)(function*(m){const l=ah(m),f=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(f)).map(B=>B.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ah(m){if(le(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const l=new ArrayBuffer(m.length),f=new Uint8Array(l);for(let w=0;w<m.length;w++)f[w]=m.charCodeAt(w);return f}(0,j.Pz)("authIdTokenMaxAge"),function vc(m){(0,ge._registerComponent)(new de.wA("auth",(l,{options:f})=>{const w=l.getProvider("app").getImmediate(),B=l.getProvider("heartbeat"),{apiKey:Y,authDomain:Oe}=w.options;return((at,Ht)=>{ee(Y&&!Y.includes(":"),"invalid-api-key",{appName:at.name}),ee(!Oe?.includes(":"),"argument-error",{appName:at.name});const hn={apiKey:Y,authDomain:Oe,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jn(m)},_n=new En(at,Ht,hn);return function yt(m,l){const f=l?.persistence||[],w=(Array.isArray(f)?f:[f]).map(xe);l?.errorMap&&m._updateErrorMap(l.errorMap),m._initializeWithPersistence(w,l?.popupRedirectResolver)}(_n,f),_n})(w,B)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,f,w)=>{l.getProvider("auth-internal").initialize()})),(0,ge._registerComponent)(new de.wA("auth-internal",l=>{const f=mr(l.getProvider("auth").getImmediate());return new ih(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)(ul,Ql,function sh(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ge.registerVersion)(ul,Ql,"esm2017")}("Browser");class Cu extends Si{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(l)),super.onEvent(l)}initialized(){var l=this;return(0,p.Z)(function*(){yield l.initPromise})()}}function Tu(m){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,p.Z)(function*(m){const l=yield Zu()._get(Aa(m));return l&&(yield Zu()._remove(Aa(m))),l})).apply(this,arguments)}function ch(){const m=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const w=Math.floor(Math.random()*l.length);m.push(l.charAt(w))}return m.join("")}function Zu(){return xe(D)}function Aa(m){return Ce("authEvent",m.config.apiKey,m.name)}function li(m){if(!m?.includes("?"))return{};const[l,...f]=m.split("?");return(0,j.zd)(f.join("?"))}function pa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:We("no-auth-event")}}function Yu(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function hl(m=(0,j.z$)()){return!("file:"!==Yu()&&"ionic:"!==Yu()&&"capacitor:"!==Yu()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function fh(){try{const m=self.localStorage,l=Yt();if(m)return m.setItem(l,"1"),m.removeItem(l),!function cr(m=(0,j.z$)()){return function hh(){return(0,j.w1)()&&11===document?.documentMode}()||function td(m=(0,j.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,j.hl)()}catch{return Su()&&(0,j.hl)()}return!1}function Su(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function uu(){return(function Sa(){return"http:"===Yu()||"https:"===Yu()}()||(0,j.ru)()||hl())&&!function Au(){return(0,j.b$)()||(0,j.UG)()}()&&fh()&&!Su()}function na(){return hl()&&typeof document<"u"}function bc(){return(bc=(0,p.Z)(function*(){return!!na()&&new Promise(m=>{const l=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),m(!0)})})})).apply(this,arguments)}const Ho={LOCAL:"local",NONE:"none",SESSION:"session"},cu=ee,nd="persistence";function fl(m){return pl.apply(this,arguments)}function pl(){return(pl=(0,p.Z)(function*(m){yield m._initializationPromise;const l=xu(),f=Ce(nd,m.config.apiKey,m.name);l&&l.setItem(f,m._getPersistence())})).apply(this,arguments)}function xu(){var m;try{return(null===(m=function ph(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const Dc=ee;class ga{constructor(){this.browserResolver=xe(class fa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G,this._completeRedirectFn=Po,this._overrideRedirectResult=R}_openPopup(l,f,w,B){var Y=this;return(0,p.Z)(function*(){var Oe;le(null===(Oe=Y.eventManagers[l._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const at=Ws(l,f,w,st(),B);return function rh(m,l,f,w=500,B=600){const Y=Math.max((window.screen.availHeight-B)/2,0).toString(),Oe=Math.max((window.screen.availWidth-w)/2,0).toString();let at="";const Ht=Object.assign(Object.assign({},Mf),{width:w.toString(),height:B.toString(),top:Y,left:Oe}),hn=(0,j.z$)().toLowerCase();f&&(at=Ln(hn)?"_blank":f),Nt(hn)&&(l=l||"http://localhost",Ht.scrollbars="yes");const _n=Object.entries(Ht).reduce((bs,[pi,$a])=>`${bs}${pi}=${$a},`,"");if(function et(m=(0,j.z$)()){var l;return se(m)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(hn)&&"_self"!==at)return function ql(m,l){const f=document.createElement("a");f.href=m,f.target=l;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(w)}(l||"",at),new nh(null);const Nn=window.open(l||"",at,_n);ee(Nn,m,"popup-blocked");try{Nn.focus()}catch{}return new nh(Nn)}(l,at,Yt())})()}_openRedirect(l,f,w,B){var Y=this;return(0,p.Z)(function*(){return yield Y._originValidation(l),function Qt(m){Mt().location.href=m}(Ws(l,f,w,st(),B)),new Promise(()=>{})})()}_initialize(l){const f=l._key();if(this.eventManagers[f]){const{manager:B,promise:Y}=this.eventManagers[f];return B?Promise.resolve(B):(le(Y,"If manager is not set, promise should be"),Y)}const w=this.initAndGetManager(l);return this.eventManagers[f]={promise:w},w.catch(()=>{delete this.eventManagers[f]}),w}initAndGetManager(l){var f=this;return(0,p.Z)(function*(){const w=yield function ru(m){return th.apply(this,arguments)}(l),B=new Si(l);return w.register("authEvent",Y=>(ee(Y?.authEvent,l,"invalid-auth-event"),{status:B.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[l._key()]={manager:B},f.iframes[l._key()]=w,B})()}_isIframeWebStorageSupported(l,f){this.iframes[l._key()].send(ou,{type:ou},B=>{var Y;const Oe=null===(Y=B?.[0])||void 0===Y?void 0:Y[ou];void 0!==Oe&&f(!!Oe),Xe(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const f=l._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function nl(m){return gc.apply(this,arguments)}(l)),this.originValidationPromises[f]}get _shouldInitProactively(){return yn()||nn()||se()}}),this.cordovaResolver=xe(class ed{constructor(){this._redirectPersistence=G,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Po,this._overrideRedirectResult=R}_initialize(l){var f=this;return(0,p.Z)(function*(){const w=l._key();let B=f.eventManagers.get(w);return B||(B=new Cu(l),f.eventManagers.set(w,B),f.attachCallbackListeners(l,B)),B})()}_openPopup(l){Xe(l,"operation-not-supported-in-this-environment")}_openRedirect(l,f,w,B){var Y=this;return(0,p.Z)(function*(){!function Vi(m){var l,f,w,B,Y,Oe,at,Ht,hn,_n;const Nn=Ta();ee("function"==typeof(null===(l=Nn?.universalLinks)||void 0===l?void 0:l.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(f=Nn?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(Y=null===(B=null===(w=Nn?.cordova)||void 0===w?void 0:w.plugins)||void 0===B?void 0:B.browsertab)||void 0===Y?void 0:Y.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Ht=null===(at=null===(Oe=Nn?.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===at?void 0:at.browsertab)||void 0===Ht?void 0:Ht.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(_n=null===(hn=Nn?.cordova)||void 0===hn?void 0:hn.InAppBrowser)||void 0===_n?void 0:_n.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const Oe=yield Y._initialize(l);yield Oe.initialized(),Oe.resetRedirect(),function ta(){Yn.clear()}(),yield Y._originValidation(l);const at=function kf(m,l,f=null){return{type:l,eventId:f,urlResponse:null,sessionId:ch(),postBody:null,tenantId:m.tenantId,error:We(m,"no-auth-event")}}(l,w,B);yield function Xl(m,l){return Zu()._set(Aa(m),l)}(l,at);const Ht=yield function zu(m,l,f){return ja.apply(this,arguments)}(l,at,f),hn=yield function Ku(m){const{cordova:l}=Ta();return new Promise(f=>{l.plugins.browsertab.isAvailable(w=>{let B=null;w?l.plugins.browsertab.openUrl(m):B=l.InAppBrowser.open(m,function $e(m=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(B)})})}(Ht);return function Nf(m,l,f){return ll.apply(this,arguments)}(l,Oe,hn)})()}_isIframeWebStorageSupported(l,f){throw new Error("Method not implemented.")}_originValidation(l){const f=l._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function oh(m){return cl.apply(this,arguments)}(l)),this.originValidationPromises[f]}attachCallbackListeners(l,f){const{universalLinks:w,handleOpenURL:B,BuildInfo:Y}=Ta(),Oe=setTimeout((0,p.Z)(function*(){yield Tu(l),f.onEvent(pa())}),500),at=function(){var _n=(0,p.Z)(function*(Nn){clearTimeout(Oe);const bs=yield Tu(l);let pi=null;bs&&Nn?.url&&(pi=function uh(m,l){var f,w;const B=function Sg(m){const l=li(m),f=l.link?decodeURIComponent(l.link):void 0,w=li(f).link,B=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return li(B).link||B||w||f||m}(l);if(B.includes("/__/auth/callback")){const Y=li(B),Oe=Y.firebaseError?function dl(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(Y.firebaseError)):null,at=null===(w=null===(f=Oe?.code)||void 0===f?void 0:f.split("auth/"))||void 0===w?void 0:w[1],Ht=at?We(at):null;return Ht?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Ht,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:B,postBody:null}}return null}(bs,Nn.url)),f.onEvent(pi||pa())});return function(bs){return _n.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,at);const Ht=B,hn=`${Y.packageName.toLowerCase()}://`;Ta().handleOpenURL=function(){var _n=(0,p.Z)(function*(Nn){if(Nn.toLowerCase().startsWith(hn)&&at({url:Nn}),"function"==typeof Ht)try{Ht(Nn)}catch(bs){console.error(bs)}});return function(Nn){return _n.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=G,this._completeRedirectFn=Po,this._overrideRedirectResult=R}_initialize(l){var f=this;return(0,p.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,f,w,B){var Y=this;return(0,p.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openPopup(l,f,w,B)})()}_openRedirect(l,f,w,B){var Y=this;return(0,p.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openRedirect(l,f,w,B)})()}_isIframeWebStorageSupported(l,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,f)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return na()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,p.Z)(function*(){if(l.underlyingResolver)return;const f=yield function Ic(){return bc.apply(this,arguments)}();l.underlyingResolver=f?l.cordovaResolver:l.browserResolver})()}}function Is(m){return m.unwrap()}function gl(m){return Io(m)}function Io(m){const{_tokenResponse:l}=m instanceof j.ZR?m.customData:m;if(!l)return null;if(!(m instanceof j.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return da.credentialFromResult(m);const f=l.providerId;if(!f||"password"===f)return null;let w;switch(f){case"google.com":w=Yi;break;case"facebook.com":w=uo;break;case"github.com":w=As;break;case"twitter.com":w=ki;break;default:const{oauthIdToken:B,oauthAccessToken:Y,oauthTokenSecret:Oe,pendingToken:at,nonce:Ht}=l;return Y||Oe||B||at?at?f.startsWith("saml.")?us._create(f,at):Ne._fromParams({providerId:f,signInMethod:f,pendingToken:at,idToken:B,accessToken:Y}):new si(f).credential({idToken:B,accessToken:Y,rawNonce:Ht}):null}return m instanceof j.ZR?w.credentialFromError(m):w.credentialFromResult(m)}function ho(m,l){return l.catch(f=>{throw f instanceof j.ZR&&function Mu(m,l){var f,w;const B=null===(f=l.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=l)||void 0===w?void 0:w.code))l.resolver=new gh(m,function Kr(m,l){var f;const w=(0,j.m9)(m),B=l;return ee(l.customData.operationType,w,"argument-error"),ee(null===(f=B.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,w,"argument-error"),Zo._fromError(w,B)}(m,l));else if(B){const Y=Io(l),Oe=l;Y&&(Oe.credential=Y,Oe.tenantId=B.tenantId||void 0,Oe.email=B.email||void 0,Oe.phoneNumber=B.phoneNumber||void 0)}}(m,f),f}).then(f=>{const B=f.user;return{operationType:f.operationType,credential:gl(f),additionalUserInfo:Kn(f),user:ma.getOrCreate(B)}})}function Tc(m,l){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,p.Z)(function*(m,l){const f=yield l;return{verificationId:f.verificationId,confirm:w=>ho(m,f.confirm(w))}})).apply(this,arguments)}class gh{constructor(l,f){this.resolver=f,this.auth=function Cc(m){return m.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return ho(Is(this.auth),this.resolver.resolveSignIn(l))}}class ma{constructor(l){this._delegate=l,this.multiFactor=function Yo(m){const l=(0,j.m9)(m);return wa.has(l)||wa.set(l,Uo._fromUser(l)),wa.get(l)}(l)}static getOrCreate(l){return ma.USER_MAP.has(l)||ma.USER_MAP.set(l,new ma(l)),ma.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var f=this;return(0,p.Z)(function*(){return ho(f.auth,co(f._delegate,l))})()}linkWithPhoneNumber(l,f){var w=this;return(0,p.Z)(function*(){return Tc(w.auth,function rs(m,l,f){return io.apply(this,arguments)}(w._delegate,l,f))})()}linkWithPopup(l){var f=this;return(0,p.Z)(function*(){return ho(f.auth,function it(m,l,f){return Ft.apply(this,arguments)}(f._delegate,l,ga))})()}linkWithRedirect(l){var f=this;return(0,p.Z)(function*(){return yield fl(mr(f.auth)),function Zn(m,l,f){return function ur(m,l,f){return An.apply(this,arguments)}(m,l,f)}(f._delegate,l,ga)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var f=this;return(0,p.Z)(function*(){return ho(f.auth,Co(f._delegate,l))})()}reauthenticateWithPhoneNumber(l,f){return Tc(this.auth,function tu(m,l,f){return ba.apply(this,arguments)}(this._delegate,l,f))}reauthenticateWithPopup(l){return ho(this.auth,function ue(m,l,f){return me.apply(this,arguments)}(this._delegate,l,ga))}reauthenticateWithRedirect(l){var f=this;return(0,p.Z)(function*(){return yield fl(mr(f.auth)),function At(m,l,f){return function $t(m,l,f){return On.apply(this,arguments)}(m,l,f)}(f._delegate,l,ga)})()}sendEmailVerification(l){return function qo(m,l){return ps.apply(this,arguments)}(this._delegate,l)}unlink(l){var f=this;return(0,p.Z)(function*(){return yield function Nr(m,l){return oi.apply(this,arguments)}(f._delegate,l),f})()}updateEmail(l){return function T(m,l){return P((0,j.m9)(m),l,null)}(this._delegate,l)}updatePassword(l){return function $(m,l){return P((0,j.m9)(m),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Gu(m,l){return vo.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Vo(m,l){return So.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,f){return function Fo(m,l,f){return To.apply(this,arguments)}(this._delegate,l,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ma.USER_MAP=new WeakMap;const lu=ee;let Ac=(()=>{class m{constructor(f,w){if(this.app=f,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:B}=f.options;lu(B,"invalid-api-key",{appName:f.name}),lu(B,"invalid-api-key",{appName:f.name});const Y=typeof window<"u"?ga:void 0;this._delegate=w.initialize({options:{persistence:ya(B,f.name),popupRedirectResolver:Y}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ma.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,w){!function Hi(m,l,f){const w=mr(m);ee(w._canInitEmulator,w,"emulator-config-failed"),ee(/^https?:\/\//.test(l),w,"invalid-emulator-scheme");const B=!!f?.disableWarnings,Y=mi(l),{host:Oe,port:at}=function Mr(m){const l=mi(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(l.length));if(!f)return{host:"",port:null};const w=f[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(w);if(B){const Y=B[1];return{host:Y,port:Mi(w.substr(Y.length+1))}}{const[Y,Oe]=w.split(":");return{host:Y,port:Mi(Oe)}}}(l);w.config.emulator={url:`${Y}//${Oe}${null===at?"":`:${at}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Oe,port:at,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:B})}),B||function Oi(){function m(){const l=document.createElement("p"),f=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,w)}applyActionCode(f){return function qi(m,l){return xs.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return es(this._delegate,f)}confirmPasswordReset(f,w){return function Vs(m,l,f){return Ss.apply(this,arguments)}(this._delegate,f,w)}createUserWithEmailAndPassword(f,w){var B=this;return(0,p.Z)(function*(){return ho(B._delegate,function N(m,l,f){return A.apply(this,arguments)}(B._delegate,f,w))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function eo(m,l){return Bs.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function dr(m,l){return"EMAIL_SIGNIN"===as.parseLink(l)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,p.Z)(function*(){lu(uu(),f._delegate,"operation-not-supported-in-this-environment");const w=yield function Ai(m,l){return is.apply(this,arguments)}(f._delegate,ga);return w?ho(f._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Lf(m,l){mr(m)._logFramework(l)}(this._delegate,f)}onAuthStateChanged(f,w,B){const{next:Y,error:Oe,complete:at}=ml(f,w,B);return this._delegate.onAuthStateChanged(Y,Oe,at)}onIdTokenChanged(f,w,B){const{next:Y,error:Oe,complete:at}=ml(f,w,B);return this._delegate.onIdTokenChanged(Y,Oe,at)}sendSignInLinkToEmail(f,w){return function Ge(m,l,f){return zt.apply(this,arguments)}(this._delegate,f,w)}sendPasswordResetEmail(f,w){return function Fs(m,l,f){return kr.apply(this,arguments)}(this._delegate,f,w||void 0)}setPersistence(f){var w=this;return(0,p.Z)(function*(){let B;switch(function rd(m,l){cu(Object.values(Ho).includes(l),m,"invalid-persistence-type"),(0,j.b$)()?cu(l!==Ho.SESSION,m,"unsupported-persistence-type"):(0,j.UG)()?cu(l===Ho.NONE,m,"unsupported-persistence-type"):Su()?cu(l===Ho.NONE||l===Ho.LOCAL&&(0,j.hl)(),m,"unsupported-persistence-type"):cu(l===Ho.NONE||fh(),m,"unsupported-persistence-type")}(w._delegate,f),f){case Ho.SESSION:B=G;break;case Ho.LOCAL:B=(yield xe(yo)._isAvailable())?yo:D;break;case Ho.NONE:B=ye;break;default:return Xe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(B)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return ho(this._delegate,function vs(m){return Ur.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return ho(this._delegate,Hr(this._delegate,f))}signInWithCustomToken(f){return ho(this._delegate,function Js(m,l){return po.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,w){return ho(this._delegate,function q(m,l,f){return Hr((0,j.m9)(m),Zi.credential(l,f))}(this._delegate,f,w))}signInWithEmailLink(f,w){return ho(this._delegate,function ts(m,l,f){return Li.apply(this,arguments)}(this._delegate,f,w))}signInWithPhoneNumber(f,w){return Tc(this._delegate,function ca(m,l,f){return la.apply(this,arguments)}(this._delegate,f,w))}signInWithPopup(f){var w=this;return(0,p.Z)(function*(){return lu(uu(),w._delegate,"operation-not-supported-in-this-environment"),ho(w._delegate,function k(m,l,f){return W.apply(this,arguments)}(w._delegate,f,ga))})()}signInWithRedirect(f){var w=this;return(0,p.Z)(function*(){return lu(uu(),w._delegate,"operation-not-supported-in-this-environment"),yield fl(w._delegate),function ce(m,l,f){return function Ve(m,l,f){return Je.apply(this,arguments)}(m,l,f)}(w._delegate,f,ga)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function go(m,l){return F.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Ho,m})();function ml(m,l,f){let w=m;"function"!=typeof m&&({next:w,error:l,complete:f}=m);const B=w;return{next:Oe=>B(Oe&&ma.getOrCreate(Oe)),error:l,complete:f}}function ya(m,l){const f=function id(m,l){const f=xu();if(!f)return[];const w=Ce(nd,m,l);switch(f.getItem(w)){case Ho.NONE:return[ye];case Ho.LOCAL:return[yo,G];case Ho.SESSION:return[G];default:return[]}}(m,l);if(typeof self<"u"&&!f.includes(yo)&&f.push(yo),typeof window<"u")for(const w of[D,G])f.includes(w)||f.push(w);return f.includes(ye)||f.push(ye),f}class Sc{constructor(){this.providerId="phone",this._delegate=new da(Is(S.Z.auth()))}static credential(l,f){return da.credential(l,f)}verifyPhoneNumber(l,f){return this._delegate.verifyPhoneNumber(l,f)}unwrap(){return this._delegate}}Sc.PHONE_SIGN_IN_METHOD=da.PHONE_SIGN_IN_METHOD,Sc.PROVIDER_ID=da.PROVIDER_ID;const Ff=ee;class Vf{constructor(l,f,w=S.Z.app()){var B;Ff(null===(B=w.options)||void 0===B?void 0:B.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Zr(l,f,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function yl(m){m.INTERNAL.registerComponent(new de.wA("auth-compat",l=>{const f=l.getProvider("app-compat").getImmediate(),w=l.getProvider("auth");return new Ac(f,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Zi,FacebookAuthProvider:uo,GithubAuthProvider:As,GoogleAuthProvider:Yi,OAuthProvider:si,SAMLAuthProvider:Ci,PhoneAuthProvider:Sc,PhoneMultiFactorGenerator:Yl,RecaptchaVerifier:Vf,TwitterAuthProvider:ki,Auth:Ac,AuthCredential:Ar,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.24")}(S.Z)},1135:(Se,X,O)=>{"use strict";O.d(X,{X:()=>S});var p=O(7579);class S extends p.x{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const re=super._subscribe(ge);return!re.closed&&ge.next(this._value),re}getValue(){const{hasError:ge,thrownError:re,_value:_e}=this;if(ge)throw re;return this._throwIfClosed(),_e}next(ge){super.next(this._value=ge)}}},9751:(Se,X,O)=>{"use strict";O.d(X,{y:()=>he});var p=O(930),S=O(727),j=O(8822),ge=O(9635),re=O(2416),_e=O(576),de=O(2806);let he=(()=>{class ie{constructor(He){He&&(this._subscribe=He)}lift(He){const Le=new ie;return Le.source=this,Le.operator=He,Le}subscribe(He,Le,lt){const Be=function ne(ie){return ie&&ie instanceof p.Lv||function te(ie){return ie&&(0,_e.m)(ie.next)&&(0,_e.m)(ie.error)&&(0,_e.m)(ie.complete)}(ie)&&(0,S.Nn)(ie)}(He)?He:new p.Hp(He,Le,lt);return(0,de.x)(()=>{const{operator:Re,source:ve}=this;Be.add(Re?Re.call(Be,ve):ve?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(He){try{return this._subscribe(He)}catch(Le){He.error(Le)}}forEach(He,Le){return new(Le=pe(Le))((lt,Be)=>{const Re=new p.Hp({next:ve=>{try{He(ve)}catch(Et){Be(Et),Re.unsubscribe()}},error:Be,complete:lt});this.subscribe(Re)})}_subscribe(He){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(He)}[j.L](){return this}pipe(...He){return(0,ge.U)(He)(this)}toPromise(He){return new(He=pe(He))((Le,lt)=>{let Be;this.subscribe(Re=>Be=Re,Re=>lt(Re),()=>Le(Be))})}}return ie.create=je=>new ie(je),ie})();function pe(ie){var je;return null!==(je=ie??re.v.Promise)&&void 0!==je?je:Promise}},4707:(Se,X,O)=>{"use strict";O.d(X,{t:()=>j});var p=O(7579),S=O(6063);class j extends p.x{constructor(re=1/0,_e=1/0,de=S.l){super(),this._bufferSize=re,this._windowTime=_e,this._timestampProvider=de,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=_e===1/0,this._bufferSize=Math.max(1,re),this._windowTime=Math.max(1,_e)}next(re){const{isStopped:_e,_buffer:de,_infiniteTimeWindow:he,_timestampProvider:pe,_windowTime:te}=this;_e||(de.push(re),!he&&de.push(pe.now()+te)),this._trimBuffer(),super.next(re)}_subscribe(re){this._throwIfClosed(),this._trimBuffer();const _e=this._innerSubscribe(re),{_infiniteTimeWindow:de,_buffer:he}=this,pe=he.slice();for(let te=0;te<pe.length&&!re.closed;te+=de?1:2)re.next(pe[te]);return this._checkFinalizedStatuses(re),_e}_trimBuffer(){const{_bufferSize:re,_timestampProvider:_e,_buffer:de,_infiniteTimeWindow:he}=this,pe=(he?1:2)*re;if(re<1/0&&pe<de.length&&de.splice(0,de.length-pe),!he){const te=_e.now();let ne=0;for(let ie=1;ie<de.length&&de[ie]<=te;ie+=2)ne=ie;ne&&de.splice(0,ne+1)}}}},7579:(Se,X,O)=>{"use strict";O.d(X,{x:()=>de});var p=O(9751),S=O(727);const ge=(0,O(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=O(8737),_e=O(2806);let de=(()=>{class pe extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ie=new he(this,this);return ie.operator=ne,ie}_throwIfClosed(){if(this.closed)throw new ge}next(ne){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(ne)}})}error(ne){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ie}=this;for(;ie.length;)ie.shift().error(ne)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ie,isStopped:je,observers:He}=this;return ie||je?S.Lc:(this.currentObservers=null,He.push(ne),new S.w0(()=>{this.currentObservers=null,(0,re.P)(He,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ie,thrownError:je,isStopped:He}=this;ie?ne.error(je):He&&ne.complete()}asObservable(){const ne=new p.y;return ne.source=this,ne}}return pe.create=(te,ne)=>new he(te,ne),pe})();class he extends de{constructor(te,ne){super(),this.destination=te,this.source=ne}next(te){var ne,ie;null===(ie=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ie||ie.call(ne,te)}error(te){var ne,ie;null===(ie=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ie||ie.call(ne,te)}complete(){var te,ne;null===(ne=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ne||ne.call(te)}_subscribe(te){var ne,ie;return null!==(ie=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(te))&&void 0!==ie?ie:S.Lc}}},930:(Se,X,O)=>{"use strict";O.d(X,{Hp:()=>lt,Lv:()=>ie});var p=O(576),S=O(727),j=O(2416),ge=O(7849),re=O(5032);const _e=pe("C",void 0,void 0);function pe(Xe,We,Fe){return{kind:Xe,value:We,error:Fe}}var te=O(3410),ne=O(2806);class ie extends S.w0{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,S.Nn)(We)&&We.add(this)):this.destination=Et}static create(We,Fe,_t){return new lt(We,Fe,_t)}next(We){this.isStopped?ve(function he(Xe){return pe("N",Xe,void 0)}(We),this):this._next(We)}error(We){this.isStopped?ve(function de(Xe){return pe("E",void 0,Xe)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?ve(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function He(Xe,We){return je.call(Xe,We)}class Le{constructor(We){this.partialObserver=We}next(We){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(We)}catch(_t){Be(_t)}}error(We){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(We)}catch(_t){Be(_t)}else Be(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(Fe){Be(Fe)}}}class lt extends ie{constructor(We,Fe,_t){let dt;if(super(),(0,p.m)(We)||!We)dt={next:We??void 0,error:Fe??void 0,complete:_t??void 0};else{let ee;this&&j.v.useDeprecatedNextContext?(ee=Object.create(We),ee.unsubscribe=()=>this.unsubscribe(),dt={next:We.next&&He(We.next,ee),error:We.error&&He(We.error,ee),complete:We.complete&&He(We.complete,ee)}):dt=We}this.destination=new Le(dt)}}function Be(Xe){j.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Xe):(0,ge.h)(Xe)}function ve(Xe,We){const{onStoppedNotification:Fe}=j.v;Fe&&te.z.setTimeout(()=>Fe(Xe,We))}const Et={closed:!0,next:re.Z,error:function Re(Xe){throw Xe},complete:re.Z}},727:(Se,X,O)=>{"use strict";O.d(X,{Lc:()=>_e,w0:()=>re,Nn:()=>de});var p=O(576);const j=(0,O(3888).d)(pe=>function(ne){pe(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ie,je)=>`${je+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var ge=O(8737);class re{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const He of ne)He.remove(this);else ne.remove(this);const{initialTeardown:ie}=this;if((0,p.m)(ie))try{ie()}catch(He){te=He instanceof j?He.errors:[He]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const He of je)try{he(He)}catch(Le){te=te??[],Le instanceof j?te=[...te,...Le.errors]:te.push(Le)}}if(te)throw new j(te)}}add(te){var ne;if(te&&te!==this)if(this.closed)he(te);else{if(te instanceof re){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(te)}}_hasParent(te){const{_parentage:ne}=this;return ne===te||Array.isArray(ne)&&ne.includes(te)}_addParent(te){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(te),ne):ne?[ne,te]:te}_removeParent(te){const{_parentage:ne}=this;ne===te?this._parentage=null:Array.isArray(ne)&&(0,ge.P)(ne,te)}remove(te){const{_finalizers:ne}=this;ne&&(0,ge.P)(ne,te),te instanceof re&&te._removeParent(this)}}re.EMPTY=(()=>{const pe=new re;return pe.closed=!0,pe})();const _e=re.EMPTY;function de(pe){return pe instanceof re||pe&&"closed"in pe&&(0,p.m)(pe.remove)&&(0,p.m)(pe.add)&&(0,p.m)(pe.unsubscribe)}function he(pe){(0,p.m)(pe)?pe():pe.unsubscribe()}},2416:(Se,X,O)=>{"use strict";O.d(X,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Se,X,O)=>{"use strict";O.d(X,{z:()=>re});var p=O(8189),j=O(7669),ge=O(8996);function re(..._e){return function S(){return(0,p.J)(1)}()((0,ge.D)(_e,(0,j.yG)(_e)))}},515:(Se,X,O)=>{"use strict";O.d(X,{E:()=>S});const S=new(O(9751).y)(re=>re.complete())},8996:(Se,X,O)=>{"use strict";O.d(X,{D:()=>We});var p=O(8421),S=O(5363),j=O(9468),_e=O(9751),he=O(2202),pe=O(576),te=O(9672);function ie(Fe,_t){if(!Fe)throw new Error("Iterable cannot be null");return new _e.y(dt=>{(0,te.f)(dt,_t,()=>{const ee=Fe[Symbol.asyncIterator]();(0,te.f)(dt,_t,()=>{ee.next().then(Ke=>{Ke.done?dt.complete():dt.next(Ke.value)})},0,!0)})})}var je=O(3670),He=O(8239),Le=O(1144),lt=O(6495),Be=O(2206),Re=O(4532),ve=O(3260);function We(Fe,_t){return _t?function Xe(Fe,_t){if(null!=Fe){if((0,je.c)(Fe))return function ge(Fe,_t){return(0,p.Xf)(Fe).pipe((0,j.R)(_t),(0,S.Q)(_t))}(Fe,_t);if((0,Le.z)(Fe))return function de(Fe,_t){return new _e.y(dt=>{let ee=0;return _t.schedule(function(){ee===Fe.length?dt.complete():(dt.next(Fe[ee++]),dt.closed||this.schedule())})})}(Fe,_t);if((0,He.t)(Fe))return function re(Fe,_t){return(0,p.Xf)(Fe).pipe((0,j.R)(_t),(0,S.Q)(_t))}(Fe,_t);if((0,Be.D)(Fe))return ie(Fe,_t);if((0,lt.T)(Fe))return function ne(Fe,_t){return new _e.y(dt=>{let ee;return(0,te.f)(dt,_t,()=>{ee=Fe[he.h](),(0,te.f)(dt,_t,()=>{let Ke,le;try{({value:Ke,done:le}=ee.next())}catch(Ae){return void dt.error(Ae)}le?dt.complete():dt.next(Ke)},0,!0)}),()=>(0,pe.m)(ee?.return)&&ee.return()})}(Fe,_t);if((0,ve.L)(Fe))return function Et(Fe,_t){return ie((0,ve.Q)(Fe),_t)}(Fe,_t)}throw(0,Re.z)(Fe)}(Fe,_t):(0,p.Xf)(Fe)}},8421:(Se,X,O)=>{"use strict";O.d(X,{Xf:()=>je});var p=O(655),S=O(1144),j=O(8239),ge=O(9751),re=O(3670),_e=O(2206),de=O(4532),he=O(6495),pe=O(3260),te=O(576),ne=O(7849),ie=O(8822);function je(Xe){if(Xe instanceof ge.y)return Xe;if(null!=Xe){if((0,re.c)(Xe))return function He(Xe){return new ge.y(We=>{const Fe=Xe[ie.L]();if((0,te.m)(Fe.subscribe))return Fe.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xe);if((0,S.z)(Xe))return function Le(Xe){return new ge.y(We=>{for(let Fe=0;Fe<Xe.length&&!We.closed;Fe++)We.next(Xe[Fe]);We.complete()})}(Xe);if((0,j.t)(Xe))return function lt(Xe){return new ge.y(We=>{Xe.then(Fe=>{We.closed||(We.next(Fe),We.complete())},Fe=>We.error(Fe)).then(null,ne.h)})}(Xe);if((0,_e.D)(Xe))return Re(Xe);if((0,he.T)(Xe))return function Be(Xe){return new ge.y(We=>{for(const Fe of Xe)if(We.next(Fe),We.closed)return;We.complete()})}(Xe);if((0,pe.L)(Xe))return function ve(Xe){return Re((0,pe.Q)(Xe))}(Xe)}throw(0,de.z)(Xe)}function Re(Xe){return new ge.y(We=>{(function Et(Xe,We){var Fe,_t,dt,ee;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,p.KL)(Xe);!(_t=yield Fe.next()).done;)if(We.next(_t.value),We.closed)return}catch(Ke){dt={error:Ke}}finally{try{_t&&!_t.done&&(ee=Fe.return)&&(yield ee.call(Fe))}finally{if(dt)throw dt.error}}We.complete()})})(Xe,We).catch(Fe=>We.error(Fe))})}},6451:(Se,X,O)=>{"use strict";O.d(X,{T:()=>_e});var p=O(8189),S=O(8421),j=O(515),ge=O(7669),re=O(8996);function _e(...de){const he=(0,ge.yG)(de),pe=(0,ge._6)(de,1/0),te=de;return te.length?1===te.length?(0,S.Xf)(te[0]):(0,p.J)(pe)((0,re.D)(te,he)):j.E}},9646:(Se,X,O)=>{"use strict";O.d(X,{of:()=>j});var p=O(7669),S=O(8996);function j(...ge){const re=(0,p.yG)(ge);return(0,S.D)(ge,re)}},5403:(Se,X,O)=>{"use strict";O.d(X,{x:()=>S});var p=O(930);function S(ge,re,_e,de,he){return new j(ge,re,_e,de,he)}class j extends p.Lv{constructor(re,_e,de,he,pe,te){super(re),this.onFinalize=pe,this.shouldUnsubscribe=te,this._next=_e?function(ne){try{_e(ne)}catch(ie){re.error(ie)}}:super._next,this._error=he?function(ne){try{he(ne)}catch(ie){re.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(ne){re.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},262:(Se,X,O)=>{"use strict";O.d(X,{K:()=>ge});var p=O(8421),S=O(5403),j=O(4482);function ge(re){return(0,j.e)((_e,de)=>{let te,he=null,pe=!1;he=_e.subscribe((0,S.x)(de,void 0,void 0,ne=>{te=(0,p.Xf)(re(ne,ge(re)(_e))),he?(he.unsubscribe(),he=null,te.subscribe(de)):pe=!0})),pe&&(he.unsubscribe(),he=null,te.subscribe(de))})}},4351:(Se,X,O)=>{"use strict";O.d(X,{b:()=>j});var p=O(5577),S=O(576);function j(ge,re){return(0,S.m)(re)?(0,p.z)(ge,re,1):(0,p.z)(ge,1)}},8372:(Se,X,O)=>{"use strict";O.d(X,{b:()=>ge});var p=O(4986),S=O(4482),j=O(5403);function ge(re,_e=p.z){return(0,S.e)((de,he)=>{let pe=null,te=null,ne=null;const ie=()=>{if(pe){pe.unsubscribe(),pe=null;const He=te;te=null,he.next(He)}};function je(){const He=ne+re,Le=_e.now();if(Le<He)return pe=this.schedule(void 0,He-Le),void he.add(pe);ie()}de.subscribe((0,j.x)(he,He=>{te=He,ne=_e.now(),pe||(pe=_e.schedule(je,re),he.add(pe))},()=>{ie(),he.complete()},void 0,()=>{te=pe=null}))})}},6590:(Se,X,O)=>{"use strict";O.d(X,{d:()=>j});var p=O(4482),S=O(5403);function j(ge){return(0,p.e)((re,_e)=>{let de=!1;re.subscribe((0,S.x)(_e,he=>{de=!0,_e.next(he)},()=>{de||_e.next(ge),_e.complete()}))})}},1884:(Se,X,O)=>{"use strict";O.d(X,{x:()=>ge});var p=O(4671),S=O(4482),j=O(5403);function ge(_e,de=p.y){return _e=_e??re,(0,S.e)((he,pe)=>{let te,ne=!0;he.subscribe((0,j.x)(pe,ie=>{const je=de(ie);(ne||!_e(te,je))&&(ne=!1,te=je,pe.next(ie))}))})}function re(_e,de){return _e===de}},9300:(Se,X,O)=>{"use strict";O.d(X,{h:()=>j});var p=O(4482),S=O(5403);function j(ge,re){return(0,p.e)((_e,de)=>{let he=0;_e.subscribe((0,S.x)(de,pe=>ge.call(re,pe,he++)&&de.next(pe)))})}},590:(Se,X,O)=>{"use strict";O.d(X,{P:()=>de});var p=O(6805),S=O(9300),j=O(5698),ge=O(6590),re=O(8068),_e=O(4671);function de(he,pe){const te=arguments.length>=2;return ne=>ne.pipe(he?(0,S.h)((ie,je)=>he(ie,je,ne)):_e.y,(0,j.q)(1),te?(0,ge.d)(pe):(0,re.T)(()=>new p.K))}},4004:(Se,X,O)=>{"use strict";O.d(X,{U:()=>j});var p=O(4482),S=O(5403);function j(ge,re){return(0,p.e)((_e,de)=>{let he=0;_e.subscribe((0,S.x)(de,pe=>{de.next(ge.call(re,pe,he++))}))})}},8189:(Se,X,O)=>{"use strict";O.d(X,{J:()=>j});var p=O(5577),S=O(4671);function j(ge=1/0){return(0,p.z)(S.y,ge)}},5577:(Se,X,O)=>{"use strict";O.d(X,{z:()=>he});var p=O(4004),S=O(8421),j=O(4482),ge=O(9672),re=O(5403),de=O(576);function he(pe,te,ne=1/0){return(0,de.m)(te)?he((ie,je)=>(0,p.U)((He,Le)=>te(ie,He,je,Le))((0,S.Xf)(pe(ie,je))),ne):("number"==typeof te&&(ne=te),(0,j.e)((ie,je)=>function _e(pe,te,ne,ie,je,He,Le,lt){const Be=[];let Re=0,ve=0,Et=!1;const Xe=()=>{Et&&!Be.length&&!Re&&te.complete()},We=_t=>Re<ie?Fe(_t):Be.push(_t),Fe=_t=>{He&&te.next(_t),Re++;let dt=!1;(0,S.Xf)(ne(_t,ve++)).subscribe((0,re.x)(te,ee=>{je?.(ee),He?We(ee):te.next(ee)},()=>{dt=!0},void 0,()=>{if(dt)try{for(Re--;Be.length&&Re<ie;){const ee=Be.shift();Le?(0,ge.f)(te,Le,()=>Fe(ee)):Fe(ee)}Xe()}catch(ee){te.error(ee)}}))};return pe.subscribe((0,re.x)(te,We,()=>{Et=!0,Xe()})),()=>{lt?.()}}(ie,je,pe,ne)))}},5363:(Se,X,O)=>{"use strict";O.d(X,{Q:()=>ge});var p=O(9672),S=O(4482),j=O(5403);function ge(re,_e=0){return(0,S.e)((de,he)=>{de.subscribe((0,j.x)(he,pe=>(0,p.f)(he,re,()=>he.next(pe),_e),()=>(0,p.f)(he,re,()=>he.complete(),_e),pe=>(0,p.f)(he,re,()=>he.error(pe),_e)))})}},5026:(Se,X,O)=>{"use strict";O.d(X,{R:()=>ge});var p=O(4482),S=O(5403);function j(re,_e,de,he,pe){return(te,ne)=>{let ie=de,je=_e,He=0;te.subscribe((0,S.x)(ne,Le=>{const lt=He++;je=ie?re(je,Le,lt):(ie=!0,Le),he&&ne.next(je)},pe&&(()=>{ie&&ne.next(je),ne.complete()})))}}function ge(re,_e){return(0,p.e)(j(re,_e,arguments.length>=2,!0))}},3099:(Se,X,O)=>{"use strict";O.d(X,{B:()=>re});var p=O(8421),S=O(7579),j=O(930),ge=O(4482);function re(de={}){const{connector:he=(()=>new S.x),resetOnError:pe=!0,resetOnComplete:te=!0,resetOnRefCountZero:ne=!0}=de;return ie=>{let je,He,Le,lt=0,Be=!1,Re=!1;const ve=()=>{He?.unsubscribe(),He=void 0},Et=()=>{ve(),je=Le=void 0,Be=Re=!1},Xe=()=>{const We=je;Et(),We?.unsubscribe()};return(0,ge.e)((We,Fe)=>{lt++,!Re&&!Be&&ve();const _t=Le=Le??he();Fe.add(()=>{lt--,0===lt&&!Re&&!Be&&(He=_e(Xe,ne))}),_t.subscribe(Fe),!je&&lt>0&&(je=new j.Hp({next:dt=>_t.next(dt),error:dt=>{Re=!0,ve(),He=_e(Et,pe,dt),_t.error(dt)},complete:()=>{Be=!0,ve(),He=_e(Et,te),_t.complete()}}),(0,p.Xf)(We).subscribe(je))})(ie)}}function _e(de,he,...pe){if(!0===he)return void de();if(!1===he)return;const te=new j.Hp({next:()=>{te.unsubscribe(),de()}});return he(...pe).subscribe(te)}},5684:(Se,X,O)=>{"use strict";O.d(X,{T:()=>S});var p=O(9300);function S(j){return(0,p.h)((ge,re)=>j<=re)}},8675:(Se,X,O)=>{"use strict";O.d(X,{O:()=>ge});var p=O(7272),S=O(7669),j=O(4482);function ge(...re){const _e=(0,S.yG)(re);return(0,j.e)((de,he)=>{(_e?(0,p.z)(re,de,_e):(0,p.z)(re,de)).subscribe(he)})}},9468:(Se,X,O)=>{"use strict";O.d(X,{R:()=>S});var p=O(4482);function S(j,ge=0){return(0,p.e)((re,_e)=>{_e.add(j.schedule(()=>re.subscribe(_e),ge))})}},3900:(Se,X,O)=>{"use strict";O.d(X,{w:()=>ge});var p=O(8421),S=O(4482),j=O(5403);function ge(re,_e){return(0,S.e)((de,he)=>{let pe=null,te=0,ne=!1;const ie=()=>ne&&!pe&&he.complete();de.subscribe((0,j.x)(he,je=>{pe?.unsubscribe();let He=0;const Le=te++;(0,p.Xf)(re(je,Le)).subscribe(pe=(0,j.x)(he,lt=>he.next(_e?_e(je,lt,Le,He++):lt),()=>{pe=null,ie()}))},()=>{ne=!0,ie()}))})}},5698:(Se,X,O)=>{"use strict";O.d(X,{q:()=>ge});var p=O(515),S=O(4482),j=O(5403);function ge(re){return re<=0?()=>p.E:(0,S.e)((_e,de)=>{let he=0;_e.subscribe((0,j.x)(de,pe=>{++he<=re&&(de.next(pe),re<=he&&de.complete())}))})}},2722:(Se,X,O)=>{"use strict";O.d(X,{R:()=>re});var p=O(4482),S=O(5403),j=O(8421),ge=O(5032);function re(_e){return(0,p.e)((de,he)=>{(0,j.Xf)(_e).subscribe((0,S.x)(he,()=>he.complete(),ge.Z)),!he.closed&&de.subscribe(he)})}},8505:(Se,X,O)=>{"use strict";O.d(X,{b:()=>re});var p=O(576),S=O(4482),j=O(5403),ge=O(4671);function re(_e,de,he){const pe=(0,p.m)(_e)||de||he?{next:_e,error:de,complete:he}:_e;return pe?(0,S.e)((te,ne)=>{var ie;null===(ie=pe.subscribe)||void 0===ie||ie.call(pe);let je=!0;te.subscribe((0,j.x)(ne,He=>{var Le;null===(Le=pe.next)||void 0===Le||Le.call(pe,He),ne.next(He)},()=>{var He;je=!1,null===(He=pe.complete)||void 0===He||He.call(pe),ne.complete()},He=>{var Le;je=!1,null===(Le=pe.error)||void 0===Le||Le.call(pe,He),ne.error(He)},()=>{var He,Le;je&&(null===(He=pe.unsubscribe)||void 0===He||He.call(pe)),null===(Le=pe.finalize)||void 0===Le||Le.call(pe)}))}):ge.y}},8068:(Se,X,O)=>{"use strict";O.d(X,{T:()=>ge});var p=O(6805),S=O(4482),j=O(5403);function ge(_e=re){return(0,S.e)((de,he)=>{let pe=!1;de.subscribe((0,j.x)(he,te=>{pe=!0,he.next(te)},()=>pe?he.complete():he.error(_e())))})}function re(){return new p.K}},1749:(Se,X,O)=>{"use strict";O.d(X,{V:()=>pe});var p=O(4986),j=O(4482),ge=O(8421),re=O(3888),_e=O(5403),de=O(9672);const he=(0,re.d)(ne=>function(je=null){ne(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=je});function pe(ne,ie){const{first:je,each:He,with:Le=te,scheduler:lt=ie??p.z,meta:Be=null}=function S(ne){return ne instanceof Date&&!isNaN(ne)}(ne)?{first:ne}:"number"==typeof ne?{each:ne}:ne;if(null==je&&null==He)throw new TypeError("No timeout provided.");return(0,j.e)((Re,ve)=>{let Et,Xe,We=null,Fe=0;const _t=dt=>{Xe=(0,de.f)(ve,lt,()=>{try{Et.unsubscribe(),(0,ge.Xf)(Le({meta:Be,lastValue:We,seen:Fe})).subscribe(ve)}catch(ee){ve.error(ee)}},dt)};Et=Re.subscribe((0,_e.x)(ve,dt=>{Xe?.unsubscribe(),Fe++,ve.next(We=dt),He>0&&_t(He)},void 0,void 0,()=>{Xe?.closed||Xe?.unsubscribe(),We=null})),!Fe&&_t(null!=je?"number"==typeof je?je:+je-lt.now():He)})}function te(ne){throw new he(ne)}},1365:(Se,X,O)=>{"use strict";O.d(X,{M:()=>de});var p=O(4482),S=O(5403),j=O(8421),ge=O(4671),re=O(5032),_e=O(7669);function de(...he){const pe=(0,_e.jO)(he);return(0,p.e)((te,ne)=>{const ie=he.length,je=new Array(ie);let He=he.map(()=>!1),Le=!1;for(let lt=0;lt<ie;lt++)(0,j.Xf)(he[lt]).subscribe((0,S.x)(ne,Be=>{je[lt]=Be,!Le&&!He[lt]&&(He[lt]=!0,(Le=He.every(ge.y))&&(He=null))},re.Z));te.subscribe((0,S.x)(ne,lt=>{if(Le){const Be=[lt,...je];ne.next(pe?pe(...Be):Be)}}))})}},4408:(Se,X,O)=>{"use strict";O.d(X,{o:()=>re});var p=O(727);class S extends p.w0{constructor(de,he){super()}schedule(de,he=0){return this}}const j={setInterval(_e,de,...he){const{delegate:pe}=j;return pe?.setInterval?pe.setInterval(_e,de,...he):setInterval(_e,de,...he)},clearInterval(_e){const{delegate:de}=j;return(de?.clearInterval||clearInterval)(_e)},delegate:void 0};var ge=O(8737);class re extends S{constructor(de,he){super(de,he),this.scheduler=de,this.work=he,this.pending=!1}schedule(de,he=0){var pe;if(this.closed)return this;this.state=de;const te=this.id,ne=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(ne,te,he)),this.pending=!0,this.delay=he,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(ne,this.id,he),this}requestAsyncId(de,he,pe=0){return j.setInterval(de.flush.bind(de,this),pe)}recycleAsyncId(de,he,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return he;null!=he&&j.clearInterval(he)}execute(de,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(de,he);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,he){let te,pe=!1;try{this.work(de)}catch(ne){pe=!0,te=ne||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:de,scheduler:he}=this,{actions:pe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(pe,this),null!=de&&(this.id=this.recycleAsyncId(he,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(Se,X,O)=>{"use strict";O.d(X,{v:()=>j});var p=O(6063);class S{constructor(re,_e=S.now){this.schedulerActionCtor=re,this.now=_e}schedule(re,_e=0,de){return new this.schedulerActionCtor(this,re).schedule(de,_e)}}S.now=p.l.now;class j extends S{constructor(re,_e=S.now){super(re,_e),this.actions=[],this._active=!1}flush(re){const{actions:_e}=this;if(this._active)return void _e.push(re);let de;this._active=!0;do{if(de=re.execute(re.state,re.delay))break}while(re=_e.shift());if(this._active=!1,de){for(;re=_e.shift();)re.unsubscribe();throw de}}}},4986:(Se,X,O)=>{"use strict";O.d(X,{z:()=>j});var p=O(4408);const j=new(O(7565).v)(p.o)},6063:(Se,X,O)=>{"use strict";O.d(X,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},233:(Se,X,O)=>{"use strict";O.d(X,{N:()=>re});var p=O(4408),j=O(7565);const re=new class ge extends j.v{}(class S extends p.o{constructor(he,pe){super(he,pe),this.scheduler=he,this.work=pe}schedule(he,pe=0){return pe>0?super.schedule(he,pe):(this.delay=pe,this.state=he,this.scheduler.flush(this),this)}execute(he,pe){return pe>0||this.closed?super.execute(he,pe):this._execute(he,pe)}requestAsyncId(he,pe,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(he,pe,te):(he.flush(this),0)}})},3410:(Se,X,O)=>{"use strict";O.d(X,{z:()=>p});const p={setTimeout(S,j,...ge){const{delegate:re}=p;return re?.setTimeout?re.setTimeout(S,j,...ge):setTimeout(S,j,...ge)},clearTimeout(S){const{delegate:j}=p;return(j?.clearTimeout||clearTimeout)(S)},delegate:void 0}},2202:(Se,X,O)=>{"use strict";O.d(X,{h:()=>S});const S=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Se,X,O)=>{"use strict";O.d(X,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Se,X,O)=>{"use strict";O.d(X,{K:()=>S});const S=(0,O(3888).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Se,X,O)=>{"use strict";O.d(X,{_6:()=>_e,jO:()=>ge,yG:()=>re});var p=O(576);function j(de){return de[de.length-1]}function ge(de){return(0,p.m)(j(de))?de.pop():void 0}function re(de){return function S(de){return de&&(0,p.m)(de.schedule)}(j(de))?de.pop():void 0}function _e(de,he){return"number"==typeof j(de)?de.pop():he}},4742:(Se,X,O)=>{"use strict";O.d(X,{D:()=>re});const{isArray:p}=Array,{getPrototypeOf:S,prototype:j,keys:ge}=Object;function re(de){if(1===de.length){const he=de[0];if(p(he))return{args:he,keys:null};if(function _e(de){return de&&"object"==typeof de&&S(de)===j}(he)){const pe=ge(he);return{args:pe.map(te=>he[te]),keys:pe}}}return{args:de,keys:null}}},8737:(Se,X,O)=>{"use strict";function p(S,j){if(S){const ge=S.indexOf(j);0<=ge&&S.splice(ge,1)}}O.d(X,{P:()=>p})},3888:(Se,X,O)=>{"use strict";function p(S){const ge=S(re=>{Error.call(re),re.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}O.d(X,{d:()=>p})},1810:(Se,X,O)=>{"use strict";function p(S,j){return S.reduce((ge,re,_e)=>(ge[re]=j[_e],ge),{})}O.d(X,{n:()=>p})},2806:(Se,X,O)=>{"use strict";O.d(X,{O:()=>ge,x:()=>j});var p=O(2416);let S=null;function j(re){if(p.v.useDeprecatedSynchronousErrorHandling){const _e=!S;if(_e&&(S={errorThrown:!1,error:null}),re(),_e){const{errorThrown:de,error:he}=S;if(S=null,de)throw he}}else re()}function ge(re){p.v.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=re)}},9672:(Se,X,O)=>{"use strict";function p(S,j,ge,re=0,_e=!1){const de=j.schedule(function(){ge(),_e?S.add(this.schedule(null,re)):this.unsubscribe()},re);if(S.add(de),!_e)return de}O.d(X,{f:()=>p})},4671:(Se,X,O)=>{"use strict";function p(S){return S}O.d(X,{y:()=>p})},1144:(Se,X,O)=>{"use strict";O.d(X,{z:()=>p});const p=S=>S&&"number"==typeof S.length&&"function"!=typeof S},2206:(Se,X,O)=>{"use strict";O.d(X,{D:()=>S});var p=O(576);function S(j){return Symbol.asyncIterator&&(0,p.m)(j?.[Symbol.asyncIterator])}},576:(Se,X,O)=>{"use strict";function p(S){return"function"==typeof S}O.d(X,{m:()=>p})},3670:(Se,X,O)=>{"use strict";O.d(X,{c:()=>j});var p=O(8822),S=O(576);function j(ge){return(0,S.m)(ge[p.L])}},6495:(Se,X,O)=>{"use strict";O.d(X,{T:()=>j});var p=O(2202),S=O(576);function j(ge){return(0,S.m)(ge?.[p.h])}},8239:(Se,X,O)=>{"use strict";O.d(X,{t:()=>S});var p=O(576);function S(j){return(0,p.m)(j?.then)}},3260:(Se,X,O)=>{"use strict";O.d(X,{L:()=>ge,Q:()=>j});var p=O(655),S=O(576);function j(re){return(0,p.FC)(this,arguments,function*(){const de=re.getReader();try{for(;;){const{value:he,done:pe}=yield(0,p.qq)(de.read());if(pe)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(he)}}finally{de.releaseLock()}})}function ge(re){return(0,S.m)(re?.getReader)}},4482:(Se,X,O)=>{"use strict";O.d(X,{A:()=>S,e:()=>j});var p=O(576);function S(ge){return(0,p.m)(ge?.lift)}function j(ge){return re=>{if(S(re))return re.lift(function(_e){try{return ge(_e,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Se,X,O)=>{"use strict";O.d(X,{Z:()=>ge});var p=O(4004);const{isArray:S}=Array;function ge(re){return(0,p.U)(_e=>function j(re,_e){return S(_e)?re(..._e):re(_e)}(re,_e))}},5032:(Se,X,O)=>{"use strict";function p(){}O.d(X,{Z:()=>p})},9635:(Se,X,O)=>{"use strict";O.d(X,{U:()=>j,z:()=>S});var p=O(4671);function S(...ge){return j(ge)}function j(ge){return 0===ge.length?p.y:1===ge.length?ge[0]:function(_e){return ge.reduce((de,he)=>he(de),_e)}}},7849:(Se,X,O)=>{"use strict";O.d(X,{h:()=>j});var p=O(2416),S=O(3410);function j(ge){S.z.setTimeout(()=>{const{onUnhandledError:re}=p.v;if(!re)throw ge;re(ge)})}},4532:(Se,X,O)=>{"use strict";function p(S){return new TypeError(`You provided ${null!==S&&"object"==typeof S?"an invalid object":`'${S}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(X,{z:()=>p})},5226:function(Se){Se.exports=function(){"use strict";var X={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const p=D=>{const C={};for(const G in D)C[D[G]]="swal2-"+D[G];return C},S=p(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),j=p(["success","warning","info","question","error"]),ge="SweetAlert2:",_e=D=>D.charAt(0).toUpperCase()+D.slice(1),de=D=>{console.warn(`${ge} ${"object"==typeof D?D.join(" "):D}`)},he=D=>{console.error(`${ge} ${D}`)},pe=[],ne=(D,C)=>{(D=>{pe.includes(D)||(pe.push(D),de(D))})(`"${D}" is deprecated and will be removed in the next major release. Please use "${C}" instead.`)},ie=D=>"function"==typeof D?D():D,je=D=>D&&"function"==typeof D.toPromise,He=D=>je(D)?D.toPromise():Promise.resolve(D),Le=D=>D&&Promise.resolve(D)===D,lt=()=>document.body.querySelector(`.${S.container}`),Be=D=>{const C=lt();return C?C.querySelector(D):null},Re=D=>Be(`.${D}`),ve=()=>Re(S.popup),Et=()=>Re(S.icon),We=()=>Re(S.title),Fe=()=>Re(S["html-container"]),_t=()=>Re(S.image),dt=()=>Re(S["progress-steps"]),ee=()=>Re(S["validation-message"]),Ke=()=>Be(`.${S.actions} .${S.confirm}`),le=()=>Be(`.${S.actions} .${S.deny}`),xe=()=>Be(`.${S.loader}`),Pe=()=>Be(`.${S.actions} .${S.cancel}`),yt=()=>Re(S.actions),st=()=>Re(S.footer),Ot=()=>Re(S["timer-progress-bar"]),Jt=()=>Re(S.close),gt=()=>{const D=Array.from(ve().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((G,Q)=>{const nt=parseInt(G.getAttribute("tabindex")),Yt=parseInt(Q.getAttribute("tabindex"));return nt>Yt?1:nt<Yt?-1:0}),C=Array.from(ve().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(G=>"-1"!==G.getAttribute("tabindex"));return(D=>{const C=[];for(let G=0;G<D.length;G++)-1===C.indexOf(D[G])&&C.push(D[G]);return C})(D.concat(C)).filter(G=>Cn(G))},Xt=()=>St(document.body,S.shown)&&!St(document.body,S["toast-shown"])&&!St(document.body,S["no-backdrop"]),qt=()=>ve()&&St(ve(),S.toast),Kt={previousBodyPadding:null},ht=(D,C)=>{if(D.textContent="",C){const Q=(new DOMParser).parseFromString(C,"text/html");Array.from(Q.querySelector("head").childNodes).forEach(nt=>{D.appendChild(nt)}),Array.from(Q.querySelector("body").childNodes).forEach(nt=>{nt instanceof HTMLVideoElement||nt instanceof HTMLAudioElement?D.appendChild(nt.cloneNode(!0)):D.appendChild(nt)})}},St=(D,C)=>{if(!C)return!1;const G=C.split(/\s+/);for(let Q=0;Q<G.length;Q++)if(!D.classList.contains(G[Q]))return!1;return!0},Gt=(D,C,G)=>{if(((D,C)=>{Array.from(D.classList).forEach(G=>{!Object.values(S).includes(G)&&!Object.values(j).includes(G)&&!Object.values(C.showClass).includes(G)&&D.classList.remove(G)})})(D,C),C.customClass&&C.customClass[G]){if("string"!=typeof C.customClass[G]&&!C.customClass[G].forEach)return void de(`Invalid type of customClass.${G}! Expected string or iterable object, got "${typeof C.customClass[G]}"`);fn(D,C.customClass[G])}},Pn=(D,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return D.querySelector(`.${S.popup} > .${S[C]}`);case"checkbox":return D.querySelector(`.${S.popup} > .${S.checkbox} input`);case"radio":return D.querySelector(`.${S.popup} > .${S.radio} input:checked`)||D.querySelector(`.${S.popup} > .${S.radio} input:first-child`);case"range":return D.querySelector(`.${S.popup} > .${S.range} input`);default:return D.querySelector(`.${S.popup} > .${S.input}`)}},xn=D=>{if(D.focus(),"file"!==D.type){const C=D.value;D.value="",D.value=C}},nr=(D,C,G)=>{!D||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(Q=>{Array.isArray(D)?D.forEach(nt=>{G?nt.classList.add(Q):nt.classList.remove(Q)}):G?D.classList.add(Q):D.classList.remove(Q)}))},fn=(D,C)=>{nr(D,C,!0)},Zt=(D,C)=>{nr(D,C,!1)},Rn=(D,C)=>{const G=Array.from(D.children);for(let Q=0;Q<G.length;Q++){const nt=G[Q];if(nt instanceof HTMLElement&&St(nt,C))return nt}},sr=(D,C,G)=>{G===`${parseInt(G)}`&&(G=parseInt(G)),G||0===parseInt(G)?D.style[C]="number"==typeof G?`${G}px`:G:D.style.removeProperty(C)},pn=function(D){D.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},It=D=>{D.style.display="none"},Un=(D,C,G,Q)=>{const nt=D.querySelector(C);nt&&(nt.style[G]=Q)},Vn=function(D,C){C?pn(D,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):It(D)},Cn=D=>!(!D||!(D.offsetWidth||D.offsetHeight||D.getClientRects().length)),ti=D=>D.scrollHeight>D.clientHeight,Cr=D=>{const C=window.getComputedStyle(D),G=parseFloat(C.getPropertyValue("animation-duration")||"0"),Q=parseFloat(C.getPropertyValue("transition-duration")||"0");return G>0||Q>0},bn=function(D){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const G=Ot();Cn(G)&&(C&&(G.style.transition="none",G.style.width="100%"),setTimeout(()=>{G.style.transition=`width ${D/1e3}s linear`,G.style.width="0%"},10))},Dt={},pr=D=>new Promise(C=>{if(!D)return C();const G=window.scrollX,Q=window.scrollY;Dt.restoreFocusTimeout=setTimeout(()=>{Dt.previousActiveElement instanceof HTMLElement?(Dt.previousActiveElement.focus(),Dt.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(G,Q)}),Qn=()=>typeof window>"u"||typeof document>"u",$r=`\n <div aria-labelledby="${S.title}" aria-describedby="${S["html-container"]}" class="${S.popup}" tabindex="-1">\n   <button type="button" class="${S.close}"></button>\n   <ul class="${S["progress-steps"]}"></ul>\n   <div class="${S.icon}"></div>\n   <img class="${S.image}" />\n   <h2 class="${S.title}" id="${S.title}"></h2>\n   <div class="${S["html-container"]}" id="${S["html-container"]}"></div>\n   <input class="${S.input}" />\n   <input type="file" class="${S.file}" />\n   <div class="${S.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${S.select}"></select>\n   <div class="${S.radio}"></div>\n   <label for="${S.checkbox}" class="${S.checkbox}">\n     <input type="checkbox" />\n     <span class="${S.label}"></span>\n   </label>\n   <textarea class="${S.textarea}"></textarea>\n   <div class="${S["validation-message"]}" id="${S["validation-message"]}"></div>\n   <div class="${S.actions}">\n     <div class="${S.loader}"></div>\n     <button type="button" class="${S.confirm}"></button>\n     <button type="button" class="${S.deny}"></button>\n     <button type="button" class="${S.cancel}"></button>\n   </div>\n   <div class="${S.footer}"></div>\n   <div class="${S["timer-progress-bar-container"]}">\n     <div class="${S["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Tr=()=>{Dt.currentInstance.resetValidationMessage()},cn=D=>{const C=(()=>{const D=lt();return!!D&&(D.remove(),Zt([document.documentElement,document.body],[S["no-backdrop"],S["toast-shown"],S["has-column"]]),!0)})();if(Qn())return void he("SweetAlert2 requires document to initialize");const G=document.createElement("div");G.className=S.container,C&&fn(G,S["no-transition"]),ht(G,$r);const Q=(D=>"string"==typeof D?document.querySelector(D):D)(D.target);Q.appendChild(G),(D=>{const C=ve();C.setAttribute("role",D.toast?"alert":"dialog"),C.setAttribute("aria-live",D.toast?"polite":"assertive"),D.toast||C.setAttribute("aria-modal","true")})(D),(D=>{"rtl"===window.getComputedStyle(D).direction&&fn(lt(),S.rtl)})(Q),(()=>{const D=ve(),C=Rn(D,S.input),G=Rn(D,S.file),Q=D.querySelector(`.${S.range} input`),nt=D.querySelector(`.${S.range} output`),Yt=Rn(D,S.select),Gr=D.querySelector(`.${S.checkbox} input`),Mt=Rn(D,S.textarea);C.oninput=Tr,G.onchange=Tr,Yt.onchange=Tr,Gr.onchange=Tr,Mt.oninput=Tr,Q.oninput=()=>{Tr(),nt.value=Q.value},Q.onchange=()=>{Tr(),nt.value=Q.value}})()},jt=(D,C)=>{D instanceof HTMLElement?C.appendChild(D):"object"==typeof D?mt(D,C):D&&ht(C,D)},mt=(D,C)=>{D.jquery?kt(C,D):ht(C,D.toString())},kt=(D,C)=>{if(D.textContent="",0 in C)for(let G=0;G in C;G++)D.appendChild(C[G].cloneNode(!0));else D.appendChild(C.cloneNode(!0))},ln=(()=>{if(Qn())return!1;const D=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const G in C)if(Object.prototype.hasOwnProperty.call(C,G)&&typeof D.style[G]<"u")return C[G];return!1})(),gn=(D,C)=>{const G=yt(),Q=xe();C.showConfirmButton||C.showDenyButton||C.showCancelButton?pn(G):It(G),Gt(G,C,"actions"),function Ie(D,C,G){const Q=Ke(),nt=le(),Yt=Pe();Ce(Q,"confirm",G),Ce(nt,"deny",G),Ce(Yt,"cancel",G),function ye(D,C,G,Q){Q.buttonsStyling?(fn([D,C,G],S.styled),Q.confirmButtonColor&&(D.style.backgroundColor=Q.confirmButtonColor,fn(D,S["default-outline"])),Q.denyButtonColor&&(C.style.backgroundColor=Q.denyButtonColor,fn(C,S["default-outline"])),Q.cancelButtonColor&&(G.style.backgroundColor=Q.cancelButtonColor,fn(G,S["default-outline"]))):Zt([D,C,G],S.styled)}(Q,nt,Yt,G),G.reverseButtons&&(G.toast?(D.insertBefore(Yt,Q),D.insertBefore(nt,Q)):(D.insertBefore(Yt,C),D.insertBefore(nt,C),D.insertBefore(Q,C)))}(G,Q,C),ht(Q,C.loaderHtml),Gt(Q,C,"loader")};function Ce(D,C,G){Vn(D,G[`show${_e(C)}Button`],"inline-block"),ht(D,G[`${C}ButtonText`]),D.setAttribute("aria-label",G[`${C}ButtonAriaLabel`]),D.className=S[C],Gt(D,G,`${C}Button`),fn(D,G[`${C}ButtonClass`])}const ke=(D,C)=>{const G=lt();!G||(function Nt(D,C){"string"==typeof C?D.style.background=C:C||fn([document.documentElement,document.body],S["no-backdrop"])}(G,C.backdrop),function nn(D,C){C in S?fn(D,S[C]):(de('The "position" parameter is not valid, defaulting to "center"'),fn(D,S.center))}(G,C.position),function Ln(D,C){if(C&&"string"==typeof C){const G=`grow-${C}`;G in S&&fn(D,S[G])}}(G,C.grow),Gt(G,C,"container"))};const Jn=["input","file","range","select","radio","checkbox","textarea"],we=D=>{if(!jn[D.input])return void he(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${D.input}"`);const C=yn(D.input),G=jn[D.input](C,D);pn(C),setTimeout(()=>{xn(G)})},se=(D,C)=>{const G=Pn(ve(),D);if(G){(D=>{for(let C=0;C<D.attributes.length;C++){const G=D.attributes[C].name;["type","value","style"].includes(G)||D.removeAttribute(G)}})(G);for(const Q in C)G.setAttribute(Q,C[Q])}},$e=D=>{const C=yn(D.input);"object"==typeof D.customClass&&fn(C,D.customClass.input)},et=(D,C)=>{(!D.placeholder||C.inputPlaceholder)&&(D.placeholder=C.inputPlaceholder)},Rt=(D,C,G)=>{if(G.inputLabel){D.id=S.input;const Q=document.createElement("label"),nt=S["input-label"];Q.setAttribute("for",D.id),Q.className=nt,"object"==typeof G.customClass&&fn(Q,G.customClass.inputLabel),Q.innerText=G.inputLabel,C.insertAdjacentElement("beforebegin",Q)}},yn=D=>Rn(ve(),S[D]||S.input),wn=(D,C)=>{["string","number"].includes(typeof C)?D.value=`${C}`:Le(C)||de(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof C}"`)},jn={};jn.text=jn.email=jn.password=jn.number=jn.tel=jn.url=(D,C)=>(wn(D,C.inputValue),Rt(D,D,C),et(D,C),D.type=C.input,D),jn.file=(D,C)=>(Rt(D,D,C),et(D,C),D),jn.range=(D,C)=>{const G=D.querySelector("input"),Q=D.querySelector("output");return wn(G,C.inputValue),G.type=C.input,wn(Q,C.inputValue),Rt(G,D,C),D},jn.select=(D,C)=>{if(D.textContent="",C.inputPlaceholder){const G=document.createElement("option");ht(G,C.inputPlaceholder),G.value="",G.disabled=!0,G.selected=!0,D.appendChild(G)}return Rt(D,D,C),D},jn.radio=D=>(D.textContent="",D),jn.checkbox=(D,C)=>{const G=Pn(ve(),"checkbox");G.value="1",G.id=S.checkbox,G.checked=Boolean(C.inputValue);const Q=D.querySelector("span");return ht(Q,C.inputPlaceholder),G},jn.textarea=(D,C)=>{wn(D,C.inputValue),et(D,C),Rt(D,D,C);return setTimeout(()=>{if("MutationObserver"in window){const Q=parseInt(window.getComputedStyle(ve()).width);new MutationObserver(()=>{const Yt=D.offsetWidth+(Q=>parseInt(window.getComputedStyle(Q).marginLeft)+parseInt(window.getComputedStyle(Q).marginRight))(D);ve().style.width=Yt>Q?`${Yt}px`:null}).observe(D,{attributes:!0,attributeFilter:["style"]})}}),D};const ci=(D,C)=>{const G=Fe();Gt(G,C,"htmlContainer"),C.html?(jt(C.html,G),pn(G,"block")):C.text?(G.textContent=C.text,pn(G,"block")):It(G),((D,C)=>{const G=ve(),Q=X.innerParams.get(D),nt=!Q||C.input!==Q.input;Jn.forEach(Yt=>{const Gr=Rn(G,S[Yt]);se(Yt,C.inputAttributes),Gr.className=S[Yt],nt&&It(Gr)}),C.input&&(nt&&we(C),$e(C))})(D,C)},Vr=(D,C)=>{for(const G in j)C.icon!==G&&Zt(D,j[G]);fn(D,j[C.icon]),Oi(D,C),Hi(),Gt(D,C,"icon")},Hi=()=>{const D=ve(),C=window.getComputedStyle(D).getPropertyValue("background-color"),G=D.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Q=0;Q<G.length;Q++)G[Q].style.backgroundColor=C},Mi=(D,C)=>{let Q,G=D.innerHTML;C.iconHtml?Q=Ar(C.iconHtml):"success"===C.icon?(Q='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',G=G.replace(/ style=".*?"/g,"")):Q="error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ar({question:"?",warning:"!",info:"i"}[C.icon]),G.trim()!==Q.trim()&&ht(D,Q)},Oi=(D,C)=>{if(C.iconColor){D.style.color=C.iconColor,D.style.borderColor=C.iconColor;for(const G of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Un(D,G,"backgroundColor",C.iconColor);Un(D,".swal2-success-ring","borderColor",C.iconColor)}},Ar=D=>`<div class="${S["icon-content"]}">${D}</div>`,Xn=(D,C)=>{D.className=`${S.popup} ${Cn(D)?C.showClass.popup:""}`,C.toast?(fn([document.documentElement,document.body],S["toast-shown"]),fn(D,S.toast)):fn(D,S.modal),Gt(D,C,"popup"),"string"==typeof C.customClass&&fn(D,C.customClass),C.icon&&fn(D,S[`icon-${C.icon}`])},os=D=>{const C=document.createElement("li");return fn(C,S["progress-step"]),ht(C,D),C},ii=D=>{const C=document.createElement("li");return fn(C,S["progress-step-line"]),D.progressStepsDistance&&sr(C,"width",D.progressStepsDistance),C},hi=(D,C)=>{((D,C)=>{const G=lt(),Q=ve();C.toast?(sr(G,"width",C.width),Q.style.width="100%",Q.insertBefore(xe(),Et())):sr(Q,"width",C.width),sr(Q,"padding",C.padding),C.color&&(Q.style.color=C.color),C.background&&(Q.style.background=C.background),It(ee()),Xn(Q,C)})(0,C),ke(0,C),((D,C)=>{const G=dt();C.progressSteps&&0!==C.progressSteps.length?(pn(G),G.textContent="",C.currentProgressStep>=C.progressSteps.length&&de("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((Q,nt)=>{const Yt=os(Q);if(G.appendChild(Yt),nt===C.currentProgressStep&&fn(Yt,S["active-progress-step"]),nt!==C.progressSteps.length-1){const Gr=ii(C);G.appendChild(Gr)}})):It(G)})(0,C),((D,C)=>{const G=X.innerParams.get(D),Q=Et();G&&C.icon===G.icon?(Mi(Q,C),Vr(Q,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(j).indexOf(C.icon)?(he(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${C.icon}"`),It(Q)):(pn(Q),Mi(Q,C),Vr(Q,C),fn(Q,C.showClass.icon)):It(Q)})(D,C),((D,C)=>{const G=_t();C.imageUrl?(pn(G,""),G.setAttribute("src",C.imageUrl),G.setAttribute("alt",C.imageAlt),sr(G,"width",C.imageWidth),sr(G,"height",C.imageHeight),G.className=S.image,Gt(G,C,"image")):It(G)})(0,C),((D,C)=>{const G=We();Vn(G,C.title||C.titleText,"block"),C.title&&jt(C.title,G),C.titleText&&(G.innerText=C.titleText),Gt(G,C,"title")})(0,C),((D,C)=>{const G=Jt();ht(G,C.closeButtonHtml),Gt(G,C,"closeButton"),Vn(G,C.showCloseButton),G.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),ci(D,C),gn(0,C),((D,C)=>{const G=st();Vn(G,C.footer),C.footer&&jt(C.footer,G),Gt(G,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(ve())};function yi(){const D=X.innerParams.get(this);if(!D)return;const C=X.domCache.get(this);It(C.loader),qt()?D.icon&&pn(Et()):bi(C),Zt([C.popup,C.actions],S.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const bi=D=>{const C=D.popup.getElementsByClassName(D.loader.getAttribute("data-button-to-replace"));C.length?pn(C[0],"inline-block"):!Cn(Ke())&&!Cn(le())&&!Cn(Pe())&&It(D.actions)};const yr=()=>Ke()&&Ke().click(),Rr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ps=D=>{D.keydownTarget&&D.keydownHandlerAdded&&(D.keydownTarget.removeEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!1)},fe=(D,C,G)=>{const Q=gt();if(Q.length)return(C+=G)===Q.length?C=0:-1===C&&(C=Q.length-1),Q[C].focus();ve().focus()},ze=["ArrowRight","ArrowDown"],Ue=["ArrowLeft","ArrowUp"],Qe=(D,C,G)=>{const Q=X.innerParams.get(D);!Q||C.isComposing||229===C.keyCode||(Q.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?Lt(D,C,Q):"Tab"===C.key?Ct(C,Q):[...ze,...Ue].includes(C.key)?De(C.key):"Escape"===C.key&&Te(C,Q,G))},Lt=(D,C,G)=>{if(ie(G.allowEnterKey)&&C.target&&D.getInput()&&C.target instanceof HTMLElement&&C.target.outerHTML===D.getInput().outerHTML){if(["textarea","file"].includes(G.input))return;yr(),C.preventDefault()}},Ct=(D,C)=>{const G=D.target,Q=gt();let nt=-1;for(let Yt=0;Yt<Q.length;Yt++)if(G===Q[Yt]){nt=Yt;break}fe(0,nt,D.shiftKey?-1:1),D.stopPropagation(),D.preventDefault()},De=D=>{const C=Ke(),G=le(),Q=Pe();if(document.activeElement instanceof HTMLElement&&![C,G,Q].includes(document.activeElement))return;const nt=ze.includes(D)?"nextElementSibling":"previousElementSibling";let Yt=document.activeElement;for(let Gr=0;Gr<yt().children.length;Gr++){if(Yt=Yt[nt],!Yt)return;if(Yt instanceof HTMLButtonElement&&Cn(Yt))break}Yt instanceof HTMLButtonElement&&Yt.focus()},Te=(D,C,G)=>{ie(C.allowEscapeKey)&&(D.preventDefault(),G(Rr.esc))};var Ne={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const pt=()=>{Array.from(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},Sn=()=>{const D=navigator.userAgent,C=!!D.match(/iPad/i)||!!D.match(/iPhone/i),G=!!D.match(/WebKit/i);C&&G&&!D.match(/CriOS/i)&&ve().scrollHeight>window.innerHeight-44&&(lt().style.paddingBottom="44px")},zr=()=>{const D=lt();let C;D.ontouchstart=G=>{C=ir(G)},D.ontouchmove=G=>{C&&(G.preventDefault(),G.stopPropagation())}},ir=D=>{const C=D.target,G=lt();return!Pi(D)&&!Ts(D)&&(C===G||!ti(G)&&C instanceof HTMLElement&&"INPUT"!==C.tagName&&"TEXTAREA"!==C.tagName&&!(ti(Fe())&&Fe().contains(C)))},Pi=D=>D.touches&&D.touches.length&&"stylus"===D.touches[0].touchType,Ts=D=>D.touches&&D.touches.length>1,Wi=()=>{null===Kt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Kt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Kt.previousBodyPadding+(()=>{const D=document.createElement("div");D.className=S["scrollbar-measure"],document.body.appendChild(D);const C=D.getBoundingClientRect().width-D.clientWidth;return document.body.removeChild(D),C})()}px`)};function _i(D,C,G,Q){qt()?_s(D,Q):(pr(G).then(()=>_s(D,Q)),Ps(Dt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),Xt()&&(null!==Kt.previousBodyPadding&&(document.body.style.paddingRight=`${Kt.previousBodyPadding}px`,Kt.previousBodyPadding=null),(()=>{if(St(document.body,S.iosfix)){const D=parseInt(document.body.style.top,10);Zt(document.body,S.iosfix),document.body.style.top="",document.body.scrollTop=-1*D}})(),pt()),function as(){Zt([document.documentElement,document.body],[S.shown,S["height-auto"],S["no-backdrop"],S["toast-shown"]])}()}function Zs(D){D=uo(D);const C=Ne.swalPromiseResolve.get(this),G=zi(this);this.isAwaitingPromise()?D.isDismissed||(si(this),C(D)):G&&C(D)}const zi=D=>{const C=ve();if(!C)return!1;const G=X.innerParams.get(D);if(!G||St(C,G.hideClass.popup))return!1;Zt(C,G.showClass.popup),fn(C,G.hideClass.popup);const Q=lt();return Zt(Q,G.showClass.backdrop),fn(Q,G.hideClass.backdrop),Yi(D,C,G),!0};const si=D=>{D.isAwaitingPromise()&&(X.awaitingPromise.delete(D),X.innerParams.get(D)||D._destroy())},uo=D=>typeof D>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},D),Yi=(D,C,G)=>{const Q=lt(),nt=ln&&Cr(C);"function"==typeof G.willClose&&G.willClose(C),nt?As(D,C,Q,G.returnFocus,G.didClose):_i(D,Q,G.returnFocus,G.didClose)},As=(D,C,G,Q,nt)=>{Dt.swalCloseEventFinishedCallback=_i.bind(null,D,G,Q,nt),C.addEventListener(ln,function(Yt){Yt.target===C&&(Dt.swalCloseEventFinishedCallback(),delete Dt.swalCloseEventFinishedCallback)})},_s=(D,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(D.params)(),D._destroy()})};function us(D,C,G){const Q=X.domCache.get(D);C.forEach(nt=>{Q[nt].disabled=G})}function Qi(D,C){if(D)if("radio"===D.type){const Q=D.parentNode.parentNode.querySelectorAll("input");for(let nt=0;nt<Q.length;nt++)Q[nt].disabled=C}else D.disabled=C}const vs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ur=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ns={},Pr=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],fi=D=>Object.prototype.hasOwnProperty.call(vs,D),Nr=D=>-1!==Ur.indexOf(D),oi=D=>Ns[D],ks=D=>{fi(D)||de(`Unknown parameter "${D}"`)},cs=D=>{Pr.includes(D)&&de(`The parameter "${D}" is incompatible with toasts`)},or=D=>{oi(D)&&ne(D,oi(D))};const Lo=D=>{const C={};return Object.keys(D).forEach(G=>{Nr(G)?C[G]=D[G]:de(`Invalid parameter to update: ${G}`)}),C};const ls=D=>{Hr(D),delete D.params,delete Dt.keydownHandler,delete Dt.keydownTarget,delete Dt.currentInstance},Hr=D=>{D.isAwaitingPromise()?(In(X,D),X.awaitingPromise.set(D,!0)):(In(Ne,D),In(X,D))},In=(D,C)=>{for(const G in D)D[G].delete(C)};var co=Object.freeze({__proto__:null,hideLoading:yi,disableLoading:yi,getInput:function Or(D){const C=X.innerParams.get(D||this),G=X.domCache.get(D||this);return G?Pn(G.popup,C.input):null},close:Zs,isAwaitingPromise:function Zi(){return!!X.awaitingPromise.get(this)},rejectPromise:function Di(D){const C=Ne.swalPromiseReject.get(this);si(this),C&&C(D)},handleAwaitingPromise:si,closePopup:Zs,closeModal:Zs,closeToast:Zs,enableButtons:function Ci(){us(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function ki(){us(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Ki(){Qi(this.getInput(),!1)},disableInput:function Ko(){Qi(this.getInput(),!0)},showValidationMessage:function Xr(D){const C=X.domCache.get(this),G=X.innerParams.get(this);ht(C.validationMessage,D),C.validationMessage.className=S["validation-message"],G.customClass&&G.customClass.validationMessage&&fn(C.validationMessage,G.customClass.validationMessage),pn(C.validationMessage);const Q=this.getInput();Q&&(Q.setAttribute("aria-invalid",!0),Q.setAttribute("aria-describedby",S["validation-message"]),xn(Q),fn(Q,S.inputerror))},resetValidationMessage:function Ji(){const D=X.domCache.get(this);D.validationMessage&&It(D.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),Zt(C,S.inputerror))},update:function Ls(D){const C=ve(),G=X.innerParams.get(this);if(!C||St(C,G.hideClass.popup))return void de("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Q=Lo(D),nt=Object.assign({},G,Q);hi(this,nt),X.innerParams.set(this,nt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,D),writable:!1,enumerable:!0}})},_destroy:function vi(){const D=X.domCache.get(this),C=X.innerParams.get(this);C?(D.popup&&Dt.swalCloseEventFinishedCallback&&(Dt.swalCloseEventFinishedCallback(),delete Dt.swalCloseEventFinishedCallback),"function"==typeof C.didDestroy&&C.didDestroy(),ls(this)):Hr(this)}});const Xi=D=>{let C=ve();C||new qr,C=ve();const G=xe();qt()?It(Et()):Co(C,D),pn(G),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},Co=(D,C)=>{const G=yt(),Q=xe();!C&&Cn(Ke())&&(C=Ke()),pn(G),C&&(It(C),Q.setAttribute("data-button-to-replace",C.className)),Q.parentNode.insertBefore(Q,C),fn([D,G],S.loading)},ds=D=>D.checked?1:0,Js=D=>D.checked?D.value:null,po=D=>D.files.length?null!==D.getAttribute("multiple")?D.files:D.files[0]:null,vt=(D,C)=>{const G=ve(),Q=nt=>{Xs[C.input](G,Fs(nt),C)};je(C.inputOptions)||Le(C.inputOptions)?(Xi(Ke()),He(C.inputOptions).then(nt=>{D.hideLoading(),Q(nt)})):"object"==typeof C.inputOptions?Q(C.inputOptions):he("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof C.inputOptions)},zn=(D,C)=>{const G=D.getInput();It(G),He(C.inputValue).then(Q=>{G.value="number"===C.input?`${parseFloat(Q)||0}`:`${Q}`,pn(G),G.focus(),D.hideLoading()}).catch(Q=>{he(`Error in inputValue promise: ${Q}`),G.value="",pn(G),G.focus(),D.hideLoading()})},Xs={select:(D,C,G)=>{const Q=Rn(D,S.select),nt=(Yt,Gr,Mt)=>{const Qt=document.createElement("option");Qt.value=Mt,ht(Qt,Gr),Qt.selected=kr(Mt,G.inputValue),Yt.appendChild(Qt)};C.forEach(Yt=>{const Gr=Yt[0],Mt=Yt[1];if(Array.isArray(Mt)){const Qt=document.createElement("optgroup");Qt.label=Gr,Qt.disabled=!1,Q.appendChild(Qt),Mt.forEach(lo=>nt(Qt,lo[1],lo[0]))}else nt(Q,Mt,Gr)}),Q.focus()},radio:(D,C,G)=>{const Q=Rn(D,S.radio);C.forEach(Yt=>{const Gr=Yt[0],Mt=Yt[1],Qt=document.createElement("input"),lo=document.createElement("label");Qt.type="radio",Qt.name=S.radio,Qt.value=Gr,kr(Gr,G.inputValue)&&(Qt.checked=!0);const Ut=document.createElement("span");ht(Ut,Mt),Ut.className=S.label,lo.appendChild(Qt),lo.appendChild(Ut),Q.appendChild(lo)});const nt=Q.querySelectorAll("input");nt.length&&nt[0].focus()}},Fs=D=>{const C=[];return typeof Map<"u"&&D instanceof Map?D.forEach((G,Q)=>{let nt=G;"object"==typeof nt&&(nt=Fs(nt)),C.push([Q,nt])}):Object.keys(D).forEach(G=>{let Q=D[G];"object"==typeof Q&&(Q=Fs(Q)),C.push([G,Q])}),C},kr=(D,C)=>C&&C.toString()===D.toString(),xs=(D,C)=>{const G=X.innerParams.get(D);if(!G.input)return void he(`The "input" parameter is needed to be set when using returnInputValueOn${_e(C)}`);const Q=((D,C)=>{const G=D.getInput();if(!G)return null;switch(C.input){case"checkbox":return ds(G);case"radio":return Js(G);case"file":return po(G);default:return C.inputAutoTrim?G.value.trim():G.value}})(D,G);G.inputValidator?es(D,Q,C):D.getInput().checkValidity()?"deny"===C?hs(D,Q):N(D,Q):(D.enableButtons(),D.showValidationMessage(G.validationMessage))},es=(D,C,G)=>{const Q=X.innerParams.get(D);D.disableInput(),Promise.resolve().then(()=>He(Q.inputValidator(C,Q.validationMessage))).then(Yt=>{D.enableButtons(),D.enableInput(),Yt?D.showValidationMessage(Yt):"deny"===G?hs(D,C):N(D,C)})},hs=(D,C)=>{const G=X.innerParams.get(D||void 0);G.showLoaderOnDeny&&Xi(le()),G.preDeny?(X.awaitingPromise.set(D||void 0,!0),Promise.resolve().then(()=>He(G.preDeny(C,G.validationMessage))).then(nt=>{!1===nt?(D.hideLoading(),si(D)):D.close({isDenied:!0,value:typeof nt>"u"?C:nt})}).catch(nt=>F(D||void 0,nt))):D.close({isDenied:!0,value:C})},go=(D,C)=>{D.close({isConfirmed:!0,value:C})},F=(D,C)=>{D.rejectPromise(C)},N=(D,C)=>{const G=X.innerParams.get(D||void 0);G.showLoaderOnConfirm&&Xi(),G.preConfirm?(D.resetValidationMessage(),X.awaitingPromise.set(D||void 0,!0),Promise.resolve().then(()=>He(G.preConfirm(C,G.validationMessage))).then(nt=>{Cn(ee())||!1===nt?(D.hideLoading(),si(D)):go(D,typeof nt>"u"?C:nt)}).catch(nt=>F(D||void 0,nt))):go(D,C)},q=(D,C,G)=>{C.popup.onclick=()=>{const Q=X.innerParams.get(D);Q&&(Ge(Q)||Q.timer||Q.input)||G(Rr.close)}},Ge=D=>D.showConfirmButton||D.showDenyButton||D.showCancelButton||D.showCloseButton;let zt=!1;const dr=D=>{D.popup.onmousedown=()=>{D.container.onmouseup=function(C){D.container.onmouseup=void 0,C.target===D.container&&(zt=!0)}}},ts=D=>{D.container.onmousedown=()=>{D.popup.onmouseup=function(C){D.popup.onmouseup=void 0,(C.target===D.popup||D.popup.contains(C.target))&&(zt=!0)}}},Li=(D,C,G)=>{C.container.onclick=Q=>{const nt=X.innerParams.get(D);zt?zt=!1:Q.target===C.container&&ie(nt.allowOutsideClick)&&G(Rr.backdrop)}},Us=D=>D instanceof Element||(D=>"object"==typeof D&&D.jquery)(D);const Fo=()=>{if(Dt.timeout)return(()=>{const D=Ot(),C=parseInt(window.getComputedStyle(D).width);D.style.removeProperty("transition"),D.style.width="100%";const Q=C/parseInt(window.getComputedStyle(D).width)*100;D.style.removeProperty("transition"),D.style.width=`${Q}%`})(),Dt.timeout.stop()},To=()=>{if(Dt.timeout){const D=Dt.timeout.start();return bn(D),D}};let So=!1;const T={};const P=D=>{for(let C=D.target;C&&C!==document;C=C.parentNode)for(const G in T){const Q=C.getAttribute(G);if(Q)return void T[G].fire({template:Q})}};var K=Object.freeze({__proto__:null,isValidParameter:fi,isUpdatableParameter:Nr,isDeprecatedParameter:oi,argsToParams:D=>{const C={};return"object"!=typeof D[0]||Us(D[0])?["title","html","icon"].forEach((G,Q)=>{const nt=D[Q];"string"==typeof nt||Us(nt)?C[G]=nt:void 0!==nt&&he(`Unexpected type of ${G}! Expected "string" or "Element", got ${typeof nt}`)}):Object.assign(C,D[0]),C},getContainer:lt,getPopup:ve,getTitle:We,getHtmlContainer:Fe,getImage:_t,getIcon:Et,getIconContent:()=>Re(S["icon-content"]),getInputLabel:()=>Re(S["input-label"]),getCloseButton:Jt,getActions:yt,getConfirmButton:Ke,getDenyButton:le,getCancelButton:Pe,getLoader:xe,getFooter:st,getTimerProgressBar:Ot,getFocusableElements:gt,getValidationMessage:ee,getProgressSteps:dt,isLoading:()=>ve().hasAttribute("data-loading"),isVisible:()=>Cn(ve()),clickConfirm:yr,clickDeny:()=>le()&&le().click(),clickCancel:()=>Pe()&&Pe().click(),fire:function Bs(){const D=this;for(var C=arguments.length,G=new Array(C),Q=0;Q<C;Q++)G[Q]=arguments[Q];return new D(...G)},mixin:function qo(D){return class C extends(this){_main(Q,nt){return super._main(Q,Object.assign({},D,nt))}}},showLoading:Xi,enableLoading:Xi,getTimerLeft:()=>Dt.timeout&&Dt.timeout.getTimerLeft(),stopTimer:Fo,resumeTimer:To,toggleTimer:()=>{const D=Dt.timeout;return D&&(D.running?Fo():To())},increaseTimer:D=>{if(Dt.timeout){const C=Dt.timeout.increase(D);return bn(C,!0),C}},isTimerRunning:()=>Dt.timeout&&Dt.timeout.isRunning(),bindClickHandler:function $(){T[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,So||(document.body.addEventListener("click",P),So=!0)}});class Ee{constructor(C,G){this.callback=C,this.remaining=G,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const G=this.running;return G&&this.stop(),this.remaining+=C,G&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const qe=["swal-title","swal-html","swal-footer"],rn=D=>{const C={};return Array.from(D.querySelectorAll("swal-param")).forEach(Q=>{Fi(Q,["name","value"]);const nt=Q.getAttribute("name"),Yt=Q.getAttribute("value");C[nt]="boolean"==typeof vs[nt]?"false"!==Yt:"object"==typeof vs[nt]?JSON.parse(Yt):Yt}),C},rr=D=>{const C={};return Array.from(D.querySelectorAll("swal-function-param")).forEach(Q=>{const nt=Q.getAttribute("name"),Yt=Q.getAttribute("value");C[nt]=new Function(`return ${Yt}`)()}),C},hr=D=>{const C={};return Array.from(D.querySelectorAll("swal-button")).forEach(Q=>{Fi(Q,["type","color","aria-label"]);const nt=Q.getAttribute("type");C[`${nt}ButtonText`]=Q.innerHTML,C[`show${_e(nt)}Button`]=!0,Q.hasAttribute("color")&&(C[`${nt}ButtonColor`]=Q.getAttribute("color")),Q.hasAttribute("aria-label")&&(C[`${nt}ButtonAriaLabel`]=Q.getAttribute("aria-label"))}),C},fr=D=>{const C={},G=D.querySelector("swal-image");return G&&(Fi(G,["src","width","height","alt"]),G.hasAttribute("src")&&(C.imageUrl=G.getAttribute("src")),G.hasAttribute("width")&&(C.imageWidth=G.getAttribute("width")),G.hasAttribute("height")&&(C.imageHeight=G.getAttribute("height")),G.hasAttribute("alt")&&(C.imageAlt=G.getAttribute("alt"))),C},Kn=D=>{const C={},G=D.querySelector("swal-icon");return G&&(Fi(G,["type","color"]),G.hasAttribute("type")&&(C.icon=G.getAttribute("type")),G.hasAttribute("color")&&(C.iconColor=G.getAttribute("color")),C.iconHtml=G.innerHTML),C},ai=D=>{const C={},G=D.querySelector("swal-input");G&&(Fi(G,["type","label","placeholder","value"]),C.input=G.getAttribute("type")||"text",G.hasAttribute("label")&&(C.inputLabel=G.getAttribute("label")),G.hasAttribute("placeholder")&&(C.inputPlaceholder=G.getAttribute("placeholder")),G.hasAttribute("value")&&(C.inputValue=G.getAttribute("value")));const Q=Array.from(D.querySelectorAll("swal-input-option"));return Q.length&&(C.inputOptions={},Q.forEach(nt=>{Fi(nt,["value"]);const Yt=nt.getAttribute("value");C.inputOptions[Yt]=nt.innerHTML})),C},Ir=(D,C)=>{const G={};for(const Q in C){const nt=C[Q],Yt=D.querySelector(nt);Yt&&(Fi(Yt,[]),G[nt.replace(/^swal-/,"")]=Yt.innerHTML.trim())}return G},_r=D=>{const C=qe.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(D.children).forEach(G=>{const Q=G.tagName.toLowerCase();C.includes(Q)||de(`Unrecognized element <${Q}>`)})},Fi=(D,C)=>{Array.from(D.attributes).forEach(G=>{-1===C.indexOf(G.name)&&de([`Unrecognized attribute "${G.name}" on <${D.tagName.toLowerCase()}>.`,C.length?`Allowed attributes are: ${C.join(", ")}`:"To set the value, use HTML within the element."])})},Ms=D=>{const C=lt(),G=ve();"function"==typeof D.willOpen&&D.willOpen(G);const nt=window.getComputedStyle(document.body).overflowY;Es(C,G,D),setTimeout(()=>{gs(C,G)},10),Xt()&&(ui(C,D.scrollbarPadding,nt),Array.from(document.body.children).forEach(C=>{C===lt()||C.contains(lt())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!qt()&&!Dt.previousActiveElement&&(Dt.previousActiveElement=document.activeElement),"function"==typeof D.didOpen&&setTimeout(()=>D.didOpen(G)),Zt(C,S["no-transition"])},to=D=>{const C=ve();if(D.target!==C)return;const G=lt();C.removeEventListener(ln,to),G.style.overflowY="auto"},gs=(D,C)=>{ln&&Cr(C)?(D.style.overflowY="hidden",C.addEventListener(ln,to)):D.style.overflowY="auto"},ui=(D,C,G)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!St(document.body,S.iosfix)){const C=document.body.scrollTop;document.body.style.top=-1*C+"px",fn(document.body,S.iosfix),zr(),Sn()}})(),C&&"hidden"!==G&&Wi(),setTimeout(()=>{D.scrollTop=0})},Es=(D,C,G)=>{fn(D,G.showClass.backdrop),C.style.setProperty("opacity","0","important"),pn(C,"grid"),setTimeout(()=>{fn(C,G.showClass.popup),C.style.removeProperty("opacity")},10),fn([document.documentElement,document.body],S.shown),G.heightAuto&&G.backdrop&&!G.toast&&fn([document.documentElement,document.body],S["height-auto"])};var Zo={email:(D,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(D)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(D,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(D)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function Eu(D){(function Kr(D){D.inputValidator||Object.keys(Zo).forEach(C=>{D.input===C&&(D.inputValidator=Zo[C])})})(D),D.showLoaderOnConfirm&&!D.preConfirm&&de("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function va(D){(!D.target||"string"==typeof D.target&&!document.querySelector(D.target)||"string"!=typeof D.target&&!D.target.appendChild)&&(de('Target parameter is not valid, defaulting to "body"'),D.target="body")}(D),"string"==typeof D.title&&(D.title=D.title.split("\n").join("<br />")),cn(D)}let js;class Uo{constructor(){if(typeof window>"u")return;js=this;for(var C=arguments.length,G=new Array(C),Q=0;Q<C;Q++)G[Q]=arguments[Q];const nt=Object.freeze(this.constructor.argsToParams(G));Object.defineProperties(this,{params:{value:nt,writable:!1,enumerable:!0,configurable:!0}});const Yt=js._main(js.params);X.promise.set(this,Yt)}_main(C){let G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(D=>{!1===D.backdrop&&D.allowOutsideClick&&de('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in D)ks(C),D.toast&&cs(C),or(C)})(Object.assign({},G,C)),Dt.currentInstance&&(Dt.currentInstance._destroy(),Xt()&&pt()),Dt.currentInstance=js;const Q=Yo(C,G);Eu(Q),Object.freeze(Q),Dt.timeout&&(Dt.timeout.stop(),delete Dt.timeout),clearTimeout(Dt.restoreFocusTimeout);const nt=Bo(js);return hi(js,Q),X.innerParams.set(js,Q),wa(js,nt,Q)}then(C){return X.promise.get(this).then(C)}finally(C){return X.promise.get(this).finally(C)}}const wa=(D,C,G)=>new Promise((Q,nt)=>{const Yt=Gr=>{D.close({isDismissed:!0,dismiss:Gr})};Ne.swalPromiseResolve.set(D,Q),Ne.swalPromiseReject.set(D,nt),C.confirmButton.onclick=()=>{(D=>{const C=X.innerParams.get(D);D.disableButtons(),C.input?xs(D,"confirm"):N(D,!0)})(D)},C.denyButton.onclick=()=>{(D=>{const C=X.innerParams.get(D);D.disableButtons(),C.returnInputValueOnDeny?xs(D,"deny"):hs(D,!1)})(D)},C.cancelButton.onclick=()=>{((D,C)=>{D.disableButtons(),C(Rr.cancel)})(D,Yt)},C.closeButton.onclick=()=>{Yt(Rr.close)},((D,C,G)=>{X.innerParams.get(D).toast?q(D,C,G):(dr(C),ts(C),Li(D,C,G))})(D,C,Yt),((D,C,G,Q)=>{Ps(C),G.toast||(C.keydownHandler=nt=>Qe(D,nt,Q),C.keydownTarget=G.keydownListenerCapture?window:ve(),C.keydownListenerCapture=G.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(D,Dt,G,Yt),((D,C)=>{"select"===C.input||"radio"===C.input?vt(D,C):["text","email","number","tel","textarea"].includes(C.input)&&(je(C.inputValue)||Le(C.inputValue))&&(Xi(Ke()),zn(D,C))})(D,G),Ms(G),jo(Dt,G,Yt),ra(C,G),setTimeout(()=>{C.container.scrollTop=0})}),Yo=(D,C)=>{const G=(D=>{const C="string"==typeof D.template?document.querySelector(D.template):D.template;if(!C)return{};const G=C.content;return _r(G),Object.assign(rn(G),rr(G),hr(G),fr(G),Kn(G),ai(G),Ir(G,qe))})(D),Q=Object.assign({},vs,C,G,D);return Q.showClass=Object.assign({},vs.showClass,Q.showClass),Q.hideClass=Object.assign({},vs.hideClass,Q.hideClass),Q},Bo=D=>{const C={popup:ve(),container:lt(),actions:yt(),confirmButton:Ke(),denyButton:le(),cancelButton:Pe(),loader:xe(),closeButton:Jt(),validationMessage:ee(),progressSteps:dt()};return X.domCache.set(D,C),C},jo=(D,C,G)=>{const Q=Ot();It(Q),C.timer&&(D.timeout=new Ee(()=>{G("timer"),delete D.timeout},C.timer),C.timerProgressBar&&(pn(Q),Gt(Q,C,"timerProgressBar"),setTimeout(()=>{D.timeout&&D.timeout.running&&bn(C.timer)})))},ra=(D,C)=>{if(!C.toast){if(!ie(C.allowEnterKey))return void wi();Ea(D,C)||fe(0,-1,1)}},Ea=(D,C)=>C.focusDeny&&Cn(D.denyButton)?(D.denyButton.focus(),!0):C.focusCancel&&Cn(D.cancelButton)?(D.cancelButton.focus(),!0):!(!C.focusConfirm||!Cn(D.confirmButton)||(D.confirmButton.focus(),0)),wi=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const D=new Date,C=localStorage.getItem("swal-initiation");C?(D.getTime()-Date.parse(C))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const G=document.createElement("audio");G.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",G.loop=!0,document.body.appendChild(G),setTimeout(()=>{G.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${D}`)}Object.assign(Uo.prototype,co),Object.assign(Uo,K),Object.keys(co).forEach(D=>{Uo[D]=function(){if(js)return js[D](...arguments)}}),Uo.DismissReason=Rr,Uo.version="11.6.14";const qr=Uo;return qr.default=qr,qr}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(X,O){var p=X.createElement("style");if(X.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=O);else try{p.innerHTML=O}catch{p.innerText=O}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(Se,X,O)=>{"use strict";function ge(le,Ae){var xe={};for(var Pe in le)Object.prototype.hasOwnProperty.call(le,Pe)&&Ae.indexOf(Pe)<0&&(xe[Pe]=le[Pe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var yt=0;for(Pe=Object.getOwnPropertySymbols(le);yt<Pe.length;yt++)Ae.indexOf(Pe[yt])<0&&Object.prototype.propertyIsEnumerable.call(le,Pe[yt])&&(xe[Pe[yt]]=le[Pe[yt]])}return xe}function he(le,Ae,xe,Pe){return new(xe||(xe=Promise))(function(st,Ot){function Jt(Xt){try{gt(Pe.next(Xt))}catch(qt){Ot(qt)}}function on(Xt){try{gt(Pe.throw(Xt))}catch(qt){Ot(qt)}}function gt(Xt){Xt.done?st(Xt.value):function yt(st){return st instanceof xe?st:new xe(function(Ot){Ot(st)})}(Xt.value).then(Jt,on)}gt((Pe=Pe.apply(le,Ae||[])).next())})}function Be(le){return this instanceof Be?(this.v=le,this):new Be(le)}function Re(le,Ae,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,Pe=xe.apply(le,Ae||[]),st=[];return yt={},Ot("next"),Ot("throw"),Ot("return"),yt[Symbol.asyncIterator]=function(){return this},yt;function Ot(mn){Pe[mn]&&(yt[mn]=function(Kt){return new Promise(function(ht,St){st.push([mn,Kt,ht,St])>1||Jt(mn,Kt)})})}function Jt(mn,Kt){try{!function on(mn){mn.value instanceof Be?Promise.resolve(mn.value.v).then(gt,Xt):qt(st[0][2],mn)}(Pe[mn](Kt))}catch(ht){qt(st[0][3],ht)}}function gt(mn){Jt("next",mn)}function Xt(mn){Jt("throw",mn)}function qt(mn,Kt){mn(Kt),st.shift(),st.length&&Jt(st[0][0],st[0][1])}}function Et(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,Ae=le[Symbol.asyncIterator];return Ae?Ae.call(le):(le=function ie(le){var Ae="function"==typeof Symbol&&Symbol.iterator,xe=Ae&&le[Ae],Pe=0;if(xe)return xe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Pe>=le.length&&(le=void 0),{value:le&&le[Pe++],done:!le}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),xe={},Pe("next"),Pe("throw"),Pe("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Pe(st){xe[st]=le[st]&&function(Ot){return new Promise(function(Jt,on){!function yt(st,Ot,Jt,on){Promise.resolve(on).then(function(gt){st({value:gt,done:Jt})},Ot)}(Jt,on,(Ot=le[st](Ot)).done,Ot.value)})}}}O.d(X,{FC:()=>Re,KL:()=>Et,_T:()=>ge,mG:()=>he,qq:()=>Be})},6895:(Se,X,O)=>{"use strict";O.d(X,{Do:()=>Et,EM:()=>Ns,H9:()=>si,HT:()=>re,JF:()=>ks,K0:()=>de,Mx:()=>di,O5:()=>Or,PM:()=>Xr,S$:()=>Be,V_:()=>te,Ye:()=>Xe,b0:()=>ve,bD:()=>Qi,ez:()=>us,mk:()=>Xn,q:()=>j,sg:()=>hi,w_:()=>_e});var p=O(4650);let S=null;function j(){return S}function re(T){S||(S=T)}class _e{}const de=new p.OlP("DocumentToken");let he=(()=>{class T{historyGo(P){throw new Error("Not implemented")}}return T.\u0275fac=function(P){return new(P||T)},T.\u0275prov=p.Yz7({token:T,factory:function(){return function pe(){return(0,p.LFG)(ne)}()},providedIn:"platform"}),T})();const te=new p.OlP("Location Initialized");let ne=(()=>{class T extends he{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(P){const K=j().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",P,!1),()=>K.removeEventListener("popstate",P)}onHashChange(P){const K=j().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",P,!1),()=>K.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,K,Ee){ie()?this._history.pushState(P,K,Ee):this.location.hash=Ee}replaceState(P,K,Ee){ie()?this._history.replaceState(P,K,Ee):this.location.hash=Ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return T.\u0275fac=function(P){return new(P||T)(p.LFG(de))},T.\u0275prov=p.Yz7({token:T,factory:function(){return function je(){return new ne((0,p.LFG)(de))}()},providedIn:"platform"}),T})();function ie(){return!!window.history.pushState}function He(T,$){if(0==T.length)return $;if(0==$.length)return T;let P=0;return T.endsWith("/")&&P++,$.startsWith("/")&&P++,2==P?T+$.substring(1):1==P?T+$:T+"/"+$}function Le(T){const $=T.match(/#|\?|$/),P=$&&$.index||T.length;return T.slice(0,P-("/"===T[P-1]?1:0))+T.slice(P)}function lt(T){return T&&"?"!==T[0]?"?"+T:T}let Be=(()=>{class T{historyGo(P){throw new Error("Not implemented")}}return T.\u0275fac=function(P){return new(P||T)},T.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(ve)},providedIn:"root"}),T})();const Re=new p.OlP("appBaseHref");let ve=(()=>{class T extends Be{constructor(P,K){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return He(this._baseHref,P)}path(P=!1){const K=this._platformLocation.pathname+lt(this._platformLocation.search),Ee=this._platformLocation.hash;return Ee&&P?`${K}${Ee}`:K}pushState(P,K,Ee,qe){const ut=this.prepareExternalUrl(Ee+lt(qe));this._platformLocation.pushState(P,K,ut)}replaceState(P,K,Ee,qe){const ut=this.prepareExternalUrl(Ee+lt(qe));this._platformLocation.replaceState(P,K,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return T.\u0275fac=function(P){return new(P||T)(p.LFG(he),p.LFG(Re,8))},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Et=(()=>{class T extends Be{constructor(P,K){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(P){const K=He(this._baseHref,P);return K.length>0?"#"+K:K}pushState(P,K,Ee,qe){let ut=this.prepareExternalUrl(Ee+lt(qe));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.pushState(P,K,ut)}replaceState(P,K,Ee,qe){let ut=this.prepareExternalUrl(Ee+lt(qe));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.replaceState(P,K,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return T.\u0275fac=function(P){return new(P||T)(p.LFG(he),p.LFG(Re,8))},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac}),T})(),Xe=(()=>{class T{constructor(P){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const K=this._locationStrategy.getBaseHref();this._baseHref=Le(_t(K)),this._locationStrategy.onPopState(Ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ee.state,type:Ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,K=""){return this.path()==this.normalize(P+lt(K))}normalize(P){return T.stripTrailingSlash(function Fe(T,$){return T&&$.startsWith(T)?$.substring(T.length):$}(this._baseHref,_t(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,K="",Ee=null){this._locationStrategy.pushState(Ee,"",P,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+lt(K)),Ee)}replaceState(P,K="",Ee=null){this._locationStrategy.replaceState(Ee,"",P,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+lt(K)),Ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",K){this._urlChangeListeners.forEach(Ee=>Ee(P,K))}subscribe(P,K,Ee){return this._subject.subscribe({next:P,error:K,complete:Ee})}}return T.normalizeQueryParams=lt,T.joinWithSlash=He,T.stripTrailingSlash=Le,T.\u0275fac=function(P){return new(P||T)(p.LFG(Be))},T.\u0275prov=p.Yz7({token:T,factory:function(){return function We(){return new Xe((0,p.LFG)(Be))}()},providedIn:"root"}),T})();function _t(T){return T.replace(/\/index.html$/,"")}const dt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Percent=1]="Percent",ee[ee.Currency=2]="Currency",ee[ee.Scientific=3]="Scientific",ee))(),Pe=(()=>((Pe=Pe||{})[Pe.Decimal=0]="Decimal",Pe[Pe.Group=1]="Group",Pe[Pe.List=2]="List",Pe[Pe.PercentSign=3]="PercentSign",Pe[Pe.PlusSign=4]="PlusSign",Pe[Pe.MinusSign=5]="MinusSign",Pe[Pe.Exponential=6]="Exponential",Pe[Pe.SuperscriptingExponent=7]="SuperscriptingExponent",Pe[Pe.PerMille=8]="PerMille",Pe[Pe.Infinity=9]="Infinity",Pe[Pe.NaN=10]="NaN",Pe[Pe.TimeSeparator=11]="TimeSeparator",Pe[Pe.CurrencyDecimal=12]="CurrencyDecimal",Pe[Pe.CurrencyGroup=13]="CurrencyGroup",Pe))();function St(T,$){const P=(0,p.cg1)(T),K=P[p.wAp.NumberSymbols][$];if(typeof K>"u"){if($===Pe.CurrencyDecimal)return P[p.wAp.NumberSymbols][Pe.Decimal];if($===Pe.CurrencyGroup)return P[p.wAp.NumberSymbols][Pe.Group]}return K}const Jn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function jn(T,$,P,K,Ee){const ut=function mr(T,$="-"){const P={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},K=T.split(";"),Ee=K[0],qe=K[1],ut=-1!==Ee.indexOf(".")?Ee.split("."):[Ee.substring(0,Ee.lastIndexOf("0")+1),Ee.substring(Ee.lastIndexOf("0")+1)],rn=ut[0],rr=ut[1]||"";P.posPre=rn.substring(0,rn.indexOf("#"));for(let fr=0;fr<rr.length;fr++){const Kn=rr.charAt(fr);"0"===Kn?P.minFrac=P.maxFrac=fr+1:"#"===Kn?P.maxFrac=fr+1:P.posSuf+=Kn}const hr=rn.split(",");if(P.gSize=hr[1]?hr[1].length:0,P.lgSize=hr[2]||hr[1]?(hr[2]||hr[1]).length:0,qe){const fr=Ee.length-P.posPre.length-P.posSuf.length,Kn=qe.indexOf("#");P.negPre=qe.substring(0,Kn).replace(/'/g,""),P.negSuf=qe.slice(Kn+fr).replace(/'/g,"")}else P.negPre=$+P.posPre,P.negSuf=P.posSuf;return P}(function Pt(T,$){return(0,p.cg1)(T)[p.wAp.NumberFormats][$]}($,ee.Currency),St($,Pe.MinusSign));return ut.minFrac=function Qr(T){let $;const P=dt[T];return P&&($=P[2]),"number"==typeof $?$:2}(K),ut.maxFrac=ut.minFrac,function wn(T,$,P,K,Ee,qe,ut=!1){let rn="",rr=!1;if(isFinite(T)){let hr=function Hi(T){let K,Ee,qe,ut,rn,$=Math.abs(T)+"",P=0;for((Ee=$.indexOf("."))>-1&&($=$.replace(".","")),(qe=$.search(/e/i))>0?(Ee<0&&(Ee=qe),Ee+=+$.slice(qe+1),$=$.substring(0,qe)):Ee<0&&(Ee=$.length),qe=0;"0"===$.charAt(qe);qe++);if(qe===(rn=$.length))K=[0],Ee=1;else{for(rn--;"0"===$.charAt(rn);)rn--;for(Ee-=qe,K=[],ut=0;qe<=rn;qe++,ut++)K[ut]=Number($.charAt(qe))}return Ee>22&&(K=K.splice(0,21),P=Ee-1,Ee=1),{digits:K,exponent:P,integerLen:Ee}}(T);ut&&(hr=function Vr(T){if(0===T.digits[0])return T;const $=T.digits.length-T.integerLen;return T.exponent?T.exponent+=2:(0===$?T.digits.push(0,0):1===$&&T.digits.push(0),T.integerLen+=2),T}(hr));let fr=$.minInt,Kn=$.minFrac,ai=$.maxFrac;if(qe){const to=qe.match(Jn);if(null===to)throw new Error(`${qe} is not a valid digit info`);const gs=to[1],ui=to[3],Es=to[5];null!=gs&&(fr=Mr(gs)),null!=ui&&(Kn=Mr(ui)),null!=Es?ai=Mr(Es):null!=ui&&Kn>ai&&(ai=Kn)}!function mi(T,$,P){if($>P)throw new Error(`The minimum number of digits after fraction (${$}) is higher than the maximum (${P}).`);let K=T.digits,Ee=K.length-T.integerLen;const qe=Math.min(Math.max($,Ee),P);let ut=qe+T.integerLen,rn=K[ut];if(ut>0){K.splice(Math.max(T.integerLen,ut));for(let Kn=ut;Kn<K.length;Kn++)K[Kn]=0}else{Ee=Math.max(0,Ee),T.integerLen=1,K.length=Math.max(1,ut=qe+1),K[0]=0;for(let Kn=1;Kn<ut;Kn++)K[Kn]=0}if(rn>=5)if(ut-1<0){for(let Kn=0;Kn>ut;Kn--)K.unshift(0),T.integerLen++;K.unshift(1),T.integerLen++}else K[ut-1]++;for(;Ee<Math.max(0,qe);Ee++)K.push(0);let rr=0!==qe;const hr=$+T.integerLen,fr=K.reduceRight(function(Kn,ai,Ir,_r){return _r[Ir]=(ai+=Kn)<10?ai:ai-10,rr&&(0===_r[Ir]&&Ir>=hr?_r.pop():rr=!1),ai>=10?1:0},0);fr&&(K.unshift(fr),T.integerLen++)}(hr,Kn,ai);let Ir=hr.digits,_r=hr.integerLen;const Fi=hr.exponent;let ws=[];for(rr=Ir.every(to=>!to);_r<fr;_r++)Ir.unshift(0);for(;_r<0;_r++)Ir.unshift(0);_r>0?ws=Ir.splice(_r,Ir.length):(ws=Ir,Ir=[0]);const Ms=[];for(Ir.length>=$.lgSize&&Ms.unshift(Ir.splice(-$.lgSize,Ir.length).join(""));Ir.length>$.gSize;)Ms.unshift(Ir.splice(-$.gSize,Ir.length).join(""));Ir.length&&Ms.unshift(Ir.join("")),rn=Ms.join(St(P,K)),ws.length&&(rn+=St(P,Ee)+ws.join("")),Fi&&(rn+=St(P,Pe.Exponential)+"+"+Fi)}else rn=St(P,Pe.Infinity);return rn=T<0&&!rr?$.negPre+rn+$.negSuf:$.posPre+rn+$.posSuf,rn}(T,ut,$,Pe.CurrencyGroup,Pe.CurrencyDecimal,Ee).replace("\xa4",P).replace("\xa4","").trim()}function Mr(T){const $=parseInt(T);if(isNaN($))throw new Error("Invalid integer literal when parsing "+T);return $}function di(T,$){$=encodeURIComponent($);for(const P of T.split(";")){const K=P.indexOf("="),[Ee,qe]=-1==K?[P,""]:[P.slice(0,K),P.slice(K+1)];if(Ee.trim()===$)return decodeURIComponent(qe)}return null}let Xn=(()=>{class T{constructor(P,K,Ee,qe){this._iterableDiffers=P,this._keyValueDiffers=K,this._ngEl=Ee,this._renderer=qe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(P){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof P?P.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(P){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof P?P.split(/\s+/):P,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const P=this._iterableDiffer.diff(this._rawClass);P&&this._applyIterableChanges(P)}else if(this._keyValueDiffer){const P=this._keyValueDiffer.diff(this._rawClass);P&&this._applyKeyValueChanges(P)}}_applyKeyValueChanges(P){P.forEachAddedItem(K=>this._toggleClass(K.key,K.currentValue)),P.forEachChangedItem(K=>this._toggleClass(K.key,K.currentValue)),P.forEachRemovedItem(K=>{K.previousValue&&this._toggleClass(K.key,!1)})}_applyIterableChanges(P){P.forEachAddedItem(K=>{if("string"!=typeof K.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(K.item)}`);this._toggleClass(K.item,!0)}),P.forEachRemovedItem(K=>this._toggleClass(K.item,!1))}_applyClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(K=>this._toggleClass(K,!0)):Object.keys(P).forEach(K=>this._toggleClass(K,!!P[K])))}_removeClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(K=>this._toggleClass(K,!1)):Object.keys(P).forEach(K=>this._toggleClass(K,!1)))}_toggleClass(P,K){(P=P.trim())&&P.split(/\s+/g).forEach(Ee=>{K?this._renderer.addClass(this._ngEl.nativeElement,Ee):this._renderer.removeClass(this._ngEl.nativeElement,Ee)})}}return T.\u0275fac=function(P){return new(P||T)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},T.\u0275dir=p.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),T})();class Gi{constructor($,P,K,Ee){this.$implicit=$,this.ngForOf=P,this.index=K,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hi=(()=>{class T{constructor(P,K,Ee){this._viewContainer=P,this._template=K,this._differs=Ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const K=this._viewContainer;P.forEachOperation((Ee,qe,ut)=>{if(null==Ee.previousIndex)K.createEmbeddedView(this._template,new Gi(Ee.item,this._ngForOf,-1,-1),null===ut?void 0:ut);else if(null==ut)K.remove(null===qe?void 0:qe);else if(null!==qe){const rn=K.get(qe);K.move(rn,ut),yi(rn,Ee)}});for(let Ee=0,qe=K.length;Ee<qe;Ee++){const rn=K.get(Ee).context;rn.index=Ee,rn.count=qe,rn.ngForOf=this._ngForOf}P.forEachIdentityChange(Ee=>{yi(K.get(Ee.currentIndex),Ee)})}static ngTemplateContextGuard(P,K){return!0}}return T.\u0275fac=function(P){return new(P||T)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},T.\u0275dir=p.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function yi(T,$){T.context.$implicit=$.item}let Or=(()=>{class T{constructor(P,K){this._viewContainer=P,this._context=new Ri,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){yr("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){yr("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,K){return!0}}return T.\u0275fac=function(P){return new(P||T)(p.Y36(p.s_b),p.Y36(p.Rgc))},T.\u0275dir=p.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class Ri{constructor(){this.$implicit=null,this.ngIf=null}}function yr(T,$){if($&&!$.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,p.AaK)($)}'.`)}let si=(()=>{class T{constructor(P,K="USD"){this._locale=P,this._defaultCurrencyCode=K}transform(P,K=this._defaultCurrencyCode,Ee="symbol",qe,ut){if(!function uo(T){return!(null==T||""===T||T!=T)}(P))return null;ut=ut||this._locale,"boolean"==typeof Ee&&(Ee=Ee?"symbol":"code");let rn=K||this._defaultCurrencyCode;"code"!==Ee&&(rn="symbol"===Ee||"symbol-narrow"===Ee?function Vn(T,$,P="en"){const K=function nr(T){return(0,p.cg1)(T)[p.wAp.Currencies]}(P)[T]||dt[T]||[],Ee=K[1];return"narrow"===$&&"string"==typeof Ee?Ee:K[0]||T}(rn,"symbol"===Ee?"wide":"narrow",ut):Ee);try{return jn(function Yi(T){if("string"==typeof T&&!isNaN(Number(T)-parseFloat(T)))return Number(T);if("number"!=typeof T)throw new Error(`${T} is not a number`);return T}(P),ut,rn,K,qe)}catch(rr){throw function Ct(T,$){return new p.vHH(2100,!1)}()}}}return T.\u0275fac=function(P){return new(P||T)(p.Y36(p.soG,16),p.Y36(p.EJc,16))},T.\u0275pipe=p.Yjl({name:"currency",type:T,pure:!0,standalone:!0}),T})();let us=(()=>{class T{}return T.\u0275fac=function(P){return new(P||T)},T.\u0275mod=p.oAB({type:T}),T.\u0275inj=p.cJS({}),T})();const Qi="browser";function Xr(T){return"server"===T}let Ns=(()=>{class T{}return T.\u0275prov=(0,p.Yz7)({token:T,providedIn:"root",factory:()=>new Pr((0,p.LFG)(de),window)}),T})();class Pr{constructor($,P){this.document=$,this.window=P,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const P=function Nr(T,$){const P=T.getElementById($)||T.getElementsByName($)[0];if(P)return P;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const K=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let Ee=K.currentNode;for(;Ee;){const qe=Ee.shadowRoot;if(qe){const ut=qe.getElementById($)||qe.querySelector(`[name="${$}"]`);if(ut)return ut}Ee=K.nextNode()}}return null}(this.document,$);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=$)}}scrollToElement($){const P=$.getBoundingClientRect(),K=P.left+this.window.pageXOffset,Ee=P.top+this.window.pageYOffset,qe=this.offset();this.window.scrollTo(K-qe[0],Ee-qe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=fi(this.window.history)||fi(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fi(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class ks{}},4650:(Se,X,O)=>{"use strict";O.d(X,{$8M:()=>Ia,$Z:()=>Id,AFp:()=>v0,ALo:()=>Bw,AaK:()=>he,CHM:()=>Xs,CRH:()=>Zw,CZH:()=>Ly,CqO:()=>cc,D6c:()=>xb,EJc:()=>GI,EpF:()=>lf,F4k:()=>ag,FYo:()=>tc,FiY:()=>Ai,G48:()=>db,GfV:()=>Zg,Gpc:()=>ne,JOm:()=>fa,KtG:()=>Fs,LFG:()=>ce,LSH:()=>pd,Lbi:()=>jI,Lck:()=>NE,MMx:()=>lv,NdJ:()=>df,OlP:()=>br,Oqu:()=>fg,PXZ:()=>sb,Q6J:()=>Bl,QGY:()=>Ud,QP$:()=>Ln,Qsj:()=>_d,R0b:()=>wu,RDi:()=>m,Rgc:()=>bg,SBq:()=>Il,Sil:()=>zI,Suo:()=>qw,TTD:()=>Di,TgZ:()=>Kc,WLB:()=>Nw,X6Q:()=>lb,XFs:()=>It,Xpm:()=>mt,Xts:()=>Kf,Y36:()=>ic,YKP:()=>Cw,YNc:()=>$m,Yjl:()=>ot,Yz7:()=>Kt,Z0I:()=>Gt,ZZ4:()=>kv,_Bn:()=>Dw,_UZ:()=>cf,_Vd:()=>ec,_c5:()=>Ab,_uU:()=>py,aQg:()=>Lv,c2e:()=>$I,cJS:()=>St,cg1:()=>If,dDg:()=>tb,dqk:()=>Wn,eFA:()=>R0,ekj:()=>yu,eoX:()=>x0,f3M:()=>Je,g9A:()=>E0,h0i:()=>Cf,hGG:()=>Sb,hij:()=>yf,iGM:()=>Kw,ifc:()=>Dt,ip1:()=>_0,jDz:()=>Aw,kL8:()=>bf,lG2:()=>Ce,lcZ:()=>jw,lqb:()=>zs,lri:()=>A0,n5z:()=>er,oAB:()=>gn,oxw:()=>jd,q4F:()=>Jf,qLn:()=>vd,qOj:()=>Rl,qZA:()=>uc,rWj:()=>S0,sBO:()=>hb,sIi:()=>Nl,s_b:()=>Py,soG:()=>Fy,tBr:()=>An,tb:()=>I0,tp0:()=>Po,uIk:()=>Vm,vHH:()=>Le,vpe:()=>pc,wAp:()=>$n,xp6:()=>Mh,z2F:()=>Vy,zSh:()=>Rc,zs3:()=>Fc});var p=O(7579),S=O(727),j=O(9751),ge=O(6451),re=O(3099);function _e(n){for(let r in n)if(n[r]===_e)return r;throw Error("Could not find renamed property on target object.")}function de(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function he(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(he).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function pe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const te=_e({__forward_ref__:_e});function ne(n){return n.__forward_ref__=ne,n.toString=function(){return he(this())},n}function ie(n){return je(n)?n():n}function je(n){return"function"==typeof n&&n.hasOwnProperty(te)&&n.__forward_ref__===ne}class Le extends Error{constructor(r,s){super(function lt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Be(n){return"string"==typeof n?n:null==n?"":String(n)}function We(n,r){throw new Le(-201,!1)}function on(n,r){null==n&&function gt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Kt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pt(n){return Pn(n,Zt)||Pn(n,sr)}function Gt(n){return null!==Pt(n)}function Pn(n,r){return n.hasOwnProperty(r)?n[r]:null}function fn(n){return n&&(n.hasOwnProperty(Rn)||n.hasOwnProperty(pn))?n[Rn]:null}const Zt=_e({\u0275prov:_e}),Rn=_e({\u0275inj:_e}),sr=_e({ngInjectableDef:_e}),pn=_e({ngInjectorDef:_e});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let Un;function Cn(n){const r=Un;return Un=n,r}function Qr(n,r,s){const a=Pt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&It.Optional?null:void 0!==r?r:void We(he(n))}function Cr(n){return{toString:n}.toString()}var bn=(()=>((bn=bn||{})[bn.OnPush=0]="OnPush",bn[bn.Default=1]="Default",bn))(),Dt=(()=>{return(n=Dt||(Dt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Dt;var n})();const Wn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$r={},vn=[],Tr=_e({\u0275cmp:_e}),Hn=_e({\u0275dir:_e}),ni=_e({\u0275pipe:_e}),qn=_e({\u0275mod:_e}),gr=_e({\u0275fac:_e}),cn=_e({__NG_ELEMENT_ID__:_e});let jt=0;function mt(n){return Cr(()=>{const s=!0===n.standalone,a={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||vn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Dt.Emulated,id:"c"+jt++,styles:n.styles||vn,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,y=n.features;return c.inputs=ye(n.inputs,a),c.outputs=ye(n.outputs),y&&y.forEach(I=>I(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(ln).filter(un):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(nn).filter(un):null,c})}function ln(n){return ke(n)||Nt(n)}function un(n){return null!==n}function gn(n){return Cr(()=>({type:n.type,bootstrap:n.bootstrap||vn,declarations:n.declarations||vn,imports:n.imports||vn,exports:n.exports||vn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ye(n,r){if(null==n)return $r;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,r&&(r[c]=h)}return s}const Ce=mt;function ot(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ke(n){return n[Tr]||null}function Nt(n){return n[Hn]||null}function nn(n){return n[ni]||null}function Ln(n){const r=ke(n)||Nt(n)||nn(n);return null!==r&&r.standalone}function Jn(n,r){const s=n[qn]||null;if(!s&&!0===r)throw new Error(`Type ${he(n)} does not have '\u0275mod' property.`);return s}function yr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Jr(n){return Array.isArray(n)&&!0===n[1]}function Cs(n){return 0!=(8&n.flags)}function Rr(n){return 2==(2&n.flags)}function Ps(n){return 1==(1&n.flags)}function vr(n){return null!==n.template}function fe(n){return 0!=(256&n[2])}function Zi(n,r){return n.hasOwnProperty(gr)?n[gr]:null}class zi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Di(){return si}function si(n){return n.type.prototype.ngOnChanges&&(n.setInput=Yi),uo}function uo(){const n=_s(this),r=n?.current;if(r){const s=n.previous;if(s===$r)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Yi(n,r,s,a){const c=_s(n)||function us(n,r){return n[As]=r}(n,{previous:$r,current:null}),h=c.current||(c.current={}),y=c.previous,I=this.declaredInputs[s],x=y[I];h[I]=new zi(x&&x.currentValue,r,y===$r),n[a]=r}Di.ngInherit=!0;const As="__ngSimpleChanges__";function _s(n){return n[As]||null}function Ur(n){for(;Array.isArray(n);)n=n[0];return n}function fi(n,r){return Ur(r[n])}function Nr(n,r){return Ur(r[n.index])}function ks(n,r){return n.data[r]}function or(n,r){const s=r[n];return yr(s)?s:s[0]}function Ls(n){return 64==(64&n[2])}function vi(n,r){return null==r?null:n[r]}function ls(n){n[18]=0}function Hr(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const In={lFrame:Vo(null),bindingsEnabled:!0};function ds(){return In.bindingsEnabled}function vt(){return In.lFrame.lView}function zn(){return In.lFrame.tView}function Xs(n){return In.lFrame.contextLView=n,n[8]}function Fs(n){return In.lFrame.contextLView=null,n}function kr(){let n=Vs();for(;null!==n&&64===n.type;)n=n.parent;return n}function Vs(){return In.lFrame.currentTNode}function qi(n,r){const s=In.lFrame;s.currentTNode=n,s.isParent=r}function xs(){return In.lFrame.isParent}function A(){const n=In.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function zt(){return In.lFrame.bindingIndex++}function fs(n,r){const s=In.lFrame;s.bindingIndex=s.bindingRootIndex=n,eo(r)}function eo(n){In.lFrame.currentDirectiveIndex=n}function qo(){return In.lFrame.currentQueryIndex}function ps(n){In.lFrame.currentQueryIndex=n}function Fo(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function To(n,r,s){if(s&It.SkipSelf){let c=r,h=n;for(;!(c=c.parent,null!==c||s&It.Host||(c=Fo(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;r=c,n=h}const a=In.lFrame=mo();return a.currentTNode=r,a.lView=n,!0}function Ao(n){const r=mo(),s=n[1];In.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function mo(){const n=In.lFrame,r=null===n?null:n.child;return null===r?Vo(n):r}function Vo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function So(){const n=In.lFrame;return In.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const T=So;function $(){const n=So();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ee(){return In.lFrame.selectedIndex}function qe(n){In.lFrame.selectedIndex=n}function ut(){const n=In.lFrame;return ks(n.tView,n.selectedIndex)}function Ir(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:x,ngAfterViewChecked:U,ngOnDestroy:Z}=h;y&&(n.contentHooks||(n.contentHooks=[])).push(-s,y),I&&((n.contentHooks||(n.contentHooks=[])).push(s,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,I)),x&&(n.viewHooks||(n.viewHooks=[])).push(-s,x),U&&((n.viewHooks||(n.viewHooks=[])).push(s,U),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,U)),null!=Z&&(n.destroyHooks||(n.destroyHooks=[])).push(s,Z)}}function _r(n,r,s){Ms(n,r,3,s)}function Fi(n,r,s,a){(3&n[2])===s&&Ms(n,r,s,a)}function ws(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Ms(n,r,s,a){const h=a??-1,y=r.length-1;let I=0;for(let x=void 0!==a?65535&n[18]:0;x<y;x++)if("number"==typeof r[x+1]){if(I=r[x],null!=a&&I>=a)break}else r[x]<0&&(n[18]+=65536),(I<h||-1==h)&&(to(n,s,r,x),n[18]=(4294901760&n[18])+x+2),x++}function to(n,r,s,a){const c=s[a]<0,h=s[a+1],I=n[c?-s[a]:s[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(I)}finally{}}}else try{h.call(I)}finally{}}class ui{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Yo(n,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const h=s[a++],y=s[a++],I=s[a++];n.setAttribute(r,y,I,h)}else{const h=c,y=s[++a];jo(h)?n.setProperty(r,h,y):n.setAttribute(r,h,y),a++}}return a}function Bo(n){return 3===n||4===n||6===n}function jo(n){return 64===n.charCodeAt(0)}function ra(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Ea(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function Ea(n,r,s,a,c){let h=0,y=n.length;if(-1===r)y=-1;else for(;h<n.length;){const I=n[h++];if("number"==typeof I){if(I===r){y=-1;break}if(I>r){y=h-1;break}}}for(;h<n.length;){const I=n[h];if("number"==typeof I)break;if(I===s){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==y&&(n.splice(y,0,r),h=y+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}function wi(n){return-1!==n}function qr(n){return 32767&n}function C(n,r){let s=function D(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let G=!0;function Q(n){const r=G;return G=n,r}let Mt=0;const Qt={};function Ut(n,r){const s=Tt(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,rt(a.data,n),rt(r,null),rt(a.blueprint,null));const c=Ei(n,r),h=n.injectorIndex;if(wi(c)){const y=qr(c),I=C(c,r),x=I[1].data;for(let U=0;U<8;U++)r[h+U]=I[y+U]|x[y+U]}return r[h+8]=c,h}function rt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Tt(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Ei(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=ar(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Qo(n,r,s){!function lo(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(cn)&&(a=s[cn]),null==a&&(a=s[cn]=Mt++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function Jo(n,r,s){if(s&It.Optional||void 0!==n)return n;We()}function Na(n,r,s,a){if(s&It.Optional&&void 0===a&&(a=null),0==(s&(It.Self|It.Host))){const c=n[9],h=Cn(void 0);try{return c?c.get(r,a,s&It.Optional):Qr(r,a,s&It.Optional)}finally{Cn(h)}}return Jo(a,0,s)}function xo(n,r,s,a=It.Default,c){if(null!==n){if(1024&r[2]){const y=function yo(n,r,s,a,c){let h=n,y=r;for(;null!==h&&null!==y&&1024&y[2]&&!(256&y[2]);){const I=ka(h,y,s,a|It.Self,Qt);if(I!==Qt)return I;let x=h.parent;if(!x){const U=y[21];if(U){const Z=U.get(s,Qt,a);if(Z!==Qt)return Z}x=ar(y),y=y[15]}h=x}return c}(n,r,s,a,Qt);if(y!==Qt)return y}const h=ka(n,r,s,a,Qt);if(h!==Qt)return h}return Na(r,s,a,c)}function ka(n,r,s,a,c){const h=function Iu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(cn)?n[cn]:void 0;return"number"==typeof r?r>=0?255&r:Qa:r}(s);if("function"==typeof h){if(!To(r,n,a))return a&It.Host?Jo(c,0,a):Na(r,s,a,c);try{const y=h(a);if(null!=y||a&It.Optional)return y;We()}finally{T()}}else if("number"==typeof h){let y=null,I=Tt(n,r),x=-1,U=a&It.Host?r[16][6]:null;for((-1===I||a&It.SkipSelf)&&(x=-1===I?Ei(n,r):r[I+8],-1!==x&&Fn(a,!1)?(y=r[1],I=qr(x),r=C(x,r)):I=-1);-1!==I;){const Z=r[1];if(La(h,I,Z.data)){const ae=Ya(I,r,s,y,a,U);if(ae!==Qt)return ae}x=r[I+8],-1!==x&&Fn(a,r[1].data[I+8]===U)&&La(h,I,r)?(y=Z,I=qr(x),r=C(x,r)):I=-1}}return c}function Ya(n,r,s,a,c,h){const y=r[1],I=y.data[n+8],Z=$o(I,y,s,null==a?Rr(I)&&G:a!=y&&0!=(3&I.type),c&It.Host&&h===I);return null!==Z?ia(r,y,Z,I):Qt}function $o(n,r,s,a,c){const h=n.providerIndexes,y=r.data,I=1048575&h,x=n.directiveStart,Z=h>>20,Me=c?I+Z:n.directiveEnd;for(let Ye=a?I:I+Z;Ye<Me;Ye++){const wt=y[Ye];if(Ye<x&&s===wt||Ye>=x&&wt.type===s)return Ye}if(c){const Ye=y[x];if(Ye&&vr(Ye)&&Ye.type===s)return x}return null}function ia(n,r,s,a){let c=n[s];const h=r.data;if(function Es(n){return n instanceof ui}(c)){const y=c;y.resolving&&function ve(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Le(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Re(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Be(n)}(h[s]));const I=Q(y.canSeeViewProviders);y.resolving=!0;const x=y.injectImpl?Cn(y.injectImpl):null;To(n,a,It.Default);try{c=n[s]=y.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ai(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){const y=si(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,y)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==x&&Cn(x),Q(I),y.resolving=!1,T()}}return c}function La(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Fn(n,r){return!(n&It.Self||n&It.Host&&r)}class no{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return xo(this._tNode,this._lView,r,a,s)}}function Qa(){return new no(kr(),vt())}function er(n){return Cr(()=>{const r=n.prototype.constructor,s=r[gr]||Mn(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[gr]||Mn(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Mn(n){return je(n)?()=>{const r=Mn(ie(n));return r&&r()}:Zi(n)}function ar(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function Ia(n){return function Za(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Bo(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===r)return s[c+1];c+=2}}}return null}(kr(),n)}const Vt="__parameters__";function oa(n,r,s){return Cr(()=>{const a=function Mo(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const y=new c(...h);return I.annotation=y,I;function I(x,U,Z){const ae=x.hasOwnProperty(Vt)?x[Vt]:Object.defineProperty(x,Vt,{value:[]})[Vt];for(;ae.length<=Z;)ae.push(null);return(ae[Z]=ae[Z]||[]).push(y),x}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class br{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Kt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rs(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),rs(a,r)):r!==n&&r.push(a)}return r}function io(n,r){n.forEach(s=>Array.isArray(s)?io(s,r):r(s))}function tu(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function ba(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Lr(n,r,s){let a=v(n,r);return a>=0?n[1|a]=s:(a=~a,function vo(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Fr(n,r){const s=v(n,r);if(s>=0)return n[1|s]}function v(n,r){return function _(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const h=a+(c-a>>1),y=n[h<<s];if(r===y)return h<<s;y>r?c=h:a=h+1}return~(c<<s)}(n,r,1)}const Yn={},Ii="__NG_DI_FLAG__",Os="ngTempTokenPath",Hs=/\n/gm,ta="__source";let R;function L(n){const r=R;return R=n,r}function z(n,r=It.Default){if(void 0===R)throw new Le(-203,!1);return null===R?Qr(n,void 0,r):R.get(n,r&It.Optional?null:void 0,r)}function ce(n,r=It.Default){return(function Vn(){return Un}()||z)(ie(n),r)}function Je(n,r=It.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),ce(n,r)}function At(n){const r=[];for(let s=0;s<n.length;s++){const a=ie(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Le(900,!1);let c,h=It.Default;for(let y=0;y<a.length;y++){const I=a[y],x=On(I);"number"==typeof x?-1===x?c=I.token:h|=x:c=I}r.push(ce(c,h))}else r.push(ce(a))}return r}function $t(n,r){return n[Ii]=r,n.prototype[Ii]=r,n}function On(n){return n[Ii]}const An=$t(oa("Inject",n=>({token:n})),-1),Ai=$t(oa("Optional"),8),Po=$t(oa("SkipSelf"),4);var fa=(()=>((fa=fa||{})[fa.Important=1]="Important",fa[fa.DashCase=2]="DashCase",fa))();const ul=new Map;let Ql=0;const Ta="__ngContext__";function ss(n,r){yr(r)?(n[Ta]=r[20],function sh(n){ul.set(n[20],n)}(r)):n[Ta]=r}function Cu(n,r){return undefined(n,r)}function Eo(n){const r=n[3];return Jr(r)?r[3]:r}function Zu(n){return dl(n[13])}function Aa(n){return dl(n[4])}function dl(n){for(;null!==n&&!Jr(n);)n=n[4];return n}function li(n,r,s,a,c){if(null!=a){let h,y=!1;Jr(a)?h=a:yr(a)&&(y=!0,a=a[0]);const I=Ur(a);0===n&&null!==s?null==c?Ic(r,s,I):na(r,s,I,c||null,!0):1===n&&null!==s?na(r,s,I,c||null,!0):2===n?function gl(n,r,s){const a=cu(n,r);a&&function ph(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,I,y):3===n&&r.destroyNode(I),null!=h&&function Ou(n,r,s,a,c){const h=s[7];h!==Ur(s)&&li(r,n,a,h,c);for(let I=10;I<s.length;I++){const x=s[I];Io(x[1],x,n,r,a,h)}}(r,n,h,s,c)}}function pa(n,r,s){return n.createElement(r,s)}function hl(n,r){const s=n[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,Hr(c,-1)),s.splice(a,1)}function Au(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const c=a[17];null!==c&&c!==n&&hl(c,a),r>0&&(n[s-1][4]=a[4]);const h=ba(n,10+r);!function Lf(n,r){Io(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const y=h[19];null!==y&&y.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function hh(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Io(n,r,s,3,null,null),function Ec(n){let r=n[13];if(!r)return td(n[1],n);for(;r;){let s=null;if(yr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)yr(r)&&td(r[1],r),r=r[3];null===r&&(r=n),yr(r)&&td(r[1],r),s=r&&r[4]}r=s}}(r)}}function td(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function fh(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof ui)){const h=s[a+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const I=c[h[y]],x=h[y+1];try{x.call(I)}finally{}}else try{h.call(c)}finally{}}}}(n,r),function cr(n,r){const s=n.cleanup,a=r[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+1],I="function"==typeof y?y(r):Ur(r[y]),x=a[c=s[h+2]],U=s[h+3];"boolean"==typeof U?I.removeEventListener(s[h],x,U):U>=0?a[c=U]():a[c=-U].unsubscribe(),h+=2}else{const y=a[c=s[h+1]];s[h].call(y)}if(null!==a){for(let h=c+1;h<a.length;h++)(0,a[h])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Jr(r[3])){s!==r[3]&&hl(s,r);const a=r[19];null!==a&&a.detachView(n)}!function Rf(n){ul.delete(n[20])}(r)}}function Su(n,r,s){return function uu(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===Dt.None||c===Dt.Emulated)return null}return Nr(a,s)}(n,r.parent,s)}function na(n,r,s,a,c){n.insertBefore(r,s,a,c)}function Ic(n,r,s){n.appendChild(r,s)}function bc(n,r,s,a,c){null!==a?na(n,r,s,a,c):Ic(n,r,s)}function cu(n,r){return n.parentNode(r)}let yl,pl=function fl(n,r,s){return 40&n.type?Nr(n,s):null};function Dc(n,r,s,a){const c=Su(n,a,r),h=r[11],I=function rd(n,r,s){return pl(n,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let x=0;x<s.length;x++)bc(h,c,s[x],I,!1);else bc(h,c,s,I,!1)}function ga(n,r){if(null!==r){const s=r.type;if(3&s)return Nr(r,n);if(4&s)return Cc(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return ga(n,a);{const c=n[r.index];return Jr(c)?Cc(-1,c):Ur(c)}}if(32&s)return Cu(r,n)()||Ur(n[r.index]);{const a=Is(n,r);return null!==a?Array.isArray(a)?a[0]:ga(Eo(n[16]),a):ga(n,r.next)}}return null}function Is(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Cc(n,r){const s=10+n+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return ga(a,c)}return r[7]}function Mu(n,r,s,a,c,h,y){for(;null!=s;){const I=a[s.index],x=s.type;if(y&&0===r&&(I&&ss(Ur(I),a),s.flags|=4),64!=(64&s.flags))if(8&x)Mu(n,r,s.child,a,c,h,!1),li(r,n,c,I,h);else if(32&x){const U=Cu(s,a);let Z;for(;Z=U();)li(r,n,c,Z,h);li(r,n,c,I,h)}else 16&x?Tc(n,r,a,s,c,h):li(r,n,c,I,h);s=y?s.projectionNext:s.next}}function Io(n,r,s,a,c,h){Mu(s,a,n.firstChild,r,c,h,!1)}function Tc(n,r,s,a,c,h){const y=s[16],x=y[6].projection[a.projection];if(Array.isArray(x))for(let U=0;U<x.length;U++)li(r,n,c,x[U],h);else Mu(n,r,x,y[3],c,h,!0)}function ma(n,r,s){n.setAttribute(r,"style",s)}function lu(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function m(n){yl=n}class at{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function pi(n){return n instanceof at?n.changingThisBreaksApplicationSecurity:n}const cd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ui=(()=>((Ui=Ui||{})[Ui.NONE=0]="NONE",Ui[Ui.HTML=1]="HTML",Ui[Ui.STYLE=2]="STYLE",Ui[Ui.SCRIPT=3]="SCRIPT",Ui[Ui.URL=4]="URL",Ui[Ui.RESOURCE_URL=5]="RESOURCE_URL",Ui))();function pd(n){const r=function Ha(){const n=vt();return n&&n[12]}();return r?r.sanitize(Ui.URL,n)||"":function $a(n,r){const s=function xc(n){return n instanceof at&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?pi(n):function ld(n){return(n=String(n)).match(cd)?n:"unsafe:"+n}(Be(n))}const Kf=new br("ENVIRONMENT_INITIALIZER"),qf=new br("INJECTOR",-1),Bg=new br("INJECTOR_DEF_TYPES");class jg{get(r,s=Yn){if(s===Yn){const a=new Error(`NullInjectorError: No provider for ${he(r)}!`);throw a.name="NullInjectorError",a}return s}}function Wy(...n){return{\u0275providers:_l(0,n)}}function _l(n,...r){const s=[],a=new Set;let c;return io(r,h=>{const y=h;Nu(y,s,[],a)&&(c||(c=[]),c.push(y))}),void 0!==c&&Ju(c,s),s}function Ju(n,r){for(let s=0;s<n.length;s++){const{providers:c}=n[s];io(c,h=>{r.push(h)})}}function Nu(n,r,s,a){if(!(n=ie(n)))return!1;let c=null,h=fn(n);const y=!h&&ke(n);if(h||y){if(y&&!y.standalone)return!1;c=n}else{const x=n.ngModule;if(h=fn(x),!h)return!1;c=x}const I=a.has(c);if(y){if(I)return!1;if(a.add(c),y.dependencies){const x="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const U of x)Nu(U,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!I){let U;a.add(c);try{io(h.imports,Z=>{Nu(Z,r,s,a)&&(U||(U=[]),U.push(Z))})}finally{}void 0!==U&&Ju(U,r)}if(!I){const U=Zi(c)||(()=>new c);r.push({provide:c,useFactory:U,deps:vn},{provide:Bg,useValue:c,multi:!0},{provide:Kf,useValue:()=>ce(c),multi:!0})}const x=h.providers;null==x||I||io(x,Z=>{r.push(Z)})}}return c!==n&&void 0!==n.providers}const Ky=_e({provide:String,useValue:_e});function Zf(n){return null!==n&&"object"==typeof n&&Ky in n}function Oc(n){return"function"==typeof n}const Rc=new br("Set Injector scope."),Pc={},md={};let Dh;function yd(){return void 0===Dh&&(Dh=new jg),Dh}class zs{}class Yf extends zs{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Th(r,y=>this.processProvider(y)),this.records.set(qf,Ga(void 0,this)),c.has("environment")&&this.records.set(zs,Ga(void 0,this));const h=this.records.get(Rc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Bg.multi,vn,It.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=L(this),a=Cn(void 0);try{return r()}finally{L(s),Cn(a)}}get(r,s=Yn,a=It.Default){this.assertNotDestroyed();const c=L(this),h=Cn(void 0);try{if(!(a&It.SkipSelf)){let I=this.records.get(r);if(void 0===I){const x=function qy(n){return"function"==typeof n||"object"==typeof n&&n instanceof br}(r)&&Pt(r);I=x&&this.injectableDefInScope(x)?Ga(vl(r),Pc):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(a&It.Self?yd():this.parent).get(r,s=a&It.Optional&&s===Yn?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Os]=y[Os]||[]).unshift(he(r)),c)throw y;return function Zn(n,r,s,a){const c=n[Os];throw r[ta]&&c.unshift(r[ta]),n.message=function ur(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=he(r);if(Array.isArray(r))c=r.map(he).join(" -> ");else if("object"==typeof r){let h=[];for(let y in r)if(r.hasOwnProperty(y)){let I=r[y];h.push(y+":"+("string"==typeof I?JSON.stringify(I):he(I)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(Hs,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[Os]=null,n}(y,r,"R3InjectorError",this.source)}throw y}finally{Cn(h),L(c)}}resolveInjectorInitializers(){const r=L(this),s=Cn(void 0);try{const a=this.get(Kf.multi,vn,It.Self);for(const c of a)c()}finally{L(r),Cn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(he(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(r){let s=Oc(r=ie(r))?r:ie(r&&r.provide);const a=function Hg(n){return Zf(n)?Ga(void 0,n.useValue):Ga(ku(n),Pc)}(r);if(Oc(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Ga(void 0,Pc,!0),c.factory=()=>At(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Pc&&(s.value=md,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Nc(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ie(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function vl(n){const r=Pt(n),s=null!==r?r.factory:Zi(n);if(null!==s)return s;if(n instanceof br)throw new Le(204,!1);if(n instanceof Function)return function Ch(n){const r=n.length;if(r>0)throw function ea(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new Le(204,!1);const s=function xn(n){const r=n&&(n[Zt]||n[sr]);if(r){const s=function nr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Le(204,!1)}function ku(n,r,s){let a;if(Oc(n)){const c=ie(n);return Zi(c)||vl(c)}if(Zf(n))a=()=>ie(n.useValue);else if(function gd(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...At(n.deps||[]));else if(function bh(n){return!(!n||!n.useExisting)}(n))a=()=>ce(ie(n.useExisting));else{const c=ie(n&&(n.useClass||n.provide));if(!function Gg(n){return!!n.deps}(n))return Zi(c)||vl(c);a=()=>new c(...At(n.deps))}return a}function Ga(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function wl(n){return!!n.\u0275providers}function Th(n,r){for(const s of n)Array.isArray(s)?Th(s,r):wl(s)?Th(s.\u0275providers,r):r(s)}class Qf{}class Yy{resolveComponentFactory(r){throw function Zy(n){const r=Error(`No component factory found for ${he(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let ec=(()=>{class n{}return n.NULL=new Yy,n})();function zg(){return El(kr(),vt())}function El(n,r){return new Il(Nr(n,r))}let Il=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=zg,n})();function Qy(n){return n instanceof Il?n.nativeElement:n}class tc{}let _d=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Kg(){const n=vt(),s=or(kr().index,n);return(yr(s)?s:n)[11]}(),n})(),qg=(()=>{class n{}return n.\u0275prov=Kt({token:n,providedIn:"root",factory:()=>null}),n})();class Zg{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Jf=new Zg("14.2.12"),Xf={};function Ks(n){return n.ngOriginalError}class vd{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Ks(r);for(;s&&Ks(s);)s=Ks(s);return s||null}}function Wa(n){return n instanceof Function?n():n}function Jg(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}s=c+1}}const ip="ng-template";function sp(n,r,s){let a=0;for(;a<n.length;){let c=n[a++];if(s&&"class"===c){if(c=n[a],-1!==Jg(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Xg(n){return 4===n.type&&n.value!==ip}function em(n,r,s){return r===(4!==n.type||s?n.value:ip)}function o_(n,r,s){let a=4;const c=n.attrs||[],h=function op(n){for(let r=0;r<n.length;r++)if(Bo(n[r]))return r;return n.length}(c);let y=!1;for(let I=0;I<r.length;I++){const x=r[I];if("number"!=typeof x){if(!y)if(4&a){if(a=2|1&a,""!==x&&!em(n,x,s)||""===x&&1===r.length){if(xa(a))return!1;y=!0}}else{const U=8&a?x:r[++I];if(8&a&&null!==n.attrs){if(!sp(n.attrs,U,s)){if(xa(a))return!1;y=!0}continue}const ae=a_(8&a?"class":x,c,Xg(n),s);if(-1===ae){if(xa(a))return!1;y=!0;continue}if(""!==U){let Me;Me=ae>h?"":c[ae+1].toLowerCase();const Ye=8&a?Me:null;if(Ye&&-1!==Jg(Ye,U,0)||2&a&&U!==Me){if(xa(a))return!1;y=!0}}}}else{if(!y&&!xa(a)&&!xa(x))return!1;if(y&&xa(x))continue;y=!1,a=x|1&a}}return xa(a)||y}function xa(n){return 0==(1&n)}function a_(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let h=!1;for(;c<r.length;){const y=r[c];if(y===n)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let I=r[++c];for(;"string"==typeof I;)I=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function xh(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Lc(n,r,s=!1){for(let a=0;a<r.length;a++)if(o_(n,r[a],s))return!0;return!1}function ap(n,r){return n?":not("+r.trim()+")":r}function nm(n){let r=n[0],s=1,a=2,c="",h=!1;for(;s<n.length;){let y=n[s];if("string"==typeof y)if(2&a){const I=n[++s];c+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?c+="."+y:4&a&&(c+=" "+y);else""!==c&&!xa(y)&&(r+=ap(h,c),c=""),a=y,h=h||!xa(a);s++}return""!==c&&(r+=ap(h,c)),r}const lr={};function Mh(n){cp(zn(),vt(),Ee()+n,!1)}function cp(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&_r(r,h,s)}else{const h=n.preOrderHooks;null!==h&&Fi(r,h,0,s)}qe(s)}function rm(n,r=null,s=null,a){const c=pp(n,r,s,a);return c.resolveInjectorInitializers(),c}function pp(n,r=null,s=null,a,c=new Set){const h=[s||vn,Wy(n)];return a=a||("object"==typeof n?void 0:he(n)),new Yf(h,r||yd(),a||null,c)}let Fc=(()=>{class n{static create(s,a){if(Array.isArray(s))return rm({name:""},a,s,"");{const c=s.name??"";return rm({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=Yn,n.NULL=new jg,n.\u0275prov=Kt({token:n,providedIn:"any",factory:()=>ce(qf)}),n.__NG_ELEMENT_ID__=-1,n})();function ic(n,r=It.Default){const s=vt();return null===s?ce(n,r):xo(kr(),s,ie(n),r)}function Id(){throw new Error("invalid")}function bd(n,r){return n<<17|r<<2}function ko(n){return n>>17&32767}function Dp(n){return 2|n}function hu(n){return(131068&n)>>2}function jh(n,r){return-131069&n|r<<2}function Dd(n){return 1|n}function Em(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],h=s[a+1];if(-1!==h){const y=n.data[h];ps(c),y.contentQueries(2,r[h],h)}}}function Al(n,r,s,a,c,h,y,I,x,U,Z){const ae=r.blueprint.slice();return ae[0]=c,ae[2]=76|a,(null!==Z||n&&1024&n[2])&&(ae[2]|=1024),ls(ae),ae[3]=ae[15]=n,ae[8]=s,ae[10]=y||n&&n[10],ae[11]=I||n&&n[11],ae[12]=x||n&&n[12]||null,ae[9]=U||n&&n[9]||null,ae[6]=h,ae[20]=function ih(){return Ql++}(),ae[21]=Z,ae[16]=2==r.type?n[16]:ae,ae}function Bc(n,r,s,a,c){let h=n.data[r];if(null===h)h=function Pp(n,r,s,a,c){const h=Vs(),y=xs(),x=n.data[r]=function Fp(n,r,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=x),null!==h&&(y?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x)),x}(n,r,s,a,c),function ts(){return In.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const y=function Ss(){const n=In.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return qi(h,!0),h}function oc(n,r,s,a){if(0===s)return-1;const c=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function Np(n,r,s){Ao(r);try{const a=n.viewQuery;null!==a&&jc(1,a,s);const c=n.template;null!==c&&bm(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Em(n,r),n.staticViewQueries&&jc(2,n.viewQuery,s);const h=n.components;null!==h&&function Im(n,r){for(let s=0;s<r.length;s++)Rm(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,$()}}function Sl(n,r,s,a){const c=r[2];if(128!=(128&c)){Ao(r);try{ls(r),function Ge(n){return In.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&bm(n,r,s,2,a);const y=3==(3&c);if(y){const U=n.preOrderCheckHooks;null!==U&&_r(r,U,null)}else{const U=n.preOrderHooks;null!==U&&Fi(r,U,0,null),ws(r,0)}if(function Wp(n){for(let r=Zu(n);null!==r;r=Aa(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],h=c[3];0==(512&c[2])&&Hr(h,1),c[2]|=512}}}(r),function Gp(n){for(let r=Zu(n);null!==r;r=Aa(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];Ls(a)&&Sl(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&Em(n,r),y){const U=n.contentCheckHooks;null!==U&&_r(r,U)}else{const U=n.contentHooks;null!==U&&Fi(r,U,1),ws(r,1)}!function Op(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)qe(~c);else{const h=c,y=s[++a],I=s[++a];fs(y,h),I(2,r[h])}}}finally{qe(-1)}}(n,r);const I=n.components;null!==I&&function Rp(n,r){for(let s=0;s<r.length;s++)Om(n,r[s])}(r,I);const x=n.viewQuery;if(null!==x&&jc(2,x,a),y){const U=n.viewCheckHooks;null!==U&&_r(r,U)}else{const U=n.viewHooks;null!==U&&Fi(r,U,2),ws(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Hr(r[3],-1))}finally{$()}}}function bm(n,r,s,a,c){const h=Ee(),y=2&a;try{qe(-1),y&&r.length>22&&cp(n,r,22,!1),s(a,c)}finally{qe(h)}}function kp(n,r,s){!ds()||(function b_(n,r,s,a){const c=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||Ut(s,r),ss(a,r);const y=s.initialInputs;for(let I=c;I<h;I++){const x=n.data[I],U=vr(x);U&&Hp(r,s,x);const Z=ia(r,n,I,s);ss(Z,r),null!==y&&T_(0,I-c,Z,x,0,y),U&&(or(s.index,r)[8]=Z)}}(n,r,s,Nr(s,r)),128==(128&s.flags)&&function Up(n,r,s){const a=s.directiveStart,c=s.directiveEnd,h=s.index,y=function Us(){return In.lFrame.currentDirectiveIndex}();try{qe(h);for(let I=a;I<c;I++){const x=n.data[I],U=r[I];eo(I),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Bp(x,U)}}finally{qe(-1),eo(y)}}(n,r,s))}function Md(n,r,s=Nr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const y=a[h+1],I=-1===y?s(r,n):n[y];n[c++]=I}}}function qh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Od(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Od(n,r,s,a,c,h,y,I,x,U){const Z=22+a,ae=Z+c,Me=function xl(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:lr);return s}(Z,ae),Ye="function"==typeof U?U():U;return Me[1]={type:n,blueprint:Me,template:s,queries:null,viewQuery:I,declTNode:r,data:Me.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:Ye,incompleteFirstPass:!1}}function Dm(n,r,s,a){const c=Bi(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&Do(n).push(a,c.length-1))}function pu(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function Zh(n,r){const a=r.directiveEnd,c=n.data,h=r.attrs,y=[];let I=null,x=null;for(let U=r.directiveStart;U<a;U++){const Z=c[U],ae=Z.inputs,Me=null===h||Xg(r)?null:xm(ae,h);y.push(Me),I=pu(ae,U,I),x=pu(Z.outputs,U,x)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=y,r.inputs=I,r.outputs=x}function Cm(n,r){const s=or(r,n);16&s[2]||(s[2]|=32)}function Rd(n,r,s,a){let c=!1;if(ds()){const h=function jp(n,r,s){const a=n.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const y=a[h];Lc(s,y.selectors,!1)&&(c||(c=[]),Qo(Ut(s,r),n,y.type),vr(y)?($p(n,s),c.unshift(y)):c.push(y))}return c}(n,r,s),y=null===a?null:{"":-1};if(null!==h){c=!0,Yh(s,n.data.length,h.length);for(let Z=0;Z<h.length;Z++){const ae=h[Z];ae.providersResolver&&ae.providersResolver(ae)}let I=!1,x=!1,U=oc(n,r,h.length,null);for(let Z=0;Z<h.length;Z++){const ae=h[Z];s.mergedAttrs=ra(s.mergedAttrs,ae.hostAttrs),Sm(n,s,r,U,ae),C_(U,ae,y),null!==ae.contentQueries&&(s.flags|=8),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(s.flags|=128);const Me=ae.type.prototype;!I&&(Me.ngOnChanges||Me.ngOnInit||Me.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),I=!0),!x&&(Me.ngOnChanges||Me.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),x=!0),U++}Zh(n,s)}y&&function D_(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const h=s[r[c+1]];if(null==h)throw new Le(-301,!1);a.push(r[c],h)}}}(s,a,y)}return s.mergedAttrs=ra(s.mergedAttrs,s.attrs),c}function Am(n,r,s,a,c,h){const y=h.hostBindings;if(y){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const x=~r.index;(function Vp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=x&&I.push(x),I.push(a,c,y)}}function Bp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function $p(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function C_(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;vr(r)&&(s[""]=n)}}function Yh(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Sm(n,r,s,a,c){n.data[a]=c;const h=c.factory||(c.factory=Zi(c.type)),y=new ui(h,vr(c),ic);n.blueprint[a]=y,s[a]=y,Am(n,r,0,a,oc(n,s,c.hostVars,lr),c)}function Hp(n,r,s){const a=Nr(r,n),c=qh(s),h=n[10],y=Dr(n,Al(n,c,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));n[r.index]=y}function Ma(n,r,s,a,c,h){const y=Nr(n,r);!function Pd(n,r,s,a,c,h,y){if(null==h)n.removeAttribute(r,c,s);else{const I=null==y?Be(h):y(h,a||"",c);n.setAttribute(r,c,I,s)}}(r[11],y,h,n.value,s,a,c)}function T_(n,r,s,a,c,h){const y=h[r];if(null!==y){const I=a.setInput;for(let x=0;x<y.length;){const U=y[x++],Z=y[x++],ae=y[x++];null!==I?a.setInput(s,ae,U,Z):s[Z]=ae}}}function xm(n,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Mm(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Om(n,r){const s=or(r,n);if(Ls(s)){const a=s[1];48&s[2]?Sl(a,s,a.template,s[8]):s[5]>0&&Qh(s)}}function Qh(n){for(let a=Zu(n);null!==a;a=Aa(a))for(let c=10;c<a.length;c++){const h=a[c];if(Ls(h))if(512&h[2]){const y=h[1];Sl(y,h,y.template,h[8])}else h[5]>0&&Qh(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=or(s[a],n);Ls(c)&&c[5]>0&&Qh(c)}}function Rm(n,r){const s=or(r,n),a=s[1];(function Jh(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Np(a,s,s[8])}function Dr(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Xh(n){for(;n;){n[2]|=32;const r=Eo(n);if(fe(n)&&!r)return n;n=r}return null}function Nd(n,r,s,a=!0){const c=r[10];c.begin&&c.begin();try{Sl(n,r,n.template,s)}catch(y){throw a&&zp(r,y),y}finally{c.end&&c.end()}}function jc(n,r,s){ps(0),r(n,s)}function Bi(n){return n[7]||(n[7]=[])}function Do(n){return n.cleanup||(n.cleanup=[])}function zp(n,r){const s=n[9],a=s?s.get(vd,null):null;a&&a.handleError(r)}function Kp(n,r,s,a,c){for(let h=0;h<s.length;){const y=s[h++],I=s[h++],x=r[y],U=n.data[y];null!==U.setInput?U.setInput(x,c,a,I):x[I]=c}}function kd(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==r)for(let y=0;y<r.length;y++){const I=r[y];"number"==typeof I?h=I:1==h?c=pe(c,I):2==h&&(a=pe(a,I+": "+r[++y]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function Ml(n,r,s,a,c=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Ur(h)),Jr(h))for(let I=10;I<h.length;I++){const x=h[I],U=x[1].firstChild;null!==U&&Ml(x[1],x,U,a)}const y=s.type;if(8&y)Ml(n,r,s.child,a);else if(32&y){const I=Cu(s,r);let x;for(;x=I();)a.push(x)}else if(16&y){const I=Is(r,s);if(Array.isArray(I))a.push(...I);else{const x=Eo(r[16]);Ml(x[1],x,I,a,!0)}}s=c?s.projectionNext:s.next}return a}class Ol{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Ml(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Jr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Au(r,a),ba(s,a))}this._attachedToViewContainer=!1}hh(this._lView[1],this._lView)}onDestroy(r){Dm(this._lView[1],this._lView,null,r)}markForCheck(){Xh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Nd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dh(n,r){Io(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=r}}class ef extends Ol{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Nd(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class qp extends ec{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=ke(r);return new Ld(s,this.ngModule)}}function M_(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class R_{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,Xf,a);return c!==Xf||s===Xf?c:this.parentInjector.get(r,s,a)}}class Ld extends Qf{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function u_(n){return n.map(nm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return M_(this.componentDef.inputs)}get outputs(){return M_(this.componentDef.outputs)}create(r,s,a,c){let h=(c=c||this.ngModule)instanceof zs?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new R_(r,h):r,I=y.get(tc,null);if(null===I)throw new Le(407,!1);const x=y.get(qg,null),U=I.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",ae=a?function Lp(n,r,s){return n.selectRootElement(r,s===Dt.ShadowDom)}(U,a,this.componentDef.encapsulation):pa(U,Z,function O_(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Z)),Me=this.componentDef.onPush?288:272,Ye=Od(0,null,null,1,0,null,null,null,null,null),wt=Al(null,Ye,null,Me,null,null,I,U,x,y,null);let Bt,sn;Ao(wt);try{const Dn=function km(n,r,s,a,c,h){const y=s[1];s[22]=n;const x=Bc(y,22,2,"#host",null),U=x.mergedAttrs=r.hostAttrs;null!==U&&(kd(x,U,!0),null!==n&&(Yo(c,n,U),null!==x.classes&&lu(c,n,x.classes),null!==x.styles&&ma(c,n,x.styles)));const Z=a.createRenderer(n,r),ae=Al(s,qh(r),null,r.onPush?32:16,s[22],x,a,Z,h||null,null,null);return y.firstCreatePass&&(Qo(Ut(x,s),y,r.type),$p(y,x),Yh(x,s.length,1)),Dr(s,ae),s[22]=ae}(ae,this.componentDef,wt,I,U);if(ae)if(a)Yo(U,ae,["ng-version",Jf.full]);else{const{attrs:Gn,classes:xt}=function up(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&r.push(h,n[++a]):8===c&&s.push(h);else{if(!xa(c))break;c=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Gn&&Yo(U,ae,Gn),xt&&xt.length>0&&lu(U,ae,xt.join(" "))}if(sn=ks(Ye,22),void 0!==s){const Gn=sn.projection=[];for(let xt=0;xt<this.ngContentSelectors.length;xt++){const tr=s[xt];Gn.push(null!=tr?Array.from(tr):null)}}Bt=function Zp(n,r,s,a){const c=s[1],h=function I_(n,r,s){const a=kr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Sm(n,a,r,oc(n,r,1,null),s),Zh(n,a));const c=ia(r,n,a.directiveStart,a);ss(c,r);const h=Nr(a,r);return h&&ss(h,r),c}(c,s,r);if(n[8]=s[8]=h,null!==a)for(const I of a)I(h,r);if(r.contentQueries){const I=kr();r.contentQueries(1,h,I.directiveStart)}const y=kr();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(qe(y.index),Am(s[1],y,0,y.directiveStart,y.directiveEnd,r),Bp(r,h)),h}(Dn,this.componentDef,wt,[Yp]),Np(Ye,wt,null)}finally{$()}return new Pm(this.componentType,Bt,El(sn,wt),wt,sn)}}class Pm extends class Xu{}{constructor(r,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new ef(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const h=this._rootLView;Kp(h[1],h,c,r,s),Cm(h,this._tNode.index)}}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Yp(){const n=kr();Ir(vt()[1],n)}function Rl(n){let r=function tf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(vr(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Le(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const y=n;y.inputs=nf(n.inputs),y.declaredInputs=nf(n.declaredInputs),y.outputs=nf(n.outputs);const I=c.hostBindings;I&&Xp(n,I);const x=c.viewQuery,U=c.contentQueries;if(x&&rf(n,x),U&&Jp(n,U),de(n.inputs,c.inputs),de(n.declaredInputs,c.declaredInputs),de(n.outputs,c.outputs),vr(c)&&c.data.animation){const Z=n.data;Z.animation=(Z.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const I=h[y];I&&I.ngInherit&&I(n),I===Rl&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Qp(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=ra(c.hostAttrs,s=ra(s,c.hostAttrs))}}(a)}function nf(n){return n===$r?{}:n===vn?[]:n}function rf(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Jp(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,h)=>{r(a,c,h),s(a,c,h)}:r}function Xp(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let sf=null;function $c(){if(!sf){const n=Wn.Symbol;if(n&&n.iterator)sf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(sf=a)}}}return sf}function Nl(n){return!!tg(n)&&(Array.isArray(n)||!(n instanceof Map)&&$c()in n)}function tg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function gu(n,r,s){return n[r]=s}function fo(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Vm(n,r,s,a){const c=vt();return fo(c,zt(),r)&&(zn(),Ma(ut(),c,n,r,s,a)),Vm}function $m(n,r,s,a,c,h,y,I){const x=vt(),U=zn(),Z=n+22,ae=U.firstCreatePass?function V_(n,r,s,a,c,h,y,I,x){const U=r.consts,Z=Bc(r,n,4,y||null,vi(U,I));Rd(r,s,Z,vi(U,x)),Ir(r,Z);const ae=Z.tViews=Od(2,Z,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U);return null!==r.queries&&(r.queries.template(r,Z),ae.queries=r.queries.embeddedTView(Z)),Z}(Z,U,x,r,s,a,c,h,y):U.data[Z];qi(ae,!1);const Me=x[11].createComment("");Dc(U,x,Me,ae),ss(Me,x),Dr(x,x[Z]=Mm(Me,x,Me,ae)),Ps(ae)&&kp(U,x,ae),null!=y&&Md(x,ae,I)}function Bl(n,r,s){const a=vt();return fo(a,zt(),r)&&function Go(n,r,s,a,c,h,y,I){const x=Nr(r,s);let Z,U=r.inputs;!I&&null!=U&&(Z=U[a])?(Kp(n,s,Z,a,c),Rr(r)&&Cm(s,r.index)):3&r.type&&(a=function w_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=y?y(c,r.value||"",a):c,h.setProperty(x,a,c))}(zn(),ut(),a,n,r,a[11],s,!1),Bl}function rg(n,r,s,a,c){const y=c?"class":"style";Kp(n,s,r.inputs[y],y,a)}function Kc(n,r,s,a){const c=vt(),h=zn(),y=22+n,I=c[11],x=c[y]=pa(I,r,function Kn(){return In.lFrame.currentNamespace}()),U=h.firstCreatePass?function zc(n,r,s,a,c,h,y){const I=r.consts,U=Bc(r,n,2,c,vi(I,h));return Rd(r,s,U,vi(I,y)),null!==U.attrs&&kd(U,U.attrs,!1),null!==U.mergedAttrs&&kd(U,U.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,U),U}(y,h,c,0,r,s,a):h.data[y];qi(U,!0);const Z=U.mergedAttrs;null!==Z&&Yo(I,x,Z);const ae=U.classes;null!==ae&&lu(I,x,ae);const Me=U.styles;return null!==Me&&ma(I,x,Me),64!=(64&U.flags)&&Dc(h,c,x,U),0===function Co(){return In.lFrame.elementDepthCount}()&&ss(x,c),function Qs(){In.lFrame.elementDepthCount++}(),Ps(U)&&(kp(h,c,U),function Kh(n,r,s){if(Cs(r)){const c=r.directiveEnd;for(let h=r.directiveStart;h<c;h++){const y=n.data[h];y.contentQueries&&y.contentQueries(1,s[h],h)}}}(h,U,c)),null!==a&&Md(c,U),Kc}function uc(){let n=kr();xs()?function es(){In.lFrame.isParent=!1}():(n=n.parent,qi(n,!1));const r=n;!function Ti(){In.lFrame.elementDepthCount--}();const s=zn();return s.firstCreatePass&&(Ir(s,n),Cs(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Eu(n){return 0!=(16&n.flags)}(r)&&rg(s,r,vt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function js(n){return 0!=(32&n.flags)}(r)&&rg(s,r,vt(),r.stylesWithoutHost,!1),uc}function cf(n,r,s,a){return Kc(n,r,s,a),uc(),cf}function lf(){return vt()}function Ud(n){return!!n&&"function"==typeof n.then}function ag(n){return!!n&&"function"==typeof n.subscribe}const cc=ag;function df(n,r,s,a){const c=vt(),h=zn(),y=kr();return function hf(n,r,s,a,c,h,y,I){const x=Ps(a),Z=n.firstCreatePass&&Do(n),ae=r[8],Me=Bi(r);let Ye=!0;if(3&a.type||I){const sn=Nr(a,r),Dn=I?I(sn):sn,Gn=Me.length,xt=I?gi=>I(Ur(gi[a.index])):a.index;let tr=null;if(!I&&x&&(tr=function cg(n,r,s,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===s&&c[h+1]===a){const I=r[7],x=c[h+2];return I.length>x?I[x]:null}"string"==typeof y&&(h+=2)}return null}(n,r,c,a.index)),null!==tr)(tr.__ngLastListenerFn__||tr).__ngNextListenerFn__=h,tr.__ngLastListenerFn__=h,Ye=!1;else{h=Bd(a,r,ae,h,!1);const gi=s.listen(Dn,c,h);Me.push(h,gi),Z&&Z.push(c,xt,Gn,Gn+1)}}else h=Bd(a,r,ae,h,!1);const wt=a.outputs;let Bt;if(Ye&&null!==wt&&(Bt=wt[c])){const sn=Bt.length;if(sn)for(let Dn=0;Dn<sn;Dn+=2){const Ds=r[Bt[Dn]][Bt[Dn+1]].subscribe(h),Qd=Me.length;Me.push(h,Ds),Z&&Z.push(c,a.index,Qd,-(Qd+1))}}}(h,c,c[11],y,n,r,0,a),df}function zm(n,r,s,a){try{return!1!==s(a)}catch(c){return zp(n,c),!1}}function Bd(n,r,s,a,c){return function h(y){if(y===Function)return a;Xh(2&n.flags?or(n.index,r):r);let x=zm(r,0,a,y),U=h.__ngNextListenerFn__;for(;U;)x=zm(r,0,U,y)&&x,U=U.__ngNextListenerFn__;return c&&!1===x&&(y.preventDefault(),y.returnValue=!1),x}}function jd(n=1){return function P(n){return(In.lFrame.contextLView=function K(n,r){for(;n>0;)r=r[15],n--;return r}(n,In.lFrame.contextLView))[8]}(n)}function ey(n,r,s,a,c){const h=n[s+1],y=null===r;let I=a?ko(h):hu(h),x=!1;for(;0!==I&&(!1===x||y);){const Z=n[I+1];ty(n[I],r)&&(x=!0,n[I+1]=a?Dd(Z):Dp(Z)),I=a?ko(Z):hu(Z)}x&&(n[s+1]=a?Dp(h):Dd(h))}function ty(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&v(n,r)>=0}function yu(n,r){return function qa(n,r,s,a){const c=vt(),h=zn(),y=function dr(n){const r=In.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);h.firstUpdatePass&&function uy(n,r,s,a){const c=n.data;if(null===c[s+1]){const h=c[Ee()],y=function hg(n,r){return r>=n.expandoStartIndex}(n,s);(function fy(n,r){return 0!=(n.flags&(r?16:32))})(h,a)&&null===r&&!y&&(r=!1),r=function G_(n,r,s,a){const c=function Bs(n){const r=In.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=gf(s=Wd(null,n,r,s,a),r.attrs,a),h=null);else{const y=r.directiveStylingLast;if(-1===y||n[y]!==c)if(s=Wd(c,n,r,s,a),null===h){let x=function cy(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==hu(a))return n[ko(a)]}(n,r,a);void 0!==x&&Array.isArray(x)&&(x=Wd(null,n,r,x[1],a),x=gf(x,r.attrs,a),function W_(n,r,s,a){n[ko(s?r.classBindings:r.styleBindings)]=a}(n,r,a,x))}else h=function Gl(n,r,s){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=gf(a,n[h].hostAttrs,s);return gf(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(c,h,r,a),function Xm(n,r,s,a,c,h){let y=h?r.classBindings:r.styleBindings,I=ko(y),x=hu(y);n[a]=s;let Z,U=!1;if(Array.isArray(s)){const ae=s;Z=ae[1],(null===Z||v(ae,Z)>0)&&(U=!0)}else Z=s;if(c)if(0!==x){const Me=ko(n[I+1]);n[a+1]=bd(Me,I),0!==Me&&(n[Me+1]=jh(n[Me+1],a)),n[I+1]=function g_(n,r){return 131071&n|r<<17}(n[I+1],a)}else n[a+1]=bd(I,0),0!==I&&(n[I+1]=jh(n[I+1],a)),I=a;else n[a+1]=bd(x,0),0===I?I=a:n[x+1]=jh(n[x+1],a),x=a;U&&(n[a+1]=Dp(n[a+1])),ey(n,Z,a,!0),ey(n,Z,a,!1),function B_(n,r,s,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&v(h,r)>=0&&(s[a+1]=Dd(s[a+1]))}(r,Z,n,a,h),y=bd(I,x),h?r.classBindings=y:r.styleBindings=y}(c,h,r,s,y,a)}}(h,n,y,a),r!==lr&&fo(c,y,r)&&function Uu(n,r,s,a,c,h,y,I){if(!(3&r.type))return;const x=n.data,U=x[I+1];mf(function cm(n){return 1==(1&n)}(U)?hy(x,r,s,c,hu(U),y):void 0)||(mf(h)||function Bh(n){return 2==(2&n)}(U)&&(h=hy(x,null,s,c,I,y)),function gh(n,r,s,a,c){if(r)c?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:fa.DashCase;null==c?n.removeStyle(s,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=fa.Important),n.setStyle(s,a,c,h))}}(a,y,fi(Ee(),s),c,h))}(h,h.data[Ee()],c,c[11],n,c[y+1]=function z_(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=he(pi(n)))),n}(r,s),a,y)}(n,r,null,!0),yu}function Wd(n,r,s,a,c){let h=null;const y=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<y&&(h=r[I],a=gf(a,h.hostAttrs,c),h!==n);)I++;return null!==n&&(s.directiveStylingLast=I),a}function gf(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const y=r[h];"number"==typeof y?c=y:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Lr(n,y,!!s||r[++h]))}return void 0===n?null:n}function hy(n,r,s,a,c,h){const y=null===r;let I;for(;c>0;){const x=n[c],U=Array.isArray(x),Z=U?x[1]:x,ae=null===Z;let Me=s[c+1];Me===lr&&(Me=ae?vn:void 0);let Ye=ae?Fr(Me,a):Z===a?Me:void 0;if(U&&!mf(Ye)&&(Ye=Fr(x,a)),mf(Ye)&&(I=Ye,y))return I;const wt=n[c+1];c=y?ko(wt):hu(wt)}if(null!==r){let x=h?r.residualClasses:r.residualStyles;null!=x&&(I=Fr(x,a))}return I}function mf(n){return void 0!==n}function py(n,r=""){const s=vt(),a=zn(),c=n+22,h=a.firstCreatePass?Bc(a,c,1,r,null):a.data[c],y=s[c]=function Sr(n,r){return n.createText(r)}(s[11],r);Dc(a,s,y,h),qi(h,!1)}function fg(n){return yf("",n,""),fg}function yf(n,r,s){const a=vt(),c=function ji(n,r,s,a){return fo(n,zt(),s)?r+Be(s)+a:lr}(a,n,r,s);return c!==lr&&function Oa(n,r,s){const a=fi(r,n);!function ed(n,r,s){n.setValue(r,s)}(n[11],a,s)}(a,Ee(),c),yf}const Qc=void 0;var X_=["en",[["a","p"],["AM","PM"],Qc],[["AM","PM"],Qc,Qc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qc,"{1} 'at' {0}",Qc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ay(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let fc={};function If(n){const r=function xy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Sy(r);if(s)return s;const a=r.split("-")[0];if(s=Sy(a),s)return s;if("en"===a)return X_;throw new Le(701,!1)}function bf(n){return If(n)[$n.PluralCase]}function Sy(n){return n in fc||(fc[n]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[n]),fc[n]}var $n=(()=>(($n=$n||{})[$n.LocaleId=0]="LocaleId",$n[$n.DayPeriodsFormat=1]="DayPeriodsFormat",$n[$n.DayPeriodsStandalone=2]="DayPeriodsStandalone",$n[$n.DaysFormat=3]="DaysFormat",$n[$n.DaysStandalone=4]="DaysStandalone",$n[$n.MonthsFormat=5]="MonthsFormat",$n[$n.MonthsStandalone=6]="MonthsStandalone",$n[$n.Eras=7]="Eras",$n[$n.FirstDayOfWeek=8]="FirstDayOfWeek",$n[$n.WeekendRange=9]="WeekendRange",$n[$n.DateFormat=10]="DateFormat",$n[$n.TimeFormat=11]="TimeFormat",$n[$n.DateTimeFormat=12]="DateTimeFormat",$n[$n.NumberSymbols=13]="NumberSymbols",$n[$n.NumberFormats=14]="NumberFormats",$n[$n.CurrencyCode=15]="CurrencyCode",$n[$n.CurrencySymbol=16]="CurrencySymbol",$n[$n.CurrencyName=17]="CurrencyName",$n[$n.Currencies=18]="Currencies",$n[$n.Directionality=19]="Directionality",$n[$n.PluralCase=20]="PluralCase",$n[$n.ExtraData=21]="ExtraData",$n))();const Jc="en-US";let i=Jc;function sv(n,r,s,a,c){if(n=ie(n),Array.isArray(n))for(let h=0;h<n.length;h++)sv(n[h],r,s,a,c);else{const h=zn(),y=vt();let I=Oc(n)?n:ie(n.provide),x=ku(n);const U=kr(),Z=1048575&U.providerIndexes,ae=U.directiveStart,Me=U.providerIndexes>>20;if(Oc(n)||!n.multi){const Ye=new ui(x,c,ic),wt=av(I,r,c?Z:Z+Me,ae);-1===wt?(Qo(Ut(U,y),h,I),ov(h,n,r.length),r.push(I),U.directiveStart++,U.directiveEnd++,c&&(U.providerIndexes+=1048576),s.push(Ye),y.push(Ye)):(s[wt]=Ye,y[wt]=Ye)}else{const Ye=av(I,r,Z+Me,ae),wt=av(I,r,Z,Z+Me),Bt=Ye>=0&&s[Ye],sn=wt>=0&&s[wt];if(c&&!sn||!c&&!Bt){Qo(Ut(U,y),h,I);const Dn=function PE(n,r,s,a,c){const h=new ui(n,s,ic);return h.multi=[],h.index=r,h.componentProviders=0,bw(h,c,a&&!s),h}(c?RE:OE,s.length,c,a,x);!c&&sn&&(s[wt].providerFactory=Dn),ov(h,n,r.length,0),r.push(I),U.directiveStart++,U.directiveEnd++,c&&(U.providerIndexes+=1048576),s.push(Dn),y.push(Dn)}else ov(h,n,Ye>-1?Ye:wt,bw(s[c?wt:Ye],x,!c&&a));!c&&a&&sn&&s[wt].componentProviders++}}}function ov(n,r,s,a){const c=Oc(r),h=function $g(n){return!!n.useClass}(r);if(c||h){const x=(h?ie(r.useClass):r).prototype.ngOnDestroy;if(x){const U=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const Z=U.indexOf(s);-1===Z?U.push(s,[a,x]):U[Z+1].push(a,x)}else U.push(s,x)}}}function bw(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function av(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function OE(n,r,s,a){return uv(this.multi,[])}function RE(n,r,s,a){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=ia(s,s[1],this.providerFactory.index,a);h=I.slice(0,y),uv(c,h);for(let x=y;x<I.length;x++)h.push(I[x])}else h=[],uv(c,h);return h}function uv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Dw(n,r=[]){return s=>{s.providersResolver=(a,c)=>function ME(n,r,s){const a=zn();if(a.firstCreatePass){const c=vr(n);sv(s,a.data,a.blueprint,c,!0),sv(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class Cf{}class Cw{}function NE(n,r){return new Tw(n,r??null)}class Tw extends Cf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qp(this);const a=Jn(r);this._bootstrapComponents=Wa(a.bootstrap),this._r3Injector=pp(r,s,[{provide:Cf,useValue:this},{provide:ec,useValue:this.componentFactoryResolver}],he(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class cv extends Cw{constructor(r){super(),this.moduleType=r}create(r){return new Tw(this.moduleType,r)}}class kE extends Cf{constructor(r,s,a){super(),this.componentFactoryResolver=new qp(this),this.instance=null;const c=new Yf([...r,{provide:Cf,useValue:this},{provide:ec,useValue:this.componentFactoryResolver}],s||yd(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function lv(n,r,s=null){return new kE(n,r,s).injector}let LE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=_l(0,s.type),c=a.length>0?lv([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Kt({token:n,providedIn:"environment",factory:()=>new n(ce(zs))}),n})();function Aw(n){n.getStandaloneInjector=r=>r.get(LE).getOrCreateStandaloneInjector(n)}function Nw(n,r,s,a,c){return function Lw(n,r,s,a,c,h,y){const I=r+s;return function Hc(n,r,s,a){const c=fo(n,r,s);return fo(n,r+1,a)||c}(n,I,c,h)?gu(n,I+2,y?a.call(y,c,h):a(c,h)):Eg(n,I+2)}(vt(),A(),n,r,s,a,c)}function Eg(n,r){const s=n[r];return s===lr?void 0:s}function Bw(n,r){const s=zn();let a;const c=n+22;s.firstCreatePass?(a=function eI(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const h=a.factory||(a.factory=Zi(a.type)),y=Cn(ic);try{const I=Q(!1),x=h();return Q(I),function Hm(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,vt(),c,x),x}finally{Cn(y)}}function jw(n,r,s){const a=n+22,c=vt(),h=function cs(n,r){return n[r]}(c,a);return function Ig(n,r){return n[1].data[r].pure}(c,a)?function kw(n,r,s,a,c,h){const y=r+s;return fo(n,y,c)?gu(n,y+1,h?a.call(h,c):a(c)):Eg(n,y+1)}(c,A(),r,h.transform,s,h):h.transform(s)}function hv(n){return r=>{setTimeout(n,void 0,r)}}const pc=class sI extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,h=s||(()=>null),y=a;if(r&&"object"==typeof r){const x=r;c=x.next?.bind(x),h=x.error?.bind(x),y=x.complete?.bind(x)}this.__isAsync&&(h=hv(h),c&&(c=hv(c)),y&&(y=hv(y)));const I=super.subscribe({next:c,error:h,complete:y});return r instanceof S.w0&&r.add(I),I}};function oI(){return this._results[$c()]()}class fv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=$c(),a=fv.prototype;a[s]||(a[s]=oI)}get changes(){return this._changes||(this._changes=new pc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=rs(r);(this._changesDetected=!function la(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=r[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let bg=(()=>{class n{}return n.__NG_ELEMENT_ID__=cI,n})();const aI=bg,uI=class extends aI{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=Al(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(c[19]=y.createEmbeddedView(a)),Np(a,c,r),new Ol(c)}};function cI(){return Ry(kr(),vt())}function Ry(n,r){return 4&n.type?new uI(r,n,El(n,r)):null}let Py=(()=>{class n{}return n.__NG_ELEMENT_ID__=lI,n})();function lI(){return Gw(kr(),vt())}const dI=Py,$w=class extends dI{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return El(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ei(this._hostTNode,this._hostLView);if(wi(r)){const s=C(r,this._hostLView),a=qr(r);return new no(s[1].data[a+8],s)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Hw(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const y=r.createEmbeddedView(s||{},h);return this.insert(y,c),y}createComponent(r,s,a,c,h){const y=r&&!function Oo(n){return"function"==typeof n}(r);let I;if(y)I=s;else{const ae=s||{};I=ae.index,a=ae.injector,c=ae.projectableNodes,h=ae.environmentInjector||ae.ngModuleRef}const x=y?r:new Ld(ke(r)),U=a||this.parentInjector;if(!h&&null==x.ngModule){const Me=(y?U:this.parentInjector).get(zs,null);Me&&(h=Me)}const Z=x.create(U,c,void 0,h);return this.insert(Z.hostView,I),Z}insert(r,s){const a=r._lView,c=a[1];if(function Lo(n){return Jr(n[3])}(a)){const Z=this.indexOf(r);if(-1!==Z)this.detach(Z);else{const ae=a[3],Me=new $w(ae,ae[6],ae[3]);Me.detach(Me.indexOf(r))}}const h=this._adjustIndex(s),y=this._lContainer;!function Yu(n,r,s,a){const c=10+a,h=s.length;a>0&&(s[c-1][4]=r),a<h-10?(r[4]=s[c],tu(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const y=r[17];null!==y&&s!==y&&function Sa(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(y,r);const I=r[19];null!==I&&I.insertView(n),r[2]|=64}(c,a,y,h);const I=Cc(h,y),x=a[11],U=cu(x,y[7]);return null!==U&&function No(n,r,s,a,c,h){a[0]=c,a[6]=r,Io(n,a,s,1,c,h)}(c,y[6],x,a,U,I),r.attachToViewContainerRef(),tu(pv(y),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Hw(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Au(this._lContainer,s);a&&(ba(pv(this._lContainer),s),hh(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Au(this._lContainer,s);return a&&null!=ba(pv(this._lContainer),s)?new Ol(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function Hw(n){return n[8]}function pv(n){return n[8]||(n[8]=[])}function Gw(n,r){let s;const a=r[n.index];if(Jr(a))s=a;else{let c;if(8&n.type)c=Ur(a);else{const h=r[11];c=h.createComment("");const y=Nr(n,r);na(h,cu(h,y),c,function nd(n,r){return n.nextSibling(r)}(h,y),!1)}r[n.index]=s=Mm(a,r,c,n),Dr(r,s)}return new $w(s,n,r)}class gv{constructor(r){this.queryList=r,this.matches=null}clone(){return new gv(this.queryList)}setDirty(){this.queryList.setDirty()}}class mv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const y=s.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new mv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Jw(r,s).matches&&this.queries[s].setDirty()}}class Ww{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class yv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new yv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class _v{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new _v(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,s,pI(s,h)),this.matchTNodeWithReadOption(r,s,$o(s,r,h,!1,!1))}else a===bg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,$o(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Il||c===Py||c===bg&&4&s.type)this.addMatch(s.index,-2);else{const h=$o(s,r,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function pI(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function mI(n,r,s,a){return-1===s?function gI(n,r){return 11&n.type?El(n,r):4&n.type?Ry(n,r):null}(r,n):-2===s?function yI(n,r,s){return s===Il?El(r,n):s===bg?Ry(r,n):s===Py?Gw(r,n):void 0}(n,r,a):ia(n,n[1],s,r)}function zw(n,r,s,a){const c=r[19].queries[a];if(null===c.matches){const h=n.data,y=s.matches,I=[];for(let x=0;x<y.length;x+=2){const U=y[x];I.push(U<0?null:mI(r,h[U],y[x+1],s.metadata.read))}c.matches=I}return c.matches}function vv(n,r,s,a){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const y=zw(n,r,c,s);for(let I=0;I<h.length;I+=2){const x=h[I];if(x>0)a.push(y[I/2]);else{const U=h[I+1],Z=r[-x];for(let ae=10;ae<Z.length;ae++){const Me=Z[ae];Me[17]===Me[3]&&vv(Me[1],Me,U,a)}if(null!==Z[9]){const ae=Z[9];for(let Me=0;Me<ae.length;Me++){const Ye=ae[Me];vv(Ye[1],Ye,U,a)}}}}}return a}function Kw(n){const r=vt(),s=zn(),a=qo();ps(a+1);const c=Jw(s,a);if(n.dirty&&function Ys(n){return 4==(4&n[2])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?vv(s,r,a,[]):zw(s,r,c,a);n.reset(h,Qy),n.notifyOnChanges()}return!0}return!1}function qw(n,r,s,a){const c=zn();if(c.firstCreatePass){const h=kr();(function Qw(n,r,s){null===n.queries&&(n.queries=new yv),n.queries.track(new _v(r,s))})(c,new Ww(r,s,a),h.index),function wI(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}!function Yw(n,r,s){const a=new fv(4==(4&s));Dm(n,r,a,a.destroy),null===r[19]&&(r[19]=new mv),r[19].queries.push(new gv(a))}(c,vt(),s)}function Zw(){return function vI(n,r){return n[19].queries[r].queryList}(vt(),qo())}function Jw(n,r){return n.queries.getByIndex(r)}function ky(...n){}const _0=new br("Application Initializer");let Ly=(()=>{class n{constructor(s){this.appInits=s,this.resolve=ky,this.reject=ky,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Ud(h))s.push(h);else if(cc(h)){const y=new Promise((I,x)=>{h.subscribe({complete:I,error:x})});s.push(y)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ce(_0,8))},n.\u0275prov=Kt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v0=new br("AppId",{providedIn:"root",factory:function w0(){return`${Dv()}${Dv()}${Dv()}`}});function Dv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const E0=new br("Platform Initializer"),jI=new br("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),I0=new br("appBootstrapListener");let $I=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Kt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Fy=new br("LocaleId",{providedIn:"root",factory:()=>Je(Fy,It.Optional|It.SkipSelf)||function HI(){return typeof $localize<"u"&&$localize.locale||Jc}()}),GI=new br("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let zI=(()=>{class n{compileModuleSync(s){return new cv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Wa(Jn(s).declarations).reduce((y,I)=>{const x=ke(I);return x&&y.push(new Ld(x)),y},[]);return new WI(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Kt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZI=(()=>Promise.resolve(0))();function Cv(n){typeof Zone>"u"?ZI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class wu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pc(!1),this.onMicrotaskEmpty=new pc(!1),this.onStable=new pc(!1),this.onError=new pc(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function YI(){let n=Wn.requestAnimationFrame,r=Wn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function XI(n){const r=()=>{!function JI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Wn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Av(n),n.isCheckStableRunning=!0,Tv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Av(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,y,I)=>{try{return C0(n),s.invokeTask(c,h,y,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),T0(n)}},onInvoke:(s,a,c,h,y,I,x)=>{try{return C0(n),s.invoke(c,h,y,I,x)}finally{n.shouldCoalesceRunChangeDetection&&r(),T0(n)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,Av(n),Tv(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wu.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(wu.isInAngularZone())throw new Le(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,r,QI,ky,ky);try{return h.runTask(y,s,a)}finally{h.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const QI={};function Tv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Av(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function C0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function T0(n){n._nesting--,Tv(n)}class eb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pc,this.onMicrotaskEmpty=new pc,this.onStable=new pc,this.onError=new pc}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const A0=new br(""),S0=new br("");let Sv,tb=(()=>{class n{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sv||(function nb(n){Sv=n}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wu.assertNotInAngularZone(),Cv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(ce(wu),ce(x0),ce(S0))},n.\u0275prov=Kt({token:n,factory:n.\u0275fac}),n})(),x0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Sv?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Kt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),zl=null;const M0=new br("AllowMultipleToken"),xv=new br("PlatformDestroyListeners");class sb{constructor(r,s){this.name=r,this.token=s}}function R0(n,r,s=[]){const a=`Platform: ${r}`,c=new br(a);return(h=[])=>{let y=Mv();if(!y||y.injector.get(M0,!1)){const I=[...s,...h,{provide:c,useValue:!0}];n?n(I):function ob(n){if(zl&&!zl.get(M0,!1))throw new Le(400,!1);zl=n;const r=n.get(N0);(function O0(n){const r=n.get(E0,null);r&&r.forEach(s=>s())})(n)}(function P0(n=[],r){return Fc.create({name:r,providers:[{provide:Rc,useValue:"platform"},{provide:xv,useValue:new Set([()=>zl=null])},...n]})}(I,a))}return function ub(n){const r=Mv();if(!r)throw new Le(401,!1);return r}()}}function Mv(){return zl?.get(N0)??null}let N0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function L0(n,r){let s;return s="noop"===n?new eb:("zone.js"===n?void 0:n)||new wu(r),s}(a?.ngZone,function k0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:wu,useValue:c}];return c.run(()=>{const y=Fc.create({providers:h,parent:this.injector,name:s.moduleType.name}),I=s.create(y),x=I.injector.get(vd,null);if(!x)throw new Le(402,!1);return c.runOutsideAngular(()=>{const U=c.onError.subscribe({next:Z=>{x.handleError(Z)}});I.onDestroy(()=>{Uy(this._modules,I),U.unsubscribe()})}),function F0(n,r,s){try{const a=s();return Ud(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(x,c,()=>{const U=I.injector.get(Ly);return U.runInitializers(),U.donePromise.then(()=>(function e(n){on(n,"Expected localeId to be defined"),"string"==typeof n&&(i=n.toLowerCase().replace(/_/g,"-"))}(I.injector.get(Fy,Jc)||Jc),this._moduleDoBootstrap(I),I))})})}bootstrapModule(s,a=[]){const c=V0({},a);return function rb(n,r,s){const a=new cv(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(Vy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Le(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(xv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ce(Fc))},n.\u0275prov=Kt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function V0(n,r){return Array.isArray(r)?r.reduce(V0,n):{...n,...r}}let Vy=(()=>{class n{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new j.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),y=new j.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{wu.assertNotInAngularZone(),Cv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{wu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),U.unsubscribe()}});this.isStable=(0,ge.T)(h,y.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Qf;if(!this._injector.get(Ly).done)throw!c&&Ln(s),new Le(405,false);let y;y=c?s:this._injector.get(ec).resolveComponentFactory(s),this.componentTypes.push(y.componentType);const I=function ib(n){return n.isBoundToModule}(y)?void 0:this._injector.get(Cf),U=y.create(Fc.NULL,[],a||y.selector,I),Z=U.location.nativeElement,ae=U.injector.get(A0,null);return ae?.registerApplication(Z),U.onDestroy(()=>{this.detachView(U.hostView),Uy(this.components,U),ae?.unregisterApplication(Z)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Uy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(I0,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Uy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Le(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(ce(wu),ce(zs),ce(vd))},n.\u0275prov=Kt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let B0=!0,j0=!1;function lb(){return j0=!0,B0}function db(){if(j0)throw new Error("Cannot enable prod mode after platform setup.");B0=!1}let hb=(()=>{class n{}return n.__NG_ELEMENT_ID__=fb,n})();function fb(n){return function pb(n,r,s){if(Rr(n)&&!s){const a=or(n.index,r);return new Ol(a,a)}return 47&n.type?new Ol(r[16],r):null}(kr(),vt(),16==(16&n))}class W0{constructor(){}supports(r){return Nl(r)}create(r){return new wb(r)}}const vb=(n,r)=>r;class wb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const y=!a||s&&s.currentIndex<K0(a,c,h)?s:a,I=K0(y,c,h),x=y.currentIndex;if(y===a)c--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{h||(h=[]);const U=I-c,Z=x-c;if(U!=Z){for(let Me=0;Me<U;Me++){const Ye=Me<h.length?h[Me]:h[Me]=0,wt=Ye+Me;Z<=wt&&wt<U&&(h[Me]=Ye+1)}h[y.previousIndex]=Z-U}}I!==x&&r(y,I,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Nl(r))throw new Le(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)h=r[I],y=this._trackByFn(I,h),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,h,y,I)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,I),a=!0),s=s._next}else c=0,function Fm(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[$c()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,I=>{y=this._trackByFn(c,I),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,I,y,c)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,y,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,c)):r=this._addAfter(new Eb(s,a),h,c),r}_verifyReinsertion(r,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new z0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new z0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Eb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ib{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class z0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Ib,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K0(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class q0{constructor(){}supports(r){return r instanceof Map||tg(r)}create(){return new bb}}class bb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||tg(r)))throw new Le(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const a=new Db(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Db{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Z0(){return new kv([new W0])}let kv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Z0()),deps:[[n,new Po,new Ai]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Le(901,!1)}}return n.\u0275prov=Kt({token:n,providedIn:"root",factory:Z0}),n})();function Y0(){return new Lv([new q0])}let Lv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Y0()),deps:[[n,new Po,new Ai]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Le(901,!1)}}return n.\u0275prov=Kt({token:n,providedIn:"root",factory:Y0}),n})();const Ab=R0(null,"core",[]);let Sb=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ce(Vy))},n.\u0275mod=gn({type:n}),n.\u0275inj=St({}),n})();function xb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Se,X,O)=>{"use strict";O.d(X,{Fj:()=>Xe,qu:()=>xs,u:()=>us,sg:()=>zi,JJ:()=>bn,JL:()=>kn,wV:()=>Sn,UX:()=>Fs,kI:()=>le,_Y:()=>pt});var p=O(4650),S=O(6895),j=O(8996),ge=O(9751),re=O(4742),_e=O(8421),de=O(7669),he=O(5403),pe=O(3268),te=O(1810),ie=O(4004);let je=(()=>{class F{constructor(A,q){this._renderer=A,this._elementRef=q,this.onChange=Ge=>{},this.onTouched=()=>{}}setProperty(A,q){this._renderer.setProperty(this._elementRef.nativeElement,A,q)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return F.\u0275fac=function(A){return new(A||F)(p.Y36(p.Qsj),p.Y36(p.SBq))},F.\u0275dir=p.lG2({type:F}),F})(),He=(()=>{class F extends je{}return F.\u0275fac=function(){let N;return function(q){return(N||(N=p.n5z(F)))(q||F)}}(),F.\u0275dir=p.lG2({type:F,features:[p.qOj]}),F})();const Le=new p.OlP("NgValueAccessor"),Re={provide:Le,useExisting:(0,p.Gpc)(()=>Xe),multi:!0},Et=new p.OlP("CompositionEventMode");let Xe=(()=>{class F extends je{constructor(A,q,Ge){super(A,q),this._compositionMode=Ge,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ve(){const F=(0,S.q)()?(0,S.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return F.\u0275fac=function(A){return new(A||F)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Et,8))},F.\u0275dir=p.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,q){1&A&&p.NdJ("input",function(zt){return q._handleInput(zt.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(zt){return q._compositionEnd(zt.target.value)})},features:[p._Bn([Re]),p.qOj]}),F})();function Fe(F){return null==F||("string"==typeof F||Array.isArray(F))&&0===F.length}function _t(F){return null!=F&&"number"==typeof F.length}const dt=new p.OlP("NgValidators"),ee=new p.OlP("NgAsyncValidators"),Ke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class le{static min(N){return function Ae(F){return N=>{if(Fe(N.value)||Fe(F))return null;const A=parseFloat(N.value);return!isNaN(A)&&A<F?{min:{min:F,actual:N.value}}:null}}(N)}static max(N){return function xe(F){return N=>{if(Fe(N.value)||Fe(F))return null;const A=parseFloat(N.value);return!isNaN(A)&&A>F?{max:{max:F,actual:N.value}}:null}}(N)}static required(N){return function Pe(F){return Fe(F.value)?{required:!0}:null}(N)}static requiredTrue(N){return function yt(F){return!0===F.value?null:{required:!0}}(N)}static email(N){return function st(F){return Fe(F.value)||Ke.test(F.value)?null:{email:!0}}(N)}static minLength(N){return function Ot(F){return N=>Fe(N.value)||!_t(N.value)?null:N.value.length<F?{minlength:{requiredLength:F,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function Jt(F){return N=>_t(N.value)&&N.value.length>F?{maxlength:{requiredLength:F,actualLength:N.value.length}}:null}(N)}static pattern(N){return function on(F){if(!F)return gt;let N,A;return"string"==typeof F?(A="","^"!==F.charAt(0)&&(A+="^"),A+=F,"$"!==F.charAt(F.length-1)&&(A+="$"),N=new RegExp(A)):(A=F.toString(),N=F),q=>{if(Fe(q.value))return null;const Ge=q.value;return N.test(Ge)?null:{pattern:{requiredPattern:A,actualValue:Ge}}}}(N)}static nullValidator(N){return null}static compose(N){return Pt(N)}static composeAsync(N){return Pn(N)}}function gt(F){return null}function Xt(F){return null!=F}function qt(F){return(0,p.QGY)(F)?(0,j.D)(F):F}function mn(F){let N={};return F.forEach(A=>{N=null!=A?{...N,...A}:N}),0===Object.keys(N).length?null:N}function Kt(F,N){return N.map(A=>A(F))}function St(F){return F.map(N=>function ht(F){return!F.validate}(N)?N:A=>N.validate(A))}function Pt(F){if(!F)return null;const N=F.filter(Xt);return 0==N.length?null:function(A){return mn(Kt(A,N))}}function Gt(F){return null!=F?Pt(St(F)):null}function Pn(F){if(!F)return null;const N=F.filter(Xt);return 0==N.length?null:function(A){return function ne(...F){const N=(0,de.jO)(F),{args:A,keys:q}=(0,re.D)(F),Ge=new ge.y(zt=>{const{length:dr}=A;if(!dr)return void zt.complete();const ts=new Array(dr);let Li=dr,fs=dr;for(let Us=0;Us<dr;Us++){let eo=!1;(0,_e.Xf)(A[Us]).subscribe((0,he.x)(zt,Bs=>{eo||(eo=!0,fs--),ts[Us]=Bs},()=>Li--,void 0,()=>{(!Li||!eo)&&(fs||zt.next(q?(0,te.n)(q,ts):ts),zt.complete())}))}});return N?Ge.pipe((0,pe.Z)(N)):Ge}(Kt(A,N).map(qt)).pipe((0,ie.U)(mn))}}function xn(F){return null!=F?Pn(St(F)):null}function nr(F,N){return null===F?[N]:Array.isArray(F)?[...F,N]:[F,N]}function fn(F){return F._rawValidators}function Zt(F){return F._rawAsyncValidators}function Rn(F){return F?Array.isArray(F)?F:[F]:[]}function sr(F,N){return Array.isArray(F)?F.includes(N):F===N}function pn(F,N){const A=Rn(N);return Rn(F).forEach(Ge=>{sr(A,Ge)||A.push(Ge)}),A}function It(F,N){return Rn(N).filter(A=>!sr(F,A))}class Un{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Gt(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=xn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,A){return!!this.control&&this.control.hasError(N,A)}getError(N,A){return this.control?this.control.getError(N,A):null}}class Vn extends Un{get formDirective(){return null}get path(){return null}}class Cn extends Un{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qr{constructor(N){this._cd=N}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bn=(()=>{class F extends Qr{constructor(A){super(A)}}return F.\u0275fac=function(A){return new(A||F)(p.Y36(Cn,2))},F.\u0275dir=p.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,q){2&A&&p.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)},features:[p.qOj]}),F})(),kn=(()=>{class F extends Qr{constructor(A){super(A)}}return F.\u0275fac=function(A){return new(A||F)(p.Y36(Vn,10))},F.\u0275dir=p.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,q){2&A&&p.ekj("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)("ng-submitted",q.isSubmitted)},features:[p.qOj]}),F})();const gn="VALID",Ie="INVALID",ye="PENDING",Ce="DISABLED";function ot(F){return(Ln(F)?F.validators:F)||null}function ke(F){return Array.isArray(F)?Gt(F):F||null}function Nt(F,N){return(Ln(N)?N.asyncValidators:F)||null}function nn(F){return Array.isArray(F)?xn(F):F||null}function Ln(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}function Jn(F,N,A){const q=F.controls;if(!(N?Object.keys(q):q).length)throw new p.vHH(1e3,"");if(!q[A])throw new p.vHH(1001,"")}function Bn(F,N,A){F._forEachChild((q,Ge)=>{if(void 0===A[Ge])throw new p.vHH(1002,"")})}class we{constructor(N,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=A,this._composedValidatorFn=ke(this._rawValidators),this._composedAsyncValidatorFn=nn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===gn}get invalid(){return this.status===Ie}get pending(){return this.status==ye}get disabled(){return this.status===Ce}get enabled(){return this.status!==Ce}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=ke(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=nn(N)}addValidators(N){this.setValidators(pn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(pn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(It(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(It(N,this._rawAsyncValidators))}hasValidator(N){return sr(this._rawValidators,N)}hasAsyncValidator(N){return sr(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=ye,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const A=this._parentMarkedDirty(N.onlySelf);this.status=Ce,this.errors=null,this._forEachChild(q=>{q.disable({...N,onlySelf:!0})}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:A}),this._onDisabledChange.forEach(q=>q(!0))}enable(N={}){const A=this._parentMarkedDirty(N.onlySelf);this.status=gn,this._forEachChild(q=>{q.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:A}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gn||this.status===ye)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ce:gn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=ye,this._hasOwnPendingAsyncValidator=!0;const A=qt(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,A={}){this.errors=N,this._updateControlsErrors(!1!==A.emitEvent)}get(N){let A=N;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((q,Ge)=>q&&q._find(Ge),this)}getError(N,A){const q=A?this.get(A):this;return q&&q.errors?q.errors[N]:null}hasError(N,A){return!!this.getError(N,A)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Ce:this.errors?Ie:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ye)?ye:this._anyControlsHaveStatus(Ie)?Ie:gn}_anyControlsHaveStatus(N){return this._anyControls(A=>A.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){Ln(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}}class oe extends we{constructor(N,A,q){super(ot(A),Nt(q,A)),this.controls=N,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,A){return this.controls[N]?this.controls[N]:(this.controls[N]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(N,A,q={}){this.registerControl(N,A),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(N,A={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(N,A,q={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],A&&this.registerControl(N,A),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,A={}){Bn(this,0,N),Object.keys(N).forEach(q=>{Jn(this,!0,q),this.controls[q].setValue(N[q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(N,A={}){null!=N&&(Object.keys(N).forEach(q=>{const Ge=this.controls[q];Ge&&Ge.patchValue(N[q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(N={},A={}){this._forEachChild((q,Ge)=>{q.reset(N[Ge],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(N,A,q)=>(N[q]=A.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(A,q)=>!!q._syncPendingControls()||A);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(A=>{const q=this.controls[A];q&&N(q,A)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const[A,q]of Object.entries(this.controls))if(this.contains(A)&&N(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,q,Ge)=>((q.enabled||this.disabled)&&(A[Ge]=q.value),A))}_reduceChildren(N,A){let q=N;return this._forEachChild((Ge,zt)=>{q=A(q,Ge,zt)}),q}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(N){return this.controls.hasOwnProperty(N)?this.controls[N]:null}}class et extends oe{}function wn(F,N){mr(F,N),N.valueAccessor.writeValue(F.value),F.disabled&&N.valueAccessor.setDisabledState?.(!0),function Hi(F,N){N.valueAccessor.registerOnChange(A=>{F._pendingValue=A,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&Mr(F,N)})}(F,N),function Mi(F,N){const A=(q,Ge)=>{N.valueAccessor.writeValue(q),Ge&&N.viewToModelUpdate(q)};F.registerOnChange(A),N._registerOnDestroy(()=>{F._unregisterOnChange(A)})}(F,N),function mi(F,N){N.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&Mr(F,N),"submit"!==F.updateOn&&F.markAsTouched()})}(F,N),function En(F,N){if(N.valueAccessor.setDisabledState){const A=q=>{N.valueAccessor.setDisabledState(q)};F.registerOnDisabledChange(A),N._registerOnDestroy(()=>{F._unregisterOnDisabledChange(A)})}}(F,N)}function jn(F,N,A=!0){const q=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(q),N.valueAccessor.registerOnTouched(q)),Vr(F,N),F&&(N._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function ci(F,N){F.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(N)})}function mr(F,N){const A=fn(F);null!==N.validator?F.setValidators(nr(A,N.validator)):"function"==typeof A&&F.setValidators([A]);const q=Zt(F);null!==N.asyncValidator?F.setAsyncValidators(nr(q,N.asyncValidator)):"function"==typeof q&&F.setAsyncValidators([q]);const Ge=()=>F.updateValueAndValidity();ci(N._rawValidators,Ge),ci(N._rawAsyncValidators,Ge)}function Vr(F,N){let A=!1;if(null!==F){if(null!==N.validator){const Ge=fn(F);if(Array.isArray(Ge)&&Ge.length>0){const zt=Ge.filter(dr=>dr!==N.validator);zt.length!==Ge.length&&(A=!0,F.setValidators(zt))}}if(null!==N.asyncValidator){const Ge=Zt(F);if(Array.isArray(Ge)&&Ge.length>0){const zt=Ge.filter(dr=>dr!==N.asyncValidator);zt.length!==Ge.length&&(A=!0,F.setAsyncValidators(zt))}}}const q=()=>{};return ci(N._rawValidators,q),ci(N._rawAsyncValidators,q),A}function Mr(F,N){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function Jr(F,N){const A=F.indexOf(N);A>-1&&F.splice(A,1)}function Cs(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}const Rr=class extends we{constructor(N=null,A,q){super(ot(A),Nt(q,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ln(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=Cs(N)?N.value:N)}setValue(N,A={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(N,A={}){this.setValue(N,A)}reset(N=this.defaultValue,A={}){this._applyFormState(N),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Jr(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Jr(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){Cs(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}};let pt=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275dir=p.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})();const Wt={provide:Le,useExisting:(0,p.Gpc)(()=>Sn),multi:!0};let Sn=(()=>{class F extends He{writeValue(A){this.setProperty("value",A??"")}registerOnChange(A){this.onChange=q=>{A(""==q?null:parseFloat(q))}}}return F.\u0275fac=function(){let N;return function(q){return(N||(N=p.n5z(F)))(q||F)}}(),F.\u0275dir=p.lG2({type:F,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(A,q){1&A&&p.NdJ("input",function(zt){return q.onChange(zt.target.value)})("blur",function(){return q.onTouched()})},features:[p._Bn([Wt]),p.qOj]}),F})(),Pi=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({}),F})();const _i=new p.OlP("NgModelWithFormControlWarning"),Zi={provide:Vn,useExisting:(0,p.Gpc)(()=>zi)};let zi=(()=>{class F extends Vn{constructor(A,q){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(A),this._setAsyncValidators(q)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const q=this.form.get(A.path);return wn(q,A),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),q}getControl(A){return this.form.get(A.path)}removeControl(A){jn(A.control||null,A,!1),function yi(F,N){const A=F.indexOf(N);A>-1&&F.splice(A,1)}(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,q){this.form.get(A.path).setValue(q)}onSubmit(A){return this.submitted=!0,function Gi(F,N){F._syncPendingControls(),N.forEach(A=>{const q=A.control;"submit"===q.updateOn&&q._pendingChange&&(A.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const q=A.control,Ge=this.form.get(A.path);q!==Ge&&(jn(q||null,A),(F=>F instanceof Rr)(Ge)&&(wn(Ge,A),A.control=Ge))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const q=this.form.get(A.path);(function Oi(F,N){mr(F,N)})(q,A),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const q=this.form.get(A.path);q&&function Ar(F,N){return Vr(F,N)}(q,A)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mr(this.form,this),this._oldForm&&Vr(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(A){return new(A||F)(p.Y36(dt,10),p.Y36(ee,10))},F.\u0275dir=p.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(A,q){1&A&&p.NdJ("submit",function(zt){return q.onSubmit(zt)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Zi]),p.qOj,p.TTD]}),F})();const _s={provide:Cn,useExisting:(0,p.Gpc)(()=>us)};let us=(()=>{class F extends Cn{constructor(A,q,Ge,zt,dr){super(),this._ngModelWarningConfig=dr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(q),this._setAsyncValidators(Ge),this.valueAccessor=function hi(F,N){if(!N)return null;let A,q,Ge;return Array.isArray(N),N.forEach(zt=>{zt.constructor===Xe?A=zt:function ii(F){return Object.getPrototypeOf(F.constructor)===He}(zt)?q=zt:Ge=zt}),Ge||q||A||null}(0,zt)}set isDisabled(A){}ngOnChanges(A){this._added||this._setUpControl(),function os(F,N){if(!F.hasOwnProperty("model"))return!1;const A=F.model;return!!A.isFirstChange()||!Object.is(N,A.currentValue)}(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return function yn(F,N){return[...N.path,F]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return F._ngModelWarningSentOnce=!1,F.\u0275fac=function(A){return new(A||F)(p.Y36(Vn,13),p.Y36(dt,10),p.Y36(ee,10),p.Y36(Le,10),p.Y36(_i,8))},F.\u0275dir=p.lG2({type:F,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([_s]),p.qOj,p.TTD]}),F})(),zn=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({imports:[Pi]}),F})(),Fs=(()=>{class F{static withConfig(A){return{ngModule:F,providers:[{provide:_i,useValue:A.warnOnNgModelWithFormControl}]}}}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({imports:[zn]}),F})();class kr extends we{constructor(N,A,q){super(ot(A),Nt(q,A)),this.controls=N,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[this._adjustIndex(N)]}push(N,A={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(N,A,q={}){this.controls.splice(N,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(N,A={}){let q=this._adjustIndex(N);q<0&&(q=0),this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(N,A,q={}){let Ge=this._adjustIndex(N);Ge<0&&(Ge=0),this.controls[Ge]&&this.controls[Ge]._registerOnCollectionChange(()=>{}),this.controls.splice(Ge,1),A&&(this.controls.splice(Ge,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,A={}){Bn(this,0,N),N.forEach((q,Ge)=>{Jn(this,!1,Ge),this.at(Ge).setValue(q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(N,A={}){null!=N&&(N.forEach((q,Ge)=>{this.at(Ge)&&this.at(Ge).patchValue(q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(N=[],A={}){this._forEachChild((q,Ge)=>{q.reset(N[Ge],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(N=>N.getRawValue())}clear(N={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_adjustIndex(N){return N<0?N+this.length:N}_syncPendingControls(){let N=this.controls.reduce((A,q)=>!!q._syncPendingControls()||A,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((A,q)=>{N(A,q)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(A=>A.enabled&&N(A))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}_find(N){return this.at(N)??null}}function qi(F){return!!F&&(void 0!==F.asyncValidators||void 0!==F.validators||void 0!==F.updateOn)}let xs=(()=>{class F{constructor(){this.useNonNullable=!1}get nonNullable(){const A=new F;return A.useNonNullable=!0,A}group(A,q=null){const Ge=this._reduceControls(A);let zt={};return qi(q)?zt=q:null!==q&&(zt.validators=q.validator,zt.asyncValidators=q.asyncValidator),new oe(Ge,zt)}record(A,q=null){const Ge=this._reduceControls(A);return new et(Ge,q)}control(A,q,Ge){let zt={};return this.useNonNullable?(qi(q)?zt=q:(zt.validators=q,zt.asyncValidators=Ge),new Rr(A,{...zt,nonNullable:!0})):new Rr(A,q,Ge)}array(A,q,Ge){const zt=A.map(dr=>this._createControl(dr));return new kr(zt,q,Ge)}_reduceControls(A){const q={};return Object.keys(A).forEach(Ge=>{q[Ge]=this._createControl(A[Ge])}),q}_createControl(A){return A instanceof Rr||A instanceof we?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}}return F.\u0275fac=function(A){return new(A||F)},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac,providedIn:Fs}),F})()},1481:(Se,X,O)=>{"use strict";O.d(X,{Dx:()=>bn,b2:()=>Vn,q6:()=>sr});var p=O(6895),S=O(4650);class j extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ge extends j{static makeCurrent(){(0,p.HT)(new ge)}onAndCancel(oe,se,$e){return oe.addEventListener(se,$e,!1),()=>{oe.removeEventListener(se,$e,!1)}}dispatchEvent(oe,se){oe.dispatchEvent(se)}remove(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}createElement(oe,se){return(se=se||this.getDefaultDocument()).createElement(oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(oe){return oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(oe){return oe instanceof DocumentFragment}getGlobalEventTarget(oe,se){return"window"===se?window:"document"===se?oe:"body"===se?oe.body:null}getBaseHref(oe){const se=function _e(){return re=re||document.querySelector("base"),re?re.getAttribute("href"):null}();return null==se?null:function he(we){de=de||document.createElement("a"),de.setAttribute("href",we);const oe=de.pathname;return"/"===oe.charAt(0)?oe:`/${oe}`}(se)}resetBaseElement(){re=null}getUserAgent(){return window.navigator.userAgent}getCookie(oe){return(0,p.Mx)(document.cookie,oe)}}let de,re=null;const pe=new S.OlP("TRANSITION_ID"),ne=[{provide:S.ip1,useFactory:function te(we,oe,se){return()=>{se.get(S.CZH).donePromise.then(()=>{const $e=(0,p.q)(),et=oe.querySelectorAll(`style[ng-transition="${we}"]`);for(let Rt=0;Rt<et.length;Rt++)$e.remove(et[Rt])})}},deps:[pe,p.K0,S.zs3],multi:!0}];let je=(()=>{class we{build(){return new XMLHttpRequest}}return we.\u0275fac=function(se){return new(se||we)},we.\u0275prov=S.Yz7({token:we,factory:we.\u0275fac}),we})();const He=new S.OlP("EventManagerPlugins");let Le=(()=>{class we{constructor(se,$e){this._zone=$e,this._eventNameToPlugin=new Map,se.forEach(et=>et.manager=this),this._plugins=se.slice().reverse()}addEventListener(se,$e,et){return this._findPluginFor($e).addEventListener(se,$e,et)}addGlobalEventListener(se,$e,et){return this._findPluginFor($e).addGlobalEventListener(se,$e,et)}getZone(){return this._zone}_findPluginFor(se){const $e=this._eventNameToPlugin.get(se);if($e)return $e;const et=this._plugins;for(let Rt=0;Rt<et.length;Rt++){const yn=et[Rt];if(yn.supports(se))return this._eventNameToPlugin.set(se,yn),yn}throw new Error(`No event manager plugin found for event ${se}`)}}return we.\u0275fac=function(se){return new(se||we)(S.LFG(He),S.LFG(S.R0b))},we.\u0275prov=S.Yz7({token:we,factory:we.\u0275fac}),we})();class lt{constructor(oe){this._doc=oe}addGlobalEventListener(oe,se,$e){const et=(0,p.q)().getGlobalEventTarget(this._doc,oe);if(!et)throw new Error(`Unsupported event target ${et} for event ${se}`);return this.addEventListener(et,se,$e)}}let Be=(()=>{class we{constructor(){this._stylesSet=new Set}addStyles(se){const $e=new Set;se.forEach(et=>{this._stylesSet.has(et)||(this._stylesSet.add(et),$e.add(et))}),this.onStylesAdded($e)}onStylesAdded(se){}getAllStyles(){return Array.from(this._stylesSet)}}return we.\u0275fac=function(se){return new(se||we)},we.\u0275prov=S.Yz7({token:we,factory:we.\u0275fac}),we})(),Re=(()=>{class we extends Be{constructor(se){super(),this._doc=se,this._hostNodes=new Map,this._hostNodes.set(se.head,[])}_addStylesToHost(se,$e,et){se.forEach(Rt=>{const yn=this._doc.createElement("style");yn.textContent=Rt,et.push($e.appendChild(yn))})}addHost(se){const $e=[];this._addStylesToHost(this._stylesSet,se,$e),this._hostNodes.set(se,$e)}removeHost(se){const $e=this._hostNodes.get(se);$e&&$e.forEach(ve),this._hostNodes.delete(se)}onStylesAdded(se){this._hostNodes.forEach(($e,et)=>{this._addStylesToHost(se,et,$e)})}ngOnDestroy(){this._hostNodes.forEach(se=>se.forEach(ve))}}return we.\u0275fac=function(se){return new(se||we)(S.LFG(p.K0))},we.\u0275prov=S.Yz7({token:we,factory:we.\u0275fac}),we})();function ve(we){(0,p.q)().remove(we)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xe=/%COMP%/g;function le(we,oe,se){for(let $e=0;$e<oe.length;$e++){let et=oe[$e];Array.isArray(et)?le(we,et,se):(et=et.replace(Xe,we),se.push(et))}return se}function Ae(we){return oe=>{if("__ngUnwrap__"===oe)return we;!1===we(oe)&&(oe.preventDefault(),oe.returnValue=!1)}}let Pe=(()=>{class we{constructor(se,$e,et){this.eventManager=se,this.sharedStylesHost=$e,this.appId=et,this.rendererByCompId=new Map,this.defaultRenderer=new yt(se)}createRenderer(se,$e){if(!se||!$e)return this.defaultRenderer;switch($e.encapsulation){case S.ifc.Emulated:{let et=this.rendererByCompId.get($e.id);return et||(et=new on(this.eventManager,this.sharedStylesHost,$e,this.appId),this.rendererByCompId.set($e.id,et)),et.applyToHost(se),et}case 1:case S.ifc.ShadowDom:return new gt(this.eventManager,this.sharedStylesHost,se,$e);default:if(!this.rendererByCompId.has($e.id)){const et=le($e.id,$e.styles,[]);this.sharedStylesHost.addStyles(et),this.rendererByCompId.set($e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return we.\u0275fac=function(se){return new(se||we)(S.LFG(Le),S.LFG(Re),S.LFG(S.AFp))},we.\u0275prov=S.Yz7({token:we,factory:we.\u0275fac}),we})();class yt{constructor(oe){this.eventManager=oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(oe,se){return se?document.createElementNS(Et[se]||se,oe):document.createElement(oe)}createComment(oe){return document.createComment(oe)}createText(oe){return document.createTextNode(oe)}appendChild(oe,se){(Jt(oe)?oe.content:oe).appendChild(se)}insertBefore(oe,se,$e){oe&&(Jt(oe)?oe.content:oe).insertBefore(se,$e)}removeChild(oe,se){oe&&oe.removeChild(se)}selectRootElement(oe,se){let $e="string"==typeof oe?document.querySelector(oe):oe;if(!$e)throw new Error(`The selector "${oe}" did not match any elements`);return se||($e.textContent=""),$e}parentNode(oe){return oe.parentNode}nextSibling(oe){return oe.nextSibling}setAttribute(oe,se,$e,et){if(et){se=et+":"+se;const Rt=Et[et];Rt?oe.setAttributeNS(Rt,se,$e):oe.setAttribute(se,$e)}else oe.setAttribute(se,$e)}removeAttribute(oe,se,$e){if($e){const et=Et[$e];et?oe.removeAttributeNS(et,se):oe.removeAttribute(`${$e}:${se}`)}else oe.removeAttribute(se)}addClass(oe,se){oe.classList.add(se)}removeClass(oe,se){oe.classList.remove(se)}setStyle(oe,se,$e,et){et&(S.JOm.DashCase|S.JOm.Important)?oe.style.setProperty(se,$e,et&S.JOm.Important?"important":""):oe.style[se]=$e}removeStyle(oe,se,$e){$e&S.JOm.DashCase?oe.style.removeProperty(se):oe.style[se]=""}setProperty(oe,se,$e){oe[se]=$e}setValue(oe,se){oe.nodeValue=se}listen(oe,se,$e){return"string"==typeof oe?this.eventManager.addGlobalEventListener(oe,se,Ae($e)):this.eventManager.addEventListener(oe,se,Ae($e))}}function Jt(we){return"TEMPLATE"===we.tagName&&void 0!==we.content}class on extends yt{constructor(oe,se,$e,et){super(oe),this.component=$e;const Rt=le(et+"-"+$e.id,$e.styles,[]);se.addStyles(Rt),this.contentAttr=function ee(we){return"_ngcontent-%COMP%".replace(Xe,we)}(et+"-"+$e.id),this.hostAttr=function Ke(we){return"_nghost-%COMP%".replace(Xe,we)}(et+"-"+$e.id)}applyToHost(oe){super.setAttribute(oe,this.hostAttr,"")}createElement(oe,se){const $e=super.createElement(oe,se);return super.setAttribute($e,this.contentAttr,""),$e}}class gt extends yt{constructor(oe,se,$e,et){super(oe),this.sharedStylesHost=se,this.hostEl=$e,this.shadowRoot=$e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Rt=le(et.id,et.styles,[]);for(let yn=0;yn<Rt.length;yn++){const wn=document.createElement("style");wn.textContent=Rt[yn],this.shadowRoot.appendChild(wn)}}nodeOrShadowRoot(oe){return oe===this.hostEl?this.shadowRoot:oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(oe,se){return super.appendChild(this.nodeOrShadowRoot(oe),se)}insertBefore(oe,se,$e){return super.insertBefore(this.nodeOrShadowRoot(oe),se,$e)}removeChild(oe,se){return super.removeChild(this.nodeOrShadowRoot(oe),se)}parentNode(oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(oe)))}}let Xt=(()=>{class we extends lt{constructor(se){super(se)}supports(se){return!0}addEventListener(se,$e,et){return se.addEventListener($e,et,!1),()=>this.removeEventListener(se,$e,et)}removeEventListener(se,$e,et){return se.removeEventListener($e,et)}}return we.\u0275fac=function(se){return new(se||we)(S.LFG(p.K0))},we.\u0275prov=S.Yz7({token:we,factory:we.\u0275fac}),we})();const qt=["alt","control","meta","shift"],mn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kt={alt:we=>we.altKey,control:we=>we.ctrlKey,meta:we=>we.metaKey,shift:we=>we.shiftKey};let ht=(()=>{class we extends lt{constructor(se){super(se)}supports(se){return null!=we.parseEventName(se)}addEventListener(se,$e,et){const Rt=we.parseEventName($e),yn=we.eventCallback(Rt.fullKey,et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(se,Rt.domEventName,yn))}static parseEventName(se){const $e=se.toLowerCase().split("."),et=$e.shift();if(0===$e.length||"keydown"!==et&&"keyup"!==et)return null;const Rt=we._normalizeKey($e.pop());let yn="",wn=$e.indexOf("code");if(wn>-1&&($e.splice(wn,1),yn="code."),qt.forEach(ci=>{const En=$e.indexOf(ci);En>-1&&($e.splice(En,1),yn+=ci+".")}),yn+=Rt,0!=$e.length||0===Rt.length)return null;const jn={};return jn.domEventName=et,jn.fullKey=yn,jn}static matchEventFullKeyCode(se,$e){let et=mn[se.key]||se.key,Rt="";return $e.indexOf("code.")>-1&&(et=se.code,Rt="code."),!(null==et||!et)&&(et=et.toLowerCase()," "===et?et="space":"."===et&&(et="dot"),qt.forEach(yn=>{yn!==et&&(0,Kt[yn])(se)&&(Rt+=yn+".")}),Rt+=et,Rt===$e)}static eventCallback(se,$e,et){return Rt=>{we.matchEventFullKeyCode(Rt,se)&&et.runGuarded(()=>$e(Rt))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return we.\u0275fac=function(se){return new(se||we)(S.LFG(p.K0))},we.\u0275prov=S.Yz7({token:we,factory:we.\u0275fac}),we})();const sr=(0,S.eFA)(S._c5,"browser",[{provide:S.Lbi,useValue:p.bD},{provide:S.g9A,useValue:function nr(){ge.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function Zt(){return(0,S.RDi)(document),document},deps:[]}]),pn=new S.OlP(""),It=[{provide:S.rWj,useClass:class ie{addToWindow(oe){S.dqk.getAngularTestability=($e,et=!0)=>{const Rt=oe.findTestabilityInTree($e,et);if(null==Rt)throw new Error("Could not find testability for element.");return Rt},S.dqk.getAllAngularTestabilities=()=>oe.getAllTestabilities(),S.dqk.getAllAngularRootElements=()=>oe.getAllRootElements(),S.dqk.frameworkStabilizers||(S.dqk.frameworkStabilizers=[]),S.dqk.frameworkStabilizers.push($e=>{const et=S.dqk.getAllAngularTestabilities();let Rt=et.length,yn=!1;const wn=function(jn){yn=yn||jn,Rt--,0==Rt&&$e(yn)};et.forEach(function(jn){jn.whenStable(wn)})})}findTestabilityInTree(oe,se,$e){return null==se?null:oe.getTestability(se)??($e?(0,p.q)().isShadowRoot(se)?this.findTestabilityInTree(oe,se.host,!0):this.findTestabilityInTree(oe,se.parentElement,!0):null)}},deps:[]},{provide:S.lri,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]},{provide:S.dDg,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]}],Un=[{provide:S.zSh,useValue:"root"},{provide:S.qLn,useFactory:function fn(){return new S.qLn},deps:[]},{provide:He,useClass:Xt,multi:!0,deps:[p.K0,S.R0b,S.Lbi]},{provide:He,useClass:ht,multi:!0,deps:[p.K0]},{provide:Pe,useClass:Pe,deps:[Le,Re,S.AFp]},{provide:S.FYo,useExisting:Pe},{provide:Be,useExisting:Re},{provide:Re,useClass:Re,deps:[p.K0]},{provide:Le,useClass:Le,deps:[He,S.R0b]},{provide:p.JF,useClass:je,deps:[]},[]];let Vn=(()=>{class we{constructor(se){}static withServerTransition(se){return{ngModule:we,providers:[{provide:S.AFp,useValue:se.appId},{provide:pe,useExisting:S.AFp},ne]}}}return we.\u0275fac=function(se){return new(se||we)(S.LFG(pn,12))},we.\u0275mod=S.oAB({type:we}),we.\u0275inj=S.cJS({providers:[...Un,...It],imports:[p.ez,S.hGG]}),we})(),bn=(()=>{class we{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return we.\u0275fac=function(se){return new(se||we)(S.LFG(p.K0))},we.\u0275prov=S.Yz7({token:we,factory:function(se){let $e=null;return $e=se?new se:function Cr(){return new bn((0,S.LFG)(p.K0))}(),$e},providedIn:"root"}),we})();typeof window<"u"&&window},2607:(Se,X,O)=>{"use strict";O.d(X,{F0:()=>er,yS:()=>Ia,Bz:()=>ea,lC:()=>ks});var p=O(4650),S=O(8996),j=O(9646),ge=O(1135),re=O(6805),_e=O(9751),de=O(4742),he=O(4671),pe=O(3268),te=O(7669),ne=O(1810),ie=O(5403),je=O(9672);function He(...v){const E=(0,te.yG)(v),_=(0,te.jO)(v),{args:M,keys:k}=(0,de.D)(v);if(0===M.length)return(0,S.D)([],E);const W=new _e.y(function Le(v,E,_=he.y){return M=>{lt(E,()=>{const{length:k}=v,W=new Array(k);let ue=k,me=k;for(let it=0;it<k;it++)lt(E,()=>{const Ft=(0,S.D)(v[it],E);let Tn=!1;Ft.subscribe((0,ie.x)(M,an=>{W[it]=an,Tn||(Tn=!0,me--),me||M.next(_(W.slice()))},()=>{--ue||M.complete()}))},M)},M)}}(M,E,k?ue=>(0,ne.n)(k,ue):he.y));return _?W.pipe((0,pe.Z)(_)):W}function lt(v,E,_){v?(0,je.f)(_,v,E):E()}var Be=O(7272),Re=O(8421);function ve(v){return new _e.y(E=>{(0,Re.Xf)(v()).subscribe(E)})}var Et=O(9635),Xe=O(576);function We(v,E){const _=(0,Xe.m)(v)?v:()=>v,M=k=>k.error(_());return new _e.y(E?k=>E.schedule(M,0,k):M)}var Fe=O(515),_t=O(727),dt=O(4482);function ee(){return(0,dt.e)((v,E)=>{let _=null;v._refCount++;const M=(0,ie.x)(E,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(_=null);const k=v._connection,W=_;_=null,k&&(!W||k===W)&&k.unsubscribe(),E.unsubscribe()});v.subscribe(M),M.closed||(_=v.connect())})}class Ke extends _e.y{constructor(E,_){super(),this.source=E,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,dt.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new _t.w0;const _=this.getSubject();E.add(this.source.subscribe((0,ie.x)(_,void 0,()=>{this._teardown(),_.complete()},M=>{this._teardown(),_.error(M)},()=>this._teardown()))),E.closed&&(this._connection=null,E=_t.w0.EMPTY)}return E}refCount(){return ee()(this)}}var le=O(7579),Ae=O(6895),xe=O(4004),Pe=O(3900),yt=O(5698),st=O(8675),Ot=O(9300),Jt=O(5577),on=O(590),gt=O(4351),Xt=O(8505),qt=O(262),mn=O(5026);function Kt(v){return v<=0?()=>Fe.E:(0,dt.e)((E,_)=>{let M=[];E.subscribe((0,ie.x)(_,k=>{M.push(k),v<M.length&&M.shift()},()=>{for(const k of M)_.next(k);_.complete()},void 0,()=>{M=null}))})}var ht=O(8068),St=O(6590);function Pt(v,E){const _=arguments.length>=2;return M=>M.pipe(v?(0,Ot.h)((k,W)=>v(k,W,M)):he.y,Kt(1),_?(0,St.d)(E):(0,ht.T)(()=>new re.K))}function xn(v){return(0,dt.e)((E,_)=>{try{E.subscribe(_)}finally{_.add(v)}})}var nr=O(8189),fn=O(1481);const Zt="primary",Rn=Symbol("RouteTitle");class sr{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_[0]:_}return null}getAll(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function pn(v){return new sr(v)}function It(v,E,_){const M=_.path.split("/");if(M.length>v.length||"full"===_.pathMatch&&(E.hasChildren()||M.length<v.length))return null;const k={};for(let W=0;W<M.length;W++){const ue=M[W],me=v[W];if(ue.startsWith(":"))k[ue.substring(1)]=me;else if(ue!==me.path)return null}return{consumed:v.slice(0,M.length),posParams:k}}function Vn(v,E){const _=v?Object.keys(v):void 0,M=E?Object.keys(E):void 0;if(!_||!M||_.length!=M.length)return!1;let k;for(let W=0;W<_.length;W++)if(k=_[W],!Cn(v[k],E[k]))return!1;return!0}function Cn(v,E){if(Array.isArray(v)&&Array.isArray(E)){if(v.length!==E.length)return!1;const _=[...v].sort(),M=[...E].sort();return _.every((k,W)=>M[W]===k)}return v===E}function Qr(v){return Array.prototype.concat.apply([],v)}function ti(v){return v.length>0?v[v.length-1]:null}function bn(v,E){for(const _ in v)v.hasOwnProperty(_)&&E(v[_],_)}function kn(v){return(0,p.CqO)(v)?v:(0,p.QGY)(v)?(0,S.D)(Promise.resolve(v)):(0,j.of)(v)}const Wn={exact:function vn(v,E,_){if(!kt(v.segments,E.segments)||!qn(v.segments,E.segments,_)||v.numberOfChildren!==E.numberOfChildren)return!1;for(const M in E.children)if(!v.children[M]||!vn(v.children[M],E.children[M],_))return!1;return!0},subset:Hn},pr={exact:function $r(v,E){return Vn(v,E)},subset:function Tr(v,E){return Object.keys(E).length<=Object.keys(v).length&&Object.keys(E).every(_=>Cn(v[_],E[_]))},ignored:()=>!0};function Qn(v,E,_){return Wn[_.paths](v.root,E.root,_.matrixParams)&&pr[_.queryParams](v.queryParams,E.queryParams)&&!("exact"===_.fragment&&v.fragment!==E.fragment)}function Hn(v,E,_){return ni(v,E,E.segments,_)}function ni(v,E,_,M){if(v.segments.length>_.length){const k=v.segments.slice(0,_.length);return!(!kt(k,_)||E.hasChildren()||!qn(k,_,M))}if(v.segments.length===_.length){if(!kt(v.segments,_)||!qn(v.segments,_,M))return!1;for(const k in E.children)if(!v.children[k]||!Hn(v.children[k],E.children[k],M))return!1;return!0}{const k=_.slice(0,v.segments.length),W=_.slice(v.segments.length);return!!(kt(v.segments,k)&&qn(v.segments,k,M)&&v.children[Zt])&&ni(v.children[Zt],E,W,M)}}function qn(v,E,_){return E.every((M,k)=>pr[_](v[k].parameters,M.parameters))}class gr{constructor(E,_,M){this.root=E,this.queryParams=_,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return Ie.serialize(this)}}class cn{constructor(E,_){this.segments=E,this.children=_,this.parent=null,bn(_,(M,k)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ye(this)}}class jt{constructor(E,_){this.path=E,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=pn(this.parameters)),this._parameterMap}toString(){return Bn(this)}}function kt(v,E){return v.length===E.length&&v.every((_,M)=>_.path===E[M].path)}let un=(()=>{class v{}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return new gn},providedIn:"root"}),v})();class gn{parse(E){const _=new jn(E);return new gr(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(E){const _=`/${Ce(E.root,!0)}`,M=function oe(v){const E=Object.keys(v).map(_=>{const M=v[_];return Array.isArray(M)?M.map(k=>`${ke(_)}=${ke(k)}`).join("&"):`${ke(_)}=${ke(M)}`}).filter(_=>!!_);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${_}${M}${"string"==typeof E.fragment?`#${function Nt(v){return encodeURI(v)}(E.fragment)}`:""}`}}const Ie=new gn;function ye(v){return v.segments.map(E=>Bn(E)).join("/")}function Ce(v,E){if(!v.hasChildren())return ye(v);if(E){const _=v.children[Zt]?Ce(v.children[Zt],!1):"",M=[];return bn(v.children,(k,W)=>{W!==Zt&&M.push(`${W}:${Ce(k,!1)}`)}),M.length>0?`${_}(${M.join("//")})`:_}{const _=function ln(v,E){let _=[];return bn(v.children,(M,k)=>{k===Zt&&(_=_.concat(E(M,k)))}),bn(v.children,(M,k)=>{k!==Zt&&(_=_.concat(E(M,k)))}),_}(v,(M,k)=>k===Zt?[Ce(v.children[Zt],!1)]:[`${k}:${Ce(M,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Zt]?`${ye(v)}/${_[0]}`:`${ye(v)}/(${_.join("//")})`}}function ot(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ke(v){return ot(v).replace(/%3B/gi,";")}function nn(v){return ot(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ln(v){return decodeURIComponent(v)}function Jn(v){return Ln(v.replace(/\+/g,"%20"))}function Bn(v){return`${nn(v.path)}${function we(v){return Object.keys(v).map(E=>`;${nn(E)}=${nn(v[E])}`).join("")}(v.parameters)}`}const se=/^[^\/()?;=#]+/;function $e(v){const E=v.match(se);return E?E[0]:""}const et=/^[^=?&#]+/,yn=/^[^&#]+/;class jn{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(E.length>0||Object.keys(_).length>0)&&(M[Zt]=new cn(E,_)),M}parseSegment(){const E=$e(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(E),new jt(Ln(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const _=$e(this.remaining);if(!_)return;this.capture(_);let M="";if(this.consumeOptional("=")){const k=$e(this.remaining);k&&(M=k,this.capture(M))}E[Ln(_)]=Ln(M)}parseQueryParam(E){const _=function Rt(v){const E=v.match(et);return E?E[0]:""}(this.remaining);if(!_)return;this.capture(_);let M="";if(this.consumeOptional("=")){const ue=function wn(v){const E=v.match(yn);return E?E[0]:""}(this.remaining);ue&&(M=ue,this.capture(M))}const k=Jn(_),W=Jn(M);if(E.hasOwnProperty(k)){let ue=E[k];Array.isArray(ue)||(ue=[ue],E[k]=ue),ue.push(W)}else E[k]=W}parseParens(E){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=$e(this.remaining),k=this.remaining[M.length];if("/"!==k&&")"!==k&&";"!==k)throw new p.vHH(4010,!1);let W;M.indexOf(":")>-1?(W=M.slice(0,M.indexOf(":")),this.capture(W),this.capture(":")):E&&(W=Zt);const ue=this.parseChildren();_[W]=1===Object.keys(ue).length?ue[Zt]:new cn([],ue),this.consumeOptional("//")}return _}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new p.vHH(4011,!1)}}function ci(v){return v.segments.length>0?new cn([],{[Zt]:v}):v}function En(v){const E={};for(const M of Object.keys(v.children)){const W=En(v.children[M]);(W.segments.length>0||W.hasChildren())&&(E[M]=W)}return function mr(v){if(1===v.numberOfChildren&&v.children[Zt]){const E=v.children[Zt];return new cn(v.segments.concat(E.segments),E.children)}return v}(new cn(v.segments,E))}function Vr(v){return v instanceof gr}function Oi(v,E,_,M,k){if(0===_.length)return di(E.root,E.root,E.root,M,k);const W=function os(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Rs(!0,0,v);let E=0,_=!1;const M=v.reduce((k,W,ue)=>{if("object"==typeof W&&null!=W){if(W.outlets){const me={};return bn(W.outlets,(it,Ft)=>{me[Ft]="string"==typeof it?it.split("/"):it}),[...k,{outlets:me}]}if(W.segmentPath)return[...k,W.segmentPath]}return"string"!=typeof W?[...k,W]:0===ue?(W.split("/").forEach((me,it)=>{0==it&&"."===me||(0==it&&""===me?_=!0:".."===me?E++:""!=me&&k.push(me))}),k):[...k,W]},[]);return new Rs(_,E,M)}(_);return W.toRoot()?di(E.root,E.root,new cn([],{}),M,k):function ue(it){const Ft=function hi(v,E,_,M){if(v.isAbsolute)return new ii(E.root,!0,0);if(-1===M)return new ii(_,_===E.root,0);return function yi(v,E,_){let M=v,k=E,W=_;for(;W>k;){if(W-=k,M=M.parent,!M)throw new p.vHH(4005,!1);k=M.segments.length}return new ii(M,!1,k-W)}(_,M+(Ar(v.commands[0])?0:1),v.numberOfDoubleDots)}(W,E,v.snapshot?._urlSegment,it),Tn=Ft.processChildren?Ri(Ft.segmentGroup,Ft.index,W.commands):Or(Ft.segmentGroup,Ft.index,W.commands);return di(E.root,Ft.segmentGroup,Tn,M,k)}(v.snapshot?._lastPathIndex)}function Ar(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Er(v){return"object"==typeof v&&null!=v&&v.outlets}function di(v,E,_,M,k){let ue,W={};M&&bn(M,(it,Ft)=>{W[Ft]=Array.isArray(it)?it.map(Tn=>`${Tn}`):`${it}`}),ue=v===E?_:Xn(v,E,_);const me=ci(En(ue));return new gr(me,W,k)}function Xn(v,E,_){const M={};return bn(v.children,(k,W)=>{M[W]=k===E?_:Xn(k,E,_)}),new cn(v.segments,M)}class Rs{constructor(E,_,M){if(this.isAbsolute=E,this.numberOfDoubleDots=_,this.commands=M,E&&M.length>0&&Ar(M[0]))throw new p.vHH(4003,!1);const k=M.find(Er);if(k&&k!==ti(M))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ii{constructor(E,_,M){this.segmentGroup=E,this.processChildren=_,this.index=M}}function Or(v,E,_){if(v||(v=new cn([],{})),0===v.segments.length&&v.hasChildren())return Ri(v,E,_);const M=function yr(v,E,_){let M=0,k=E;const W={match:!1,pathIndex:0,commandIndex:0};for(;k<v.segments.length;){if(M>=_.length)return W;const ue=v.segments[k],me=_[M];if(Er(me))break;const it=`${me}`,Ft=M<_.length-1?_[M+1]:null;if(k>0&&void 0===it)break;if(it&&Ft&&"object"==typeof Ft&&void 0===Ft.outlets){if(!Ps(it,Ft,ue))return W;M+=2}else{if(!Ps(it,{},ue))return W;M++}k++}return{match:!0,pathIndex:k,commandIndex:M}}(v,E,_),k=_.slice(M.commandIndex);if(M.match&&M.pathIndex<v.segments.length){const W=new cn(v.segments.slice(0,M.pathIndex),{});return W.children[Zt]=new cn(v.segments.slice(M.pathIndex),v.children),Ri(W,0,k)}return M.match&&0===k.length?new cn(v.segments,{}):M.match&&!v.hasChildren()?Jr(v,E,_):M.match?Ri(v,0,k):Jr(v,E,_)}function Ri(v,E,_){if(0===_.length)return new cn(v.segments,{});{const M=function bi(v){return Er(v[0])?v[0].outlets:{[Zt]:v}}(_),k={};return bn(M,(W,ue)=>{"string"==typeof W&&(W=[W]),null!==W&&(k[ue]=Or(v.children[ue],E,W))}),bn(v.children,(W,ue)=>{void 0===M[ue]&&(k[ue]=W)}),new cn(v.segments,k)}}function Jr(v,E,_){const M=v.segments.slice(0,E);let k=0;for(;k<_.length;){const W=_[k];if(Er(W)){const it=Cs(W.outlets);return new cn(M,it)}if(0===k&&Ar(_[0])){M.push(new jt(v.segments[E].path,Rr(_[0]))),k++;continue}const ue=Er(W)?W.outlets[Zt]:`${W}`,me=k<_.length-1?_[k+1]:null;ue&&me&&Ar(me)?(M.push(new jt(ue,Rr(me))),k+=2):(M.push(new jt(ue,{})),k++)}return new cn(M,{})}function Cs(v){const E={};return bn(v,(_,M)=>{"string"==typeof _&&(_=[_]),null!==_&&(E[M]=Jr(new cn([],{}),0,_))}),E}function Rr(v){const E={};return bn(v,(_,M)=>E[M]=`${_}`),E}function Ps(v,E,_){return v==_.path&&Vn(E,_.parameters)}class vr{constructor(E,_){this.id=E,this.url=_}}class fe extends vr{constructor(E,_,M="imperative",k=null){super(E,_),this.type=0,this.navigationTrigger=M,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ze extends vr{constructor(E,_,M){super(E,_),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ue extends vr{constructor(E,_,M,k){super(E,_),this.reason=M,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qe extends vr{constructor(E,_,M,k){super(E,_),this.error=M,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lt extends vr{constructor(E,_,M,k){super(E,_),this.urlAfterRedirects=M,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ct extends vr{constructor(E,_,M,k){super(E,_),this.urlAfterRedirects=M,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends vr{constructor(E,_,M,k,W){super(E,_),this.urlAfterRedirects=M,this.state=k,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Te extends vr{constructor(E,_,M,k){super(E,_),this.urlAfterRedirects=M,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends vr{constructor(E,_,M,k){super(E,_),this.urlAfterRedirects=M,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ct{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pt{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wt{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zr{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(E,_,M){this.routerEvent=E,this.position=_,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qs{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const _=this.pathFromRoot(E);return _.length>1?_[_.length-2]:null}children(E){const _=Wi(E,this._root);return _?_.children.map(M=>M.value):[]}firstChild(E){const _=Wi(E,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(E){const _=Ni(E,this._root);return _.length<2?[]:_[_.length-2].children.map(k=>k.value).filter(k=>k!==E)}pathFromRoot(E){return Ni(E,this._root).map(_=>_.value)}}function Wi(v,E){if(v===E.value)return E;for(const _ of E.children){const M=Wi(v,_);if(M)return M}return null}function Ni(v,E){if(v===E.value)return[E];for(const _ of E.children){const M=Ni(v,_);if(M.length)return M.unshift(E),M}return[]}class _i{constructor(E,_){this.value=E,this.children=_}toString(){return`TreeNode(${this.value})`}}function as(v){const E={};return v&&v.children.forEach(_=>E[_.value.outlet]=_),E}class Zs extends qs{constructor(E,_){super(E),this.snapshot=_,_s(this,E)}toString(){return this.snapshot.toString()}}function Zi(v,E){const _=function zi(v,E){const ue=new Yi([],{},{},"",{},Zt,E,null,v.root,-1,{});return new As("",new _i(ue,[]))}(v,E),M=new ge.X([new jt("",{})]),k=new ge.X({}),W=new ge.X({}),ue=new ge.X({}),me=new ge.X(""),it=new Di(M,k,ue,me,W,Zt,E,_.root);return it.snapshot=_.root,new Zs(new _i(it,[]),_)}class Di{constructor(E,_,M,k,W,ue,me,it){this.url=E,this.params=_,this.queryParams=M,this.fragment=k,this.data=W,this.outlet=ue,this.component=me,this.title=this.data?.pipe((0,xe.U)(Ft=>Ft[Rn]))??(0,j.of)(void 0),this._futureSnapshot=it}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xe.U)(E=>pn(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xe.U)(E=>pn(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function si(v,E="emptyOnly"){const _=v.pathFromRoot;let M=0;if("always"!==E)for(M=_.length-1;M>=1;){const k=_[M],W=_[M-1];if(k.routeConfig&&""===k.routeConfig.path)M--;else{if(W.component)break;M--}}return function uo(v){return v.reduce((E,_)=>({params:{...E.params,..._.params},data:{...E.data,..._.data},resolve:{..._.data,...E.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(M))}class Yi{constructor(E,_,M,k,W,ue,me,it,Ft,Tn,an,Yn){this.url=E,this.params=_,this.queryParams=M,this.fragment=k,this.data=W,this.outlet=ue,this.component=me,this.title=this.data?.[Rn],this.routeConfig=it,this._urlSegment=Ft,this._lastPathIndex=Tn,this._correctedLastPathIndex=Yn??Tn,this._resolve=an}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class As extends qs{constructor(E,_){super(_),this.url=E,_s(this,_)}toString(){return us(this._root)}}function _s(v,E){E.value._routerState=v,E.children.forEach(_=>_s(v,_))}function us(v){const E=v.children.length>0?` { ${v.children.map(us).join(", ")} } `:"";return`${v.value}${E}`}function Qi(v){if(v.snapshot){const E=v.snapshot,_=v._futureSnapshot;v.snapshot=_,Vn(E.queryParams,_.queryParams)||v.queryParams.next(_.queryParams),E.fragment!==_.fragment&&v.fragment.next(_.fragment),Vn(E.params,_.params)||v.params.next(_.params),function Un(v,E){if(v.length!==E.length)return!1;for(let _=0;_<v.length;++_)if(!Vn(v[_],E[_]))return!1;return!0}(E.url,_.url)||v.url.next(_.url),Vn(E.data,_.data)||v.data.next(_.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Ci(v,E){const _=Vn(v.params,E.params)&&function mt(v,E){return kt(v,E)&&v.every((_,M)=>Vn(_.parameters,E[M].parameters))}(v.url,E.url);return _&&!(!v.parent!=!E.parent)&&(!v.parent||Ci(v.parent,E.parent))}function Ki(v,E,_){if(_&&v.shouldReuseRoute(E.value,_.value.snapshot)){const M=_.value;M._futureSnapshot=E.value;const k=function Ko(v,E,_){return E.children.map(M=>{for(const k of _.children)if(v.shouldReuseRoute(M.value,k.value.snapshot))return Ki(v,M,k);return Ki(v,M)})}(v,E,_);return new _i(M,k)}{if(v.shouldAttach(E.value)){const W=v.retrieve(E.value);if(null!==W){const ue=W.route;return ue.value._futureSnapshot=E.value,ue.children=E.children.map(me=>Ki(v,me)),ue}}const M=function Xr(v){return new Di(new ge.X(v.url),new ge.X(v.params),new ge.X(v.queryParams),new ge.X(v.fragment),new ge.X(v.data),v.outlet,v.component,v)}(E.value),k=E.children.map(W=>Ki(v,W));return new _i(M,k)}}const Ji="ngNavigationCancelingError";function vs(v,E){const{redirectTo:_,navigationBehaviorOptions:M}=Vr(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,k=Ur(!1,0,E);return k.url=_,k.navigationBehaviorOptions=M,k}function Ur(v,E,_){const M=new Error("NavigationCancelingError: "+(v||""));return M[Ji]=!0,M.cancellationCode=E,_&&(M.url=_),M}function Ns(v){return Pr(v)&&Vr(v.url)}function Pr(v){return v&&v[Ji]}class fi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Nr,this.attachRef=null}}let Nr=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(_,M){const k=this.getOrCreateContext(_);k.outlet=M,this.contexts.set(_,k)}onChildOutletDestroyed(_){const M=this.getContext(_);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let M=this.getContext(_);return M||(M=new fi,this.contexts.set(_,M)),M}getContext(_){return this.contexts.get(_)||null}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const oi=!1;let ks=(()=>{class v{constructor(_,M,k,W,ue){this.parentContexts=_,this.location=M,this.changeDetector=W,this.environmentInjector=ue,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=k||Zt,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,oi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,oi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,oi);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,M){this.activated=_,this._activatedRoute=M,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,M){if(this.isActivated)throw new p.vHH(4013,oi);this._activatedRoute=_;const k=this.location,ue=_._futureSnapshot.component,me=this.parentContexts.getOrCreateContext(this.name).children,it=new cs(_,me,k.injector);if(M&&function or(v){return!!v.resolveComponentFactory}(M)){const Ft=M.resolveComponentFactory(ue);this.activated=k.createComponent(Ft,k.length,it)}else this.activated=k.createComponent(ue,{index:k.length,injector:it,environmentInjector:M??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(_){return new(_||v)(p.Y36(Nr),p.Y36(p.s_b),p.$8M("name"),p.Y36(p.sBO),p.Y36(p.lqb))},v.\u0275dir=p.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),v})();class cs{constructor(E,_,M){this.route=E,this.childContexts=_,this.parent=M}get(E,_){return E===Di?this.route:E===Nr?this.childContexts:this.parent.get(E,_)}}let Ys=(()=>{class v{}return v.\u0275fac=function(_){return new(_||v)},v.\u0275cmp=p.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(_,M){1&_&&p._UZ(0,"router-outlet")},dependencies:[ks],encapsulation:2}),v})();function Ls(v,E){return v.providers&&!v._injector&&(v._injector=(0,p.MMx)(v.providers,E,`Route: ${v.path}`)),v._injector??E}function Qs(v){const E=v.children&&v.children.map(Qs),_=E?{...v,children:E}:{...v};return!_.component&&!_.loadComponent&&(E||_.loadChildren)&&_.outlet&&_.outlet!==Zt&&(_.component=Ys),_}function Ti(v){return v.outlet||Zt}function ds(v,E){const _=v.filter(M=>Ti(M)===E);return _.push(...v.filter(M=>Ti(M)!==E)),_}function Js(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let E=v.parent;E;E=E.parent){const _=E.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class vt{constructor(E,_,M,k){this.routeReuseStrategy=E,this.futureState=_,this.currState=M,this.forwardEvent=k}activate(E){const _=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,M,E),Qi(this.futureState.root),this.activateChildRoutes(_,M,E)}deactivateChildRoutes(E,_,M){const k=as(_);E.children.forEach(W=>{const ue=W.value.outlet;this.deactivateRoutes(W,k[ue],M),delete k[ue]}),bn(k,(W,ue)=>{this.deactivateRouteAndItsChildren(W,M)})}deactivateRoutes(E,_,M){const k=E.value,W=_?_.value:null;if(k===W)if(k.component){const ue=M.getContext(k.outlet);ue&&this.deactivateChildRoutes(E,_,ue.children)}else this.deactivateChildRoutes(E,_,M);else W&&this.deactivateRouteAndItsChildren(_,M)}deactivateRouteAndItsChildren(E,_){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,_):this.deactivateRouteAndOutlet(E,_)}detachAndStoreRouteSubtree(E,_){const M=_.getContext(E.value.outlet),k=M&&E.value.component?M.children:_,W=as(E);for(const ue of Object.keys(W))this.deactivateRouteAndItsChildren(W[ue],k);if(M&&M.outlet){const ue=M.outlet.detach(),me=M.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:ue,route:E,contexts:me})}}deactivateRouteAndOutlet(E,_){const M=_.getContext(E.value.outlet),k=M&&E.value.component?M.children:_,W=as(E);for(const ue of Object.keys(W))this.deactivateRouteAndItsChildren(W[ue],k);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(E,_,M){const k=as(_);E.children.forEach(W=>{this.activateRoutes(W,k[W.value.outlet],M),this.forwardEvent(new ir(W.value.snapshot))}),E.children.length&&this.forwardEvent(new Sn(E.value.snapshot))}activateRoutes(E,_,M){const k=E.value,W=_?_.value:null;if(Qi(k),k===W)if(k.component){const ue=M.getOrCreateContext(k.outlet);this.activateChildRoutes(E,_,ue.children)}else this.activateChildRoutes(E,_,M);else if(k.component){const ue=M.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const me=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),ue.children.onOutletReAttached(me.contexts),ue.attachRef=me.componentRef,ue.route=me.route.value,ue.outlet&&ue.outlet.attach(me.componentRef,me.route.value),Qi(me.route.value),this.activateChildRoutes(E,null,ue.children)}else{const me=Js(k.snapshot),it=me?.get(p._Vd)??null;ue.attachRef=null,ue.route=k,ue.resolver=it,ue.injector=me,ue.outlet&&ue.outlet.activateWith(k,ue.injector),this.activateChildRoutes(E,null,ue.children)}}else this.activateChildRoutes(E,null,M)}}class zn{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Xs{constructor(E,_){this.component=E,this.route=_}}function Fs(v,E,_){const M=v._root;return Ss(M,E?E._root:null,_,[M.value])}function Vs(v,E){const _=Symbol(),M=E.get(v,_);return M===_?"function"!=typeof v||(0,p.Z0I)(v)?E.get(v):v:M}function Ss(v,E,_,M,k={canDeactivateChecks:[],canActivateChecks:[]}){const W=as(E);return v.children.forEach(ue=>{(function qi(v,E,_,M,k={canDeactivateChecks:[],canActivateChecks:[]}){const W=v.value,ue=E?E.value:null,me=_?_.getContext(v.value.outlet):null;if(ue&&W.routeConfig===ue.routeConfig){const it=function xs(v,E,_){if("function"==typeof _)return _(v,E);switch(_){case"pathParamsChange":return!kt(v.url,E.url);case"pathParamsOrQueryParamsChange":return!kt(v.url,E.url)||!Vn(v.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ci(v,E)||!Vn(v.queryParams,E.queryParams);default:return!Ci(v,E)}}(ue,W,W.routeConfig.runGuardsAndResolvers);it?k.canActivateChecks.push(new zn(M)):(W.data=ue.data,W._resolvedData=ue._resolvedData),Ss(v,E,W.component?me?me.children:null:_,M,k),it&&me&&me.outlet&&me.outlet.isActivated&&k.canDeactivateChecks.push(new Xs(me.outlet.component,ue))}else ue&&es(E,me,k),k.canActivateChecks.push(new zn(M)),Ss(v,null,W.component?me?me.children:null:_,M,k)})(ue,W[ue.value.outlet],_,M.concat([ue.value]),k),delete W[ue.value.outlet]}),bn(W,(ue,me)=>es(ue,_.getContext(me),k)),k}function es(v,E,_){const M=as(v),k=v.value;bn(M,(W,ue)=>{es(W,k.component?E?E.children.getContext(ue):null:E,_)}),_.canDeactivateChecks.push(new Xs(k.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,k))}function hs(v){return"function"==typeof v}function ts(v){return v instanceof re.K||"EmptyError"===v?.name}const Li=Symbol("INITIAL_VALUE");function fs(){return(0,Pe.w)(v=>He(v.map(E=>E.pipe((0,yt.q)(1),(0,st.O)(Li)))).pipe((0,xe.U)(E=>{for(const _ of E)if(!0!==_){if(_===Li)return Li;if(!1===_||_ instanceof gr)return _}return!0}),(0,Ot.h)(E=>E!==Li),(0,yt.q)(1)))}function Vo(v){return(0,Et.z)((0,Xt.b)(E=>{if(Vr(E))throw vs(0,E)}),(0,xe.U)(E=>!0===E))}const T={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $(v,E,_,M,k){const W=P(v,E,_);return W.matched?function So(v,E,_,M){const k=E.canMatch;if(!k||0===k.length)return(0,j.of)(!0);const W=k.map(ue=>{const me=Vs(ue,v);return kn(function Ge(v){return v&&hs(v.canMatch)}(me)?me.canMatch(E,_):v.runInContext(()=>me(E,_)))});return(0,j.of)(W).pipe(fs(),Vo())}(M=Ls(E,M),E,_).pipe((0,xe.U)(ue=>!0===ue?W:{...T})):(0,j.of)(W)}function P(v,E,_){if(""===E.path)return"full"===E.pathMatch&&(v.hasChildren()||_.length>0)?{...T}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const k=(E.matcher||It)(_,v,E);if(!k)return{...T};const W={};bn(k.posParams,(me,it)=>{W[it]=me.path});const ue=k.consumed.length>0?{...W,...k.consumed[k.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:k.consumed,remainingSegments:_.slice(k.consumed.length),parameters:ue,positionalParamSegments:k.posParams??{}}}function K(v,E,_,M,k="corrected"){if(_.length>0&&function ut(v,E,_){return _.some(M=>rr(v,E,M)&&Ti(M)!==Zt)}(v,_,M)){const ue=new cn(E,function qe(v,E,_,M){const k={};k[Zt]=M,M._sourceSegment=v,M._segmentIndexShift=E.length;for(const W of _)if(""===W.path&&Ti(W)!==Zt){const ue=new cn([],{});ue._sourceSegment=v,ue._segmentIndexShift=E.length,k[Ti(W)]=ue}return k}(v,E,M,new cn(_,v.children)));return ue._sourceSegment=v,ue._segmentIndexShift=E.length,{segmentGroup:ue,slicedSegments:[]}}if(0===_.length&&function rn(v,E,_){return _.some(M=>rr(v,E,M))}(v,_,M)){const ue=new cn(v.segments,function Ee(v,E,_,M,k,W){const ue={};for(const me of M)if(rr(v,_,me)&&!k[Ti(me)]){const it=new cn([],{});it._sourceSegment=v,it._segmentIndexShift="legacy"===W?v.segments.length:E.length,ue[Ti(me)]=it}return{...k,...ue}}(v,E,_,M,v.children,k));return ue._sourceSegment=v,ue._segmentIndexShift=E.length,{segmentGroup:ue,slicedSegments:_}}const W=new cn(v.segments,v.children);return W._sourceSegment=v,W._segmentIndexShift=E.length,{segmentGroup:W,slicedSegments:_}}function rr(v,E,_){return(!(v.hasChildren()||E.length>0)||"full"!==_.pathMatch)&&""===_.path}function hr(v,E,_,M){return!!(Ti(v)===M||M!==Zt&&rr(E,_,v))&&("**"===v.path||P(E,v,_).matched)}function fr(v,E,_){return 0===E.length&&!v.children[_]}const Kn=!1;class ai{constructor(E){this.segmentGroup=E||null}}class Ir{constructor(E){this.urlTree=E}}function _r(v){return We(new ai(v))}function Fi(v){return We(new Ir(v))}class gs{constructor(E,_,M,k,W){this.injector=E,this.configLoader=_,this.urlSerializer=M,this.urlTree=k,this.config=W,this.allowRedirects=!0}apply(){const E=K(this.urlTree.root,[],[],this.config).segmentGroup,_=new cn(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,_,Zt).pipe((0,xe.U)(W=>this.createUrlTree(En(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,qt.K)(W=>{if(W instanceof Ir)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof ai?this.noMatchError(W):W}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,Zt).pipe((0,xe.U)(k=>this.createUrlTree(En(k),E.queryParams,E.fragment))).pipe((0,qt.K)(k=>{throw k instanceof ai?this.noMatchError(k):k}))}noMatchError(E){return new p.vHH(4002,Kn)}createUrlTree(E,_,M){const k=ci(E);return new gr(k,_,M)}expandSegmentGroup(E,_,M,k){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(E,_,M).pipe((0,xe.U)(W=>new cn([],W))):this.expandSegment(E,M,_,M.segments,k,!0)}expandChildren(E,_,M){const k=[];for(const W of Object.keys(M.children))"primary"===W?k.unshift(W):k.push(W);return(0,S.D)(k).pipe((0,gt.b)(W=>{const ue=M.children[W],me=ds(_,W);return this.expandSegmentGroup(E,me,ue,W).pipe((0,xe.U)(it=>({segment:it,outlet:W})))}),(0,mn.R)((W,ue)=>(W[ue.outlet]=ue.segment,W),{}),Pt())}expandSegment(E,_,M,k,W,ue){return(0,S.D)(M).pipe((0,gt.b)(me=>this.expandSegmentAgainstRoute(E,_,M,me,k,W,ue).pipe((0,qt.K)(Ft=>{if(Ft instanceof ai)return(0,j.of)(null);throw Ft}))),(0,on.P)(me=>!!me),(0,qt.K)((me,it)=>{if(ts(me))return fr(_,k,W)?(0,j.of)(new cn([],{})):_r(_);throw me}))}expandSegmentAgainstRoute(E,_,M,k,W,ue,me){return hr(k,_,W,ue)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(E,_,k,W,ue):me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,_,M,k,W,ue):_r(_):_r(_)}expandSegmentAgainstRouteUsingRedirect(E,_,M,k,W,ue){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,M,k,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(E,_,M,k,W,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,_,M,k){const W=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?Fi(W):this.lineralizeSegments(M,W).pipe((0,Jt.z)(ue=>{const me=new cn(ue,{});return this.expandSegment(E,me,_,ue,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,_,M,k,W,ue){const{matched:me,consumedSegments:it,remainingSegments:Ft,positionalParamSegments:Tn}=P(_,k,W);if(!me)return _r(_);const an=this.applyRedirectCommands(it,k.redirectTo,Tn);return k.redirectTo.startsWith("/")?Fi(an):this.lineralizeSegments(k,an).pipe((0,Jt.z)(Yn=>this.expandSegment(E,_,M,Yn.concat(Ft),ue,!1)))}matchSegmentAgainstRoute(E,_,M,k,W){return"**"===M.path?(E=Ls(M,E),M.loadChildren?(M._loadedRoutes?(0,j.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):this.configLoader.loadChildren(E,M)).pipe((0,xe.U)(me=>(M._loadedRoutes=me.routes,M._loadedInjector=me.injector,new cn(k,{})))):(0,j.of)(new cn(k,{}))):$(_,M,k,E).pipe((0,Pe.w)(({matched:ue,consumedSegments:me,remainingSegments:it})=>ue?this.getChildConfig(E=M._injector??E,M,k).pipe((0,Jt.z)(Tn=>{const an=Tn.injector??E,Yn=Tn.routes,{segmentGroup:Ii,slicedSegments:Os}=K(_,me,it,Yn),$s=new cn(Ii.segments,Ii.children);if(0===Os.length&&$s.hasChildren())return this.expandChildren(an,Yn,$s).pipe((0,xe.U)(R=>new cn(me,R)));if(0===Yn.length&&0===Os.length)return(0,j.of)(new cn(me,{}));const Hs=Ti(M)===W;return this.expandSegment(an,$s,Yn,Os,Hs?Zt:W,!0).pipe((0,xe.U)(ta=>new cn(me.concat(ta.segments),ta.children)))})):_r(_)))}getChildConfig(E,_,M){return _.children?(0,j.of)({routes:_.children,injector:E}):_.loadChildren?void 0!==_._loadedRoutes?(0,j.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function mo(v,E,_,M){const k=E.canLoad;if(void 0===k||0===k.length)return(0,j.of)(!0);const W=k.map(ue=>{const me=Vs(ue,v);return kn(function F(v){return v&&hs(v.canLoad)}(me)?me.canLoad(E,_):v.runInContext(()=>me(E,_)))});return(0,j.of)(W).pipe(fs(),Vo())}(E,_,M).pipe((0,Jt.z)(k=>k?this.configLoader.loadChildren(E,_).pipe((0,Xt.b)(W=>{_._loadedRoutes=W.routes,_._loadedInjector=W.injector})):function Ms(v){return We(Ur(Kn,3))}())):(0,j.of)({routes:[],injector:E})}lineralizeSegments(E,_){let M=[],k=_.root;for(;;){if(M=M.concat(k.segments),0===k.numberOfChildren)return(0,j.of)(M);if(k.numberOfChildren>1||!k.children[Zt])return We(new p.vHH(4e3,Kn));k=k.children[Zt]}}applyRedirectCommands(E,_,M){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),E,M)}applyRedirectCreateUrlTree(E,_,M,k){const W=this.createSegmentGroup(E,_.root,M,k);return new gr(W,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(E,_){const M={};return bn(E,(k,W)=>{if("string"==typeof k&&k.startsWith(":")){const me=k.substring(1);M[W]=_[me]}else M[W]=k}),M}createSegmentGroup(E,_,M,k){const W=this.createSegments(E,_.segments,M,k);let ue={};return bn(_.children,(me,it)=>{ue[it]=this.createSegmentGroup(E,me,M,k)}),new cn(W,ue)}createSegments(E,_,M,k){return _.map(W=>W.path.startsWith(":")?this.findPosParam(E,W,k):this.findOrReturn(W,M))}findPosParam(E,_,M){const k=M[_.path.substring(1)];if(!k)throw new p.vHH(4001,Kn);return k}findOrReturn(E,_){let M=0;for(const k of _){if(k.path===E.path)return _.splice(M),k;M++}return E}}class Zo{}class Eu{constructor(E,_,M,k,W,ue,me,it){this.injector=E,this.rootComponentType=_,this.config=M,this.urlTree=k,this.url=W,this.paramsInheritanceStrategy=ue,this.relativeLinkResolution=me,this.urlSerializer=it}recognize(){const E=K(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,Zt).pipe((0,xe.U)(_=>{if(null===_)return null;const M=new Yi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new _i(M,_),W=new As(this.url,k);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(E){const _=E.value,M=si(_,this.paramsInheritanceStrategy);_.params=Object.freeze(M.params),_.data=Object.freeze(M.data),E.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(E,_,M,k){return 0===M.segments.length&&M.hasChildren()?this.processChildren(E,_,M):this.processSegment(E,_,M,M.segments,k)}processChildren(E,_,M){return(0,S.D)(Object.keys(M.children)).pipe((0,gt.b)(k=>{const W=M.children[k],ue=ds(_,k);return this.processSegmentGroup(E,ue,W,k)}),(0,mn.R)((k,W)=>k&&W?(k.push(...W),k):null),function Gt(v,E=!1){return(0,dt.e)((_,M)=>{let k=0;_.subscribe((0,ie.x)(M,W=>{const ue=v(W,k++);(ue||E)&&M.next(W),!ue&&M.complete()}))})}(k=>null!==k),(0,St.d)(null),Pt(),(0,xe.U)(k=>{if(null===k)return null;const W=Yo(k);return function js(v){v.sort((E,_)=>E.value.outlet===Zt?-1:_.value.outlet===Zt?1:E.value.outlet.localeCompare(_.value.outlet))}(W),W}))}processSegment(E,_,M,k,W){return(0,S.D)(_).pipe((0,gt.b)(ue=>this.processSegmentAgainstRoute(ue._injector??E,ue,M,k,W)),(0,on.P)(ue=>!!ue),(0,qt.K)(ue=>{if(ts(ue))return fr(M,k,W)?(0,j.of)([]):(0,j.of)(null);throw ue}))}processSegmentAgainstRoute(E,_,M,k,W){if(_.redirectTo||!hr(_,M,k,W))return(0,j.of)(null);let ue;if("**"===_.path){const me=k.length>0?ti(k).parameters:{},it=ra(M)+k.length,Ft=new Yi(k,me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wi(_),Ti(_),_.component??_._loadedComponent??null,_,jo(M),it,qr(_),it);ue=(0,j.of)({snapshot:Ft,consumedSegments:[],remainingSegments:[]})}else ue=$(M,_,k,E).pipe((0,xe.U)(({matched:me,consumedSegments:it,remainingSegments:Ft,parameters:Tn})=>{if(!me)return null;const an=ra(M)+it.length;return{snapshot:new Yi(it,Tn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wi(_),Ti(_),_.component??_._loadedComponent??null,_,jo(M),an,qr(_),an),consumedSegments:it,remainingSegments:Ft}}));return ue.pipe((0,Pe.w)(me=>{if(null===me)return(0,j.of)(null);const{snapshot:it,consumedSegments:Ft,remainingSegments:Tn}=me;E=_._injector??E;const an=_._loadedInjector??E,Yn=function Uo(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(_),{segmentGroup:Ii,slicedSegments:Os}=K(M,Ft,Tn,Yn.filter(Hs=>void 0===Hs.redirectTo),this.relativeLinkResolution);if(0===Os.length&&Ii.hasChildren())return this.processChildren(an,Yn,Ii).pipe((0,xe.U)(Hs=>null===Hs?null:[new _i(it,Hs)]));if(0===Yn.length&&0===Os.length)return(0,j.of)([new _i(it,[])]);const $s=Ti(_)===W;return this.processSegment(an,Yn,Ii,Os,$s?Zt:W).pipe((0,xe.U)(Hs=>null===Hs?null:[new _i(it,Hs)]))}))}}function wa(v){const E=v.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Yo(v){const E=[],_=new Set;for(const M of v){if(!wa(M)){E.push(M);continue}const k=E.find(W=>M.value.routeConfig===W.value.routeConfig);void 0!==k?(k.children.push(...M.children),_.add(k)):E.push(M)}for(const M of _){const k=Yo(M.children);E.push(new _i(M.value,k))}return E.filter(M=>!_.has(M))}function jo(v){let E=v;for(;E._sourceSegment;)E=E._sourceSegment;return E}function ra(v){let E=v,_=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,_+=E._segmentIndexShift??0;return _-1}function wi(v){return v.data||{}}function qr(v){return v.resolve||{}}function Gr(v){return"string"==typeof v.title||null===v.title}function Mt(v){return(0,Pe.w)(E=>{const _=v(E);return _?(0,S.D)(_).pipe((0,xe.U)(()=>E)):(0,j.of)(E)})}let Qt=(()=>{class v{buildTitle(_){let M,k=_.root;for(;void 0!==k;)M=this.getResolvedTitleForRoute(k)??M,k=k.children.find(W=>W.outlet===Zt);return M}getResolvedTitleForRoute(_){return _.data[Rn]}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(lo)},providedIn:"root"}),v})(),lo=(()=>{class v extends Qt{constructor(_){super(),this.title=_}updateTitle(_){const M=this.buildTitle(_);void 0!==M&&this.title.setTitle(M)}}return v.\u0275fac=function(_){return new(_||v)(p.LFG(fn.Dx))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class rt{}class Ei extends class Tt{shouldDetach(E){return!1}store(E,_){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,_){return E.routeConfig===_.routeConfig}}{}const Za=new p.OlP("",{providedIn:"root",factory:()=>({})}),Na=new p.OlP("ROUTES");let xo=(()=>{class v{constructor(_,M){this.injector=_,this.compiler=M,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,j.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const M=kn(_.loadComponent()).pipe((0,Xt.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=W}),xn(()=>{this.componentLoaders.delete(_)})),k=new Ke(M,()=>new le.x).pipe(ee());return this.componentLoaders.set(_,k),k}loadChildren(_,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,j.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const W=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe((0,xe.U)(me=>{this.onLoadEndListener&&this.onLoadEndListener(M);let it,Ft,Tn=!1;Array.isArray(me)?Ft=me:(it=me.create(_).injector,Ft=Qr(it.get(Na,[],p.XFs.Self|p.XFs.Optional)));return{routes:Ft.map(Qs),injector:it}}),xn(()=>{this.childrenLoaders.delete(M)})),ue=new Ke(W,()=>new le.x).pipe(ee());return this.childrenLoaders.set(M,ue),ue}loadModuleFactoryOrRoutes(_){return kn(_()).pipe((0,Jt.z)(M=>M instanceof p.YKP||Array.isArray(M)?(0,j.of)(M):(0,S.D)(this.compiler.compileModuleAsync(M))))}}return v.\u0275fac=function(_){return new(_||v)(p.LFG(p.zs3),p.LFG(p.Sil))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class ka{}class Ya{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,_){return E}}function ia(v){throw v}function Iu(v,E,_){return E.parse("/")}const La={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Qa(){const v=(0,p.f3M)(un),E=(0,p.f3M)(Nr),_=(0,p.f3M)(Ae.Ye),M=(0,p.f3M)(p.zs3),k=(0,p.f3M)(p.Sil),W=(0,p.f3M)(Na,{optional:!0})??[],ue=(0,p.f3M)(Za,{optional:!0})??{},me=(0,p.f3M)(lo),it=(0,p.f3M)(Qt,{optional:!0}),Ft=(0,p.f3M)(ka,{optional:!0}),Tn=(0,p.f3M)(rt,{optional:!0}),an=new er(null,v,E,_,M,k,Qr(W));return Ft&&(an.urlHandlingStrategy=Ft),Tn&&(an.routeReuseStrategy=Tn),an.titleStrategy=it??me,function no(v,E){v.errorHandler&&(E.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(E.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(E.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(E.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(E.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(E.canceledNavigationResolution=v.canceledNavigationResolution)}(ue,an),an}let er=(()=>{class v{constructor(_,M,k,W,ue,me,it){this.rootComponentType=_,this.urlSerializer=M,this.rootContexts=k,this.location=W,this.config=it,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new le.x,this.errorHandler=ia,this.malformedUriErrorHandler=Iu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,j.of)(void 0),this.urlHandlingStrategy=new Ya,this.routeReuseStrategy=new Ei,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ue.get(xo),this.configLoader.onLoadEndListener=Yn=>this.triggerEvent(new pt(Yn)),this.configLoader.onLoadStartListener=Yn=>this.triggerEvent(new ct(Yn)),this.ngModule=ue.get(p.h0i),this.console=ue.get(p.c2e);const an=ue.get(p.R0b);this.isNgZoneEnabled=an instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(it),this.currentUrlTree=function Dt(){return new gr(new cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zi(this.currentUrlTree,this.rootComponentType),this.transitions=new ge.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(_){const M=this.events;return _.pipe((0,Ot.h)(k=>0!==k.id),(0,xe.U)(k=>({...k,extractedUrl:this.urlHandlingStrategy.extract(k.rawUrl)})),(0,Pe.w)(k=>{let W=!1,ue=!1;return(0,j.of)(k).pipe((0,Xt.b)(me=>{this.currentNavigation={id:me.id,initialUrl:me.rawUrl,extractedUrl:me.extractedUrl,trigger:me.source,extras:me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pe.w)(me=>{const it=this.browserUrlTree.toString(),Ft=!this.navigated||me.extractedUrl.toString()!==it||it!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ft)&&this.urlHandlingStrategy.shouldProcessUrl(me.rawUrl))return yo(me.source)&&(this.browserUrlTree=me.extractedUrl),(0,j.of)(me).pipe((0,Pe.w)(an=>{const Yn=this.transitions.getValue();return M.next(new fe(an.id,this.serializeUrl(an.extractedUrl),an.source,an.restoredState)),Yn!==this.transitions.getValue()?Fe.E:Promise.resolve(an)}),function ui(v,E,_,M){return(0,Pe.w)(k=>function to(v,E,_,M,k){return new gs(v,E,_,M,k).apply()}(v,E,_,k.extractedUrl,M).pipe((0,xe.U)(W=>({...k,urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Xt.b)(an=>{this.currentNavigation={...this.currentNavigation,finalUrl:an.urlAfterRedirects},k.urlAfterRedirects=an.urlAfterRedirects}),function D(v,E,_,M,k,W){return(0,Jt.z)(ue=>function va(v,E,_,M,k,W,ue="emptyOnly",me="legacy"){return new Eu(v,E,_,M,k,ue,me,W).recognize().pipe((0,Pe.w)(it=>null===it?function Kr(v){return new _e.y(E=>E.error(v))}(new Zo):(0,j.of)(it)))}(v,E,_,ue.urlAfterRedirects,M.serialize(ue.urlAfterRedirects),M,k,W).pipe((0,xe.U)(me=>({...ue,targetSnapshot:me}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Xt.b)(an=>{if(k.targetSnapshot=an.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!an.extras.skipLocationChange){const Ii=this.urlHandlingStrategy.merge(an.urlAfterRedirects,an.rawUrl);this.setBrowserUrl(Ii,an)}this.browserUrlTree=an.urlAfterRedirects}const Yn=new Lt(an.id,this.serializeUrl(an.extractedUrl),this.serializeUrl(an.urlAfterRedirects),an.targetSnapshot);M.next(Yn)}));if(Ft&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Yn,extractedUrl:Ii,source:Os,restoredState:$s,extras:Hs}=me,wo=new fe(Yn,this.serializeUrl(Ii),Os,$s);M.next(wo);const ta=Zi(Ii,this.rootComponentType).snapshot;return k={...me,targetSnapshot:ta,urlAfterRedirects:Ii,extras:{...Hs,skipLocationChange:!1,replaceUrl:!1}},(0,j.of)(k)}return this.rawUrlTree=me.rawUrl,me.resolve(null),Fe.E}),(0,Xt.b)(me=>{const it=new Ct(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(it)}),(0,xe.U)(me=>k={...me,guards:Fs(me.targetSnapshot,me.currentSnapshot,this.rootContexts)}),function Us(v,E){return(0,Jt.z)(_=>{const{targetSnapshot:M,currentSnapshot:k,guards:{canActivateChecks:W,canDeactivateChecks:ue}}=_;return 0===ue.length&&0===W.length?(0,j.of)({..._,guardsResult:!0}):function eo(v,E,_,M){return(0,S.D)(v).pipe((0,Jt.z)(k=>function Ao(v,E,_,M,k){const W=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,j.of)(!0);const ue=W.map(me=>{const it=Js(E)??k,Ft=Vs(me,it);return kn(function q(v){return v&&hs(v.canDeactivate)}(Ft)?Ft.canDeactivate(v,E,_,M):it.runInContext(()=>Ft(v,E,_,M))).pipe((0,on.P)())});return(0,j.of)(ue).pipe(fs())}(k.component,k.route,_,E,M)),(0,on.P)(k=>!0!==k,!0))}(ue,M,k,v).pipe((0,Jt.z)(me=>me&&function go(v){return"boolean"==typeof v}(me)?function Bs(v,E,_,M){return(0,S.D)(E).pipe((0,gt.b)(k=>(0,Be.z)(function ps(v,E){return null!==v&&E&&E(new Wt(v)),(0,j.of)(!0)}(k.route.parent,M),function qo(v,E){return null!==v&&E&&E(new zr(v)),(0,j.of)(!0)}(k.route,M),function To(v,E,_){const M=E[E.length-1],W=E.slice(0,E.length-1).reverse().map(ue=>function kr(v){const E=v.routeConfig?v.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:v,guards:E}:null}(ue)).filter(ue=>null!==ue).map(ue=>ve(()=>{const me=ue.guards.map(it=>{const Ft=Js(ue.node)??_,Tn=Vs(it,Ft);return kn(function A(v){return v&&hs(v.canActivateChild)}(Tn)?Tn.canActivateChild(M,v):Ft.runInContext(()=>Tn(M,v))).pipe((0,on.P)())});return(0,j.of)(me).pipe(fs())}));return(0,j.of)(W).pipe(fs())}(v,k.path,_),function Fo(v,E,_){const M=E.routeConfig?E.routeConfig.canActivate:null;if(!M||0===M.length)return(0,j.of)(!0);const k=M.map(W=>ve(()=>{const ue=Js(E)??_,me=Vs(W,ue);return kn(function N(v){return v&&hs(v.canActivate)}(me)?me.canActivate(E,v):ue.runInContext(()=>me(E,v))).pipe((0,on.P)())}));return(0,j.of)(k).pipe(fs())}(v,k.route,_))),(0,on.P)(k=>!0!==k,!0))}(M,W,v,E):(0,j.of)(me)),(0,xe.U)(me=>({..._,guardsResult:me})))})}(this.ngModule.injector,me=>this.triggerEvent(me)),(0,Xt.b)(me=>{if(k.guardsResult=me.guardsResult,Vr(me.guardsResult))throw vs(0,me.guardsResult);const it=new De(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot,!!me.guardsResult);this.triggerEvent(it)}),(0,Ot.h)(me=>!!me.guardsResult||(this.restoreHistory(me),this.cancelNavigationTransition(me,"",3),!1)),Mt(me=>{if(me.guards.canActivateChecks.length)return(0,j.of)(me).pipe((0,Xt.b)(it=>{const Ft=new Te(it.id,this.serializeUrl(it.extractedUrl),this.serializeUrl(it.urlAfterRedirects),it.targetSnapshot);this.triggerEvent(Ft)}),(0,Pe.w)(it=>{let Ft=!1;return(0,j.of)(it).pipe(function C(v,E){return(0,Jt.z)(_=>{const{targetSnapshot:M,guards:{canActivateChecks:k}}=_;if(!k.length)return(0,j.of)(_);let W=0;return(0,S.D)(k).pipe((0,gt.b)(ue=>function G(v,E,_,M){const k=v.routeConfig,W=v._resolve;return void 0!==k?.title&&!Gr(k)&&(W[Rn]=k.title),function Q(v,E,_,M){const k=function nt(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===k.length)return(0,j.of)({});const W={};return(0,S.D)(k).pipe((0,Jt.z)(ue=>function Yt(v,E,_,M){const k=Js(E)??M,W=Vs(v,k);return kn(W.resolve?W.resolve(E,_):k.runInContext(()=>W(E,_)))}(v[ue],E,_,M).pipe((0,on.P)(),(0,Xt.b)(me=>{W[ue]=me}))),Kt(1),function Pn(v){return(0,xe.U)(()=>v)}(W),(0,qt.K)(ue=>ts(ue)?Fe.E:We(ue)))}(W,v,E,M).pipe((0,xe.U)(ue=>(v._resolvedData=ue,v.data=si(v,_).resolve,k&&Gr(k)&&(v.data[Rn]=k.title),null)))}(ue.route,M,v,E)),(0,Xt.b)(()=>W++),Kt(1),(0,Jt.z)(ue=>W===k.length?(0,j.of)(_):Fe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Xt.b)({next:()=>Ft=!0,complete:()=>{Ft||(this.restoreHistory(it),this.cancelNavigationTransition(it,"",2))}}))}),(0,Xt.b)(it=>{const Ft=new Ne(it.id,this.serializeUrl(it.extractedUrl),this.serializeUrl(it.urlAfterRedirects),it.targetSnapshot);this.triggerEvent(Ft)}))}),Mt(me=>{const it=Ft=>{const Tn=[];Ft.routeConfig?.loadComponent&&!Ft.routeConfig._loadedComponent&&Tn.push(this.configLoader.loadComponent(Ft.routeConfig).pipe((0,Xt.b)(an=>{Ft.component=an}),(0,xe.U)(()=>{})));for(const an of Ft.children)Tn.push(...it(an));return Tn};return He(it(me.targetSnapshot.root)).pipe((0,St.d)(),(0,yt.q)(1))}),Mt(()=>this.afterPreactivation()),(0,xe.U)(me=>{const it=function ki(v,E,_){const M=Ki(v,E._root,_?_._root:void 0);return new Zs(M,E)}(this.routeReuseStrategy,me.targetSnapshot,me.currentRouterState);return k={...me,targetRouterState:it}}),(0,Xt.b)(me=>{this.currentUrlTree=me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(me.urlAfterRedirects,me.rawUrl),this.routerState=me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,me),this.browserUrlTree=me.urlAfterRedirects)}),((v,E,_)=>(0,xe.U)(M=>(new vt(E,M.targetRouterState,M.currentRouterState,_).activate(v),M)))(this.rootContexts,this.routeReuseStrategy,me=>this.triggerEvent(me)),(0,Xt.b)({next(){W=!0},complete(){W=!0}}),xn(()=>{W||ue||this.cancelNavigationTransition(k,"",1),this.currentNavigation?.id===k.id&&(this.currentNavigation=null)}),(0,qt.K)(me=>{if(ue=!0,Pr(me)){Ns(me)||(this.navigated=!0,this.restoreHistory(k,!0));const it=new Ue(k.id,this.serializeUrl(k.extractedUrl),me.message,me.cancellationCode);if(M.next(it),Ns(me)){const Ft=this.urlHandlingStrategy.merge(me.url,this.rawUrlTree),Tn={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yo(k.source)};this.scheduleNavigation(Ft,"imperative",null,Tn,{resolve:k.resolve,reject:k.reject,promise:k.promise})}else k.resolve(!1)}else{this.restoreHistory(k,!0);const it=new Qe(k.id,this.serializeUrl(k.extractedUrl),me,k.targetSnapshot??void 0);M.next(it);try{k.resolve(this.errorHandler(me))}catch(Ft){k.reject(Ft)}}return Fe.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next({...this.transitions.value,..._})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const M="popstate"===_.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{const k={replaceUrl:!0},W=_.state?.navigationId?_.state:null;if(W){const me={...W};delete me.navigationId,delete me.\u0275routerPageId,0!==Object.keys(me).length&&(k.state=me)}const ue=this.parseUrl(_.url);this.scheduleNavigation(ue,M,W,k)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){this.config=_.map(Qs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,M={}){const{relativeTo:k,queryParams:W,fragment:ue,queryParamsHandling:me,preserveFragment:it}=M,Ft=k||this.routerState.root,Tn=it?this.currentUrlTree.fragment:ue;let an=null;switch(me){case"merge":an={...this.currentUrlTree.queryParams,...W};break;case"preserve":an=this.currentUrlTree.queryParams;break;default:an=W||null}return null!==an&&(an=this.removeEmptyProps(an)),Oi(Ft,this.currentUrlTree,_,an,Tn??null)}navigateByUrl(_,M={skipLocationChange:!1}){const k=Vr(_)?_:this.parseUrl(_),W=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,M)}navigate(_,M={skipLocationChange:!1}){return function Mn(v){for(let E=0;E<v.length;E++){if(null==v[E])throw new p.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,M),M)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let M;try{M=this.urlSerializer.parse(_)}catch(k){M=this.malformedUriErrorHandler(k,this.urlSerializer,_)}return M}isActive(_,M){let k;if(k=!0===M?{...La}:!1===M?{...Fn}:M,Vr(_))return Qn(this.currentUrlTree,_,k);const W=this.parseUrl(_);return Qn(this.currentUrlTree,W,k)}removeEmptyProps(_){return Object.keys(_).reduce((M,k)=>{const W=_[k];return null!=W&&(M[k]=W),M},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new ze(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,M,k,W,ue){if(this.disposed)return Promise.resolve(!1);let me,it,Ft;ue?(me=ue.resolve,it=ue.reject,Ft=ue.promise):Ft=new Promise((Yn,Ii)=>{me=Yn,it=Ii});const Tn=++this.navigationId;let an;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(k=this.location.getState()),an=k&&k.\u0275routerPageId?k.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):an=0,this.setTransition({id:Tn,targetPageId:an,source:M,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:W,resolve:me,reject:it,promise:Ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ft.catch(Yn=>Promise.reject(Yn))}setBrowserUrl(_,M){const k=this.urlSerializer.serialize(_),W={...M.extras.state,...this.generateNgRouterState(M.id,M.targetPageId)};this.location.isCurrentPathEqualTo(k)||M.extras.replaceUrl?this.location.replaceState(k,"",W):this.location.go(k,"",W)}restoreHistory(_,M=!1){if("computed"===this.canceledNavigationResolution){const k=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===k?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===k&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(k)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,M,k){const W=new Ue(_.id,this.serializeUrl(_.extractedUrl),M,k);this.triggerEvent(W),_.resolve(!1)}generateNgRouterState(_,M){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:M}:{navigationId:_}}}return v.\u0275fac=function(_){p.$Z()},v.\u0275prov=p.Yz7({token:v,factory:function(){return Qa()},providedIn:"root"}),v})();function yo(v){return"imperative"!==v}let Ia=(()=>{class v{constructor(_,M,k){this.router=_,this.route=M,this.locationStrategy=k,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new le.x,this.subscription=_.events.subscribe(W=>{W instanceof ze&&this.updateTargetUrlAndHref()})}set preserveFragment(_){this._preserveFragment=(0,p.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,p.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,p.D6c)(_)}get replaceUrl(){return this._replaceUrl}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,M,k,W,ue){return!!(0!==_||M||k||W||ue||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(_){return new(_||v)(p.Y36(er),p.Y36(Di),p.Y36(Ae.S$))},v.\u0275dir=p.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,M){1&_&&p.NdJ("click",function(W){return M.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&_&&p.uIk("target",M.target)("href",M.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),v})();class _o{}let oa=(()=>{class v{constructor(_,M,k,W,ue){this.router=_,this.injector=k,this.preloadingStrategy=W,this.loader=ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ot.h)(_=>_ instanceof ze),(0,gt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,M){const k=[];for(const W of M){W.providers&&!W._injector&&(W._injector=(0,p.MMx)(W.providers,_,`Route: ${W.path}`));const ue=W._injector??_,me=W._loadedInjector??ue;W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent?k.push(this.preloadConfig(ue,W)):(W.children||W._loadedRoutes)&&k.push(this.processRoutes(me,W.children??W._loadedRoutes))}return(0,S.D)(k).pipe((0,nr.J)())}preloadConfig(_,M){return this.preloadingStrategy.preload(M,()=>{let k;k=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(_,M):(0,j.of)(null);const W=k.pipe((0,Jt.z)(ue=>null===ue?(0,j.of)(void 0):(M._loadedRoutes=ue.routes,M._loadedInjector=ue.injector,this.processRoutes(ue.injector??_,ue.routes))));if(M.loadComponent&&!M._loadedComponent){const ue=this.loader.loadComponent(M);return(0,S.D)([W,ue]).pipe((0,nr.J)())}return W})}}return v.\u0275fac=function(_){return new(_||v)(p.LFG(er),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(_o),p.LFG(xo))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ro=new p.OlP("");let aa=(()=>{class v{constructor(_,M,k={}){this.router=_,this.viewportScroller=M,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof fe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof ze&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Pi&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,M){this.router.triggerEvent(new Pi(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(_){p.$Z()},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})();function ns(v,E){return{\u0275kind:v,\u0275providers:E}}function Ja(v){return[{provide:Na,multi:!0,useValue:v}]}function Xa(){const v=(0,p.f3M)(p.zs3);return E=>{const _=v.get(p.z2F);if(E!==_.components[0])return;const M=v.get(er),k=v.get(ua);1===v.get(Xo)&&M.initialNavigation(),v.get(eu,null,p.XFs.Optional)?.setUpPreloading(),v.get(ro,null,p.XFs.Optional)?.init(),M.resetRootComponentType(_.componentTypes[0]),k.closed||(k.next(),k.unsubscribe())}}const ua=new p.OlP("",{factory:()=>new le.x}),Xo=new p.OlP("",{providedIn:"root",factory:()=>1});const eu=new p.OlP("");function Oo(v){return ns(0,[{provide:eu,useExisting:oa},{provide:_o,useExisting:v}])}const io=new p.OlP("ROUTER_FORROOT_GUARD"),tu=[Ae.Ye,{provide:un,useClass:gn},{provide:er,useFactory:Qa},Nr,{provide:Di,useFactory:function $u(v){return v.routerState.root},deps:[er]},xo];function ba(){return new p.PXZ("Router",er)}let ea=(()=>{class v{constructor(_){}static forRoot(_,M){return{ngModule:v,providers:[tu,[],Ja(_),{provide:io,useFactory:da,deps:[[er,new p.FiY,new p.tp0]]},{provide:Za,useValue:M||{}},M?.useHash?{provide:Ae.S$,useClass:Ae.Do}:{provide:Ae.S$,useClass:Ae.b0},{provide:ro,useFactory:()=>{const v=(0,p.f3M)(er),E=(0,p.f3M)(Ae.EM),_=(0,p.f3M)(Za);return _.scrollOffset&&E.setOffset(_.scrollOffset),new aa(v,E,_)}},M?.preloadingStrategy?Oo(M.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:ba},M?.initialNavigation?Wr(M):[],[{provide:Ro,useFactory:Xa},{provide:p.tb,multi:!0,useExisting:Ro}]]}}static forChild(_){return{ngModule:v,providers:[Ja(_)]}}}return v.\u0275fac=function(_){return new(_||v)(p.LFG(io,8))},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({imports:[Ys]}),v})();function da(v){return"guarded"}function Wr(v){return["disabled"===v.initialNavigation?ns(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const E=(0,p.f3M)(er);return()=>{E.setUpLocationChangeListener()}}},{provide:Xo,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?ns(2,[{provide:Xo,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:E=>{const _=E.get(Ae.V_,Promise.resolve());let M=!1;return()=>_.then(()=>new Promise(W=>{const ue=E.get(er),me=E.get(ua);(function k(W){E.get(er).events.pipe((0,Ot.h)(me=>me instanceof ze||me instanceof Ue||me instanceof Qe),(0,xe.U)(me=>me instanceof ze||me instanceof Ue&&(0===me.code||1===me.code)&&null),(0,Ot.h)(me=>null!==me),(0,yt.q)(1)).subscribe(()=>{W()})})(()=>{W(!0),M=!0}),ue.afterPreactivation=()=>(W(!0),M||me.closed?(0,j.of)(void 0):me),ue.initialNavigation()}))}}]).\u0275providers:[]]}const Ro=new p.OlP("")},3942:(Se,X,O)=>{"use strict";O.d(X,{Z:()=>Le});var p=O(2090),S=O(4859),j=O(9681),ge=O(1877);class re{constructor(Be,Re){this._delegate=Be,this.firebase=Re,(0,j._addComponent)(Be,new S.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Be,Re=j._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Be);return!Et.isInitialized()&&"EXPLICIT"===(null===(ve=Et.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Re})}_removeServiceInstance(Be,Re=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(Re)}_addComponent(Be){(0,j._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,j._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function pe(){const lt=function he(lt){const Be={},Re={__esModule:!0,initializeApp:function Xe(dt,ee={}){const Ke=j.initializeApp(dt,ee);if((0,p.r3)(Be,Ke.name))return Be[Ke.name];const le=new lt(Ke,Re);return Be[Ke.name]=le,le},app:Et,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function Fe(dt){const ee=dt.name,Ke=ee.replace("-compat","");if(j._registerComponent(dt)&&"PUBLIC"===dt.type){const le=(Ae=Et())=>{if("function"!=typeof Ae[Ke])throw de.create("invalid-app-argument",{appName:ee});return Ae[Ke]()};void 0!==dt.serviceProps&&(0,p.ZB)(le,dt.serviceProps),Re[Ke]=le,lt.prototype[Ke]=function(...Ae){return this._getService.bind(this,ee).apply(this,dt.multipleInstances?Ae:[])}}return"PUBLIC"===dt.type?Re[Ke]:null},removeApp:function ve(dt){delete Be[dt]},useAsService:function _t(dt,ee){return"serverAuth"===ee?null:ee},modularAPIs:j}};function Et(dt){if(!(0,p.r3)(Be,dt=dt||j._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:dt});return Be[dt]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function We(){return Object.keys(Be).map(dt=>Be[dt])}}),Et.App=lt,Re}(re);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function Be(Re){(0,p.ZB)(lt,Re)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),lt}(),ne=new ge.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=te;!function He(lt){(0,j.registerVersion)("@firebase/app-compat","0.1.39",lt)}()},9681:(Se,X,O)=>{"use strict";O.r(X),O.d(X,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>fn,_DEFAULT_ENTRY_NAME:()=>on,_addComponent:()=>mn,_addOrOverwriteComponent:()=>Kt,_apps:()=>Xt,_clearComponents:()=>Gt,_components:()=>qt,_getProvider:()=>St,_registerComponent:()=>ht,_removeServiceInstance:()=>Pt,deleteApp:()=>pn,getApp:()=>Rn,getApps:()=>sr,initializeApp:()=>Zt,onLog:()=>Vn,registerVersion:()=>Un,setLogLevel:()=>Cn});var p=O(5861),S=O(4859),j=O(1877),ge=O(2090),re=O(8766);class _e{constructor(mt){this.container=mt}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function de(jt){return"VERSION"===jt.getComponent()?.type}(kt)){const ln=kt.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(kt=>kt).join(" ")}}const he="@firebase/app",te=new j.Yd("@firebase/app"),on="[DEFAULT]",gt={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,qt=new Map;function mn(jt,mt){try{jt.container.addComponent(mt)}catch(kt){te.debug(`Component ${mt.name} failed to register with FirebaseApp ${jt.name}`,kt)}}function Kt(jt,mt){jt.container.addOrOverwriteComponent(mt)}function ht(jt){const mt=jt.name;if(qt.has(mt))return te.debug(`There were multiple attempts to register component ${mt}.`),!1;qt.set(mt,jt);for(const kt of Xt.values())mn(kt,jt);return!0}function St(jt,mt){const kt=jt.container.getProvider("heartbeat").getImmediate({optional:!0});return kt&&kt.triggerHeartbeat(),jt.container.getProvider(mt)}function Pt(jt,mt,kt=on){St(jt,mt).clearInstance(kt)}function Gt(){qt.clear()}const xn=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nr{constructor(mt,kt,ln){this._isDeleted=!1,this._options=Object.assign({},mt),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new S.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this.checkDestroyed(),this._automaticDataCollectionEnabled=mt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(mt){this._isDeleted=mt}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const fn="9.14.0";function Zt(jt,mt={}){let kt=jt;"object"!=typeof mt&&(mt={name:mt});const ln=Object.assign({name:on,automaticDataCollectionEnabled:!1},mt),un=ln.name;if("string"!=typeof un||!un)throw xn.create("bad-app-name",{appName:String(un)});if(kt||(kt=(0,ge.aH)()),!kt)throw xn.create("no-options");const gn=Xt.get(un);if(gn){if((0,ge.vZ)(kt,gn.options)&&(0,ge.vZ)(ln,gn.config))return gn;throw xn.create("duplicate-app",{appName:un})}const Ie=new S.H0(un);for(const Ce of qt.values())Ie.addComponent(Ce);const ye=new nr(kt,ln,Ie);return Xt.set(un,ye),ye}function Rn(jt=on){const mt=Xt.get(jt);if(!mt&&jt===on)return Zt();if(!mt)throw xn.create("no-app",{appName:jt});return mt}function sr(){return Array.from(Xt.values())}function pn(jt){return It.apply(this,arguments)}function It(){return(It=(0,p.Z)(function*(jt){const mt=jt.name;Xt.has(mt)&&(Xt.delete(mt),yield Promise.all(jt.container.getProviders().map(kt=>kt.delete())),jt.isDeleted=!0)})).apply(this,arguments)}function Un(jt,mt,kt){var ln;let un=null!==(ln=gt[jt])&&void 0!==ln?ln:jt;kt&&(un+=`-${kt}`);const gn=un.match(/\s|\//),Ie=mt.match(/\s|\//);if(gn||Ie){const ye=[`Unable to register library "${un}" with version "${mt}":`];return gn&&ye.push(`library name "${un}" contains illegal characters (whitespace or "/")`),gn&&Ie&&ye.push("and"),Ie&&ye.push(`version name "${mt}" contains illegal characters (whitespace or "/")`),void te.warn(ye.join(" "))}ht(new S.wA(`${un}-version`,()=>({library:un,version:mt}),"VERSION"))}function Vn(jt,mt){if(null!==jt&&"function"!=typeof jt)throw xn.create("invalid-log-argument");(0,j.Am)(jt,mt)}function Cn(jt){(0,j.Ub)(jt)}const Cr="firebase-heartbeat-store";let bn=null;function kn(){return bn||(bn=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(jt,mt)=>{0===mt&&jt.createObjectStore(Cr)}}).catch(jt=>{throw xn.create("idb-open",{originalErrorMessage:jt.message})})),bn}function Dt(){return(Dt=(0,p.Z)(function*(jt){var mt;try{return(yield kn()).transaction(Cr).objectStore(Cr).get(Qn(jt))}catch(kt){if(kt instanceof ge.ZR)te.warn(kt.message);else{const ln=xn.create("idb-get",{originalErrorMessage:null===(mt=kt)||void 0===mt?void 0:mt.message});te.warn(ln.message)}}})).apply(this,arguments)}function Wn(jt,mt){return pr.apply(this,arguments)}function pr(){return(pr=(0,p.Z)(function*(jt,mt){var kt;try{const un=(yield kn()).transaction(Cr,"readwrite");return yield un.objectStore(Cr).put(mt,Qn(jt)),un.done}catch(ln){if(ln instanceof ge.ZR)te.warn(ln.message);else{const un=xn.create("idb-set",{originalErrorMessage:null===(kt=ln)||void 0===kt?void 0:kt.message});te.warn(un.message)}}})).apply(this,arguments)}function Qn(jt){return`${jt.name}!${jt.options.appId}`}class Tr{constructor(mt){this.container=mt,this._heartbeatsCache=null;const kt=this.container.getProvider("app").getImmediate();this._storage=new qn(kt),this._heartbeatsCachePromise=this._storage.read().then(ln=>(this._heartbeatsCache=ln,ln))}triggerHeartbeat(){var mt=this;return(0,p.Z)(function*(){const ln=mt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),un=Hn();if(null===mt._heartbeatsCache&&(mt._heartbeatsCache=yield mt._heartbeatsCachePromise),mt._heartbeatsCache.lastSentHeartbeatDate!==un&&!mt._heartbeatsCache.heartbeats.some(gn=>gn.date===un))return mt._heartbeatsCache.heartbeats.push({date:un,agent:ln}),mt._heartbeatsCache.heartbeats=mt._heartbeatsCache.heartbeats.filter(gn=>{const Ie=new Date(gn.date).valueOf();return Date.now()-Ie<=2592e6}),mt._storage.overwrite(mt._heartbeatsCache)})()}getHeartbeatsHeader(){var mt=this;return(0,p.Z)(function*(){if(null===mt._heartbeatsCache&&(yield mt._heartbeatsCachePromise),null===mt._heartbeatsCache||0===mt._heartbeatsCache.heartbeats.length)return"";const kt=Hn(),{heartbeatsToSend:ln,unsentEntries:un}=function ni(jt,mt=1024){const kt=[];let ln=jt.slice();for(const un of jt){const gn=kt.find(Ie=>Ie.agent===un.agent);if(gn){if(gn.dates.push(un.date),gr(kt)>mt){gn.dates.pop();break}}else if(kt.push({agent:un.agent,dates:[un.date]}),gr(kt)>mt){kt.pop();break}ln=ln.slice(1)}return{heartbeatsToSend:kt,unsentEntries:ln}}(mt._heartbeatsCache.heartbeats),gn=(0,ge.L)(JSON.stringify({version:2,heartbeats:ln}));return mt._heartbeatsCache.lastSentHeartbeatDate=kt,un.length>0?(mt._heartbeatsCache.heartbeats=un,yield mt._storage.overwrite(mt._heartbeatsCache)):(mt._heartbeatsCache.heartbeats=[],mt._storage.overwrite(mt._heartbeatsCache)),gn})()}}function Hn(){return(new Date).toISOString().substring(0,10)}class qn{constructor(mt){this.app=mt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var mt=this;return(0,p.Z)(function*(){return(yield mt._canUseIndexedDBPromise)&&(yield function tn(jt){return Dt.apply(this,arguments)}(mt.app))||{heartbeats:[]}})()}overwrite(mt){var kt=this;return(0,p.Z)(function*(){var ln;if(yield kt._canUseIndexedDBPromise){const gn=yield kt.read();return Wn(kt.app,{lastSentHeartbeatDate:null!==(ln=mt.lastSentHeartbeatDate)&&void 0!==ln?ln:gn.lastSentHeartbeatDate,heartbeats:mt.heartbeats})}})()}add(mt){var kt=this;return(0,p.Z)(function*(){var ln;if(yield kt._canUseIndexedDBPromise){const gn=yield kt.read();return Wn(kt.app,{lastSentHeartbeatDate:null!==(ln=mt.lastSentHeartbeatDate)&&void 0!==ln?ln:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...mt.heartbeats]})}})()}}function gr(jt){return(0,ge.L)(JSON.stringify({version:2,heartbeats:jt})).length}!function cn(jt){ht(new S.wA("platform-logger",mt=>new _e(mt),"PRIVATE")),ht(new S.wA("heartbeat",mt=>new Tr(mt),"PRIVATE")),Un(he,"0.8.4",jt),Un(he,"0.8.4","esm2017"),Un("fire-js","")}("")},4859:(Se,X,O)=>{"use strict";O.d(X,{H0:()=>he,wA:()=>j});var p=O(5861),S=O(2090);class j{constructor(te,ne,ie){this.name=te,this.instanceFactory=ne,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const ge="[DEFAULT]";class re{constructor(te,ne){this.name=te,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ne=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ne)){const ie=new S.BH;if(this.instancesDeferred.set(ne,ie),this.isInitialized(ne)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:ne});je&&ie.resolve(je)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(te){var ne;const ie=this.normalizeInstanceIdentifier(te?.identifier),je=null!==(ne=te?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(He){if(je)return null;throw He}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function de(pe){return"EAGER"===pe.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[ne,ie]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(ne);try{const He=this.getOrInitializeService({instanceIdentifier:je});ie.resolve(He)}catch{}}}}clearInstance(te=ge){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,p.Z)(function*(){const ne=Array.from(te.instances.values());yield Promise.all([...ne.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...ne.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=ge){return this.instances.has(te)}getOptions(te=ge){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ne={}}=te,ie=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:ie,options:ne});for(const[He,Le]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(He)&&Le.resolve(je);return je}onInit(te,ne){var ie;const je=this.normalizeInstanceIdentifier(ne),He=null!==(ie=this.onInitCallbacks.get(je))&&void 0!==ie?ie:new Set;He.add(te),this.onInitCallbacks.set(je,He);const Le=this.instances.get(je);return Le&&te(Le,je),()=>{He.delete(te)}}invokeOnInitCallbacks(te,ne){const ie=this.onInitCallbacks.get(ne);if(ie)for(const je of ie)try{je(te,ne)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ne={}}){let ie=this.instances.get(te);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=te,pe===ge?void 0:pe),options:ne}),this.instances.set(te,ie),this.instancesOptions.set(te,ne),this.invokeOnInitCallbacks(ie,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ie)}catch{}var pe;return ie||null}normalizeInstanceIdentifier(te=ge){return this.component?this.component.multipleInstances?te:ge:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ne=this.getProvider(te.name);if(ne.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ne.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ne=new re(te,this);return this.providers.set(te,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(Se,X,O)=>{"use strict";O.d(X,{Am:()=>pe,Ub:()=>he,Yd:()=>de,in:()=>S});const p=[];var S=(()=>{return(te=S||(S={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",S;var te})();const j={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},ge=S.INFO,re={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},_e=(te,ne,...ie)=>{if(ne<te.logLevel)return;const je=(new Date).toISOString(),He=re[ne];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[He](`[${je}]  ${te.name}:`,...ie)};class de{constructor(ne){this.name=ne,this._logLevel=ge,this._logHandler=_e,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in S))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?j[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...ne),this._logHandler(this,S.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...ne),this._logHandler(this,S.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,S.INFO,...ne),this._logHandler(this,S.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,S.WARN,...ne),this._logHandler(this,S.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,S.ERROR,...ne),this._logHandler(this,S.ERROR,...ne)}}function he(te){p.forEach(ne=>{ne.setLogLevel(te)})}function pe(te,ne){for(const ie of p){let je=null;ne&&ne.level&&(je=j[ne.level]),ie.userLogHandler=null===te?null:(He,Le,...lt)=>{const Be=lt.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");Le>=(je??He.logLevel)&&te({level:S[Le].toLowerCase(),message:Be,args:lt,type:He.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1749),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(X,O){if(this.action=X,this.timestamp=O,this.type=PERFORM_ACTION,typeof X.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(X){this.timestamp=X,this.type=RESET}}class Rollback{constructor(X){this.timestamp=X,this.type=ROLLBACK}}class Commit{constructor(X){this.timestamp=X,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(X){this.id=X,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(X,O,p=!0){this.start=X,this.end=O,this.active=p,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(X){this.index=X,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(X){this.actionId=X,this.type=JUMP_TO_ACTION}}class ImportState{constructor(X){this.nextLiftedState=X,this.type=IMPORT_STATE}}class LockChanges{constructor(X){this.status=X,this.type=LOCK_CHANGES}}class PauseRecording{constructor(X){this.status=X,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Se){const X={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},O="function"==typeof Se?Se():Se,j=Object.assign({},X,{features:O.features||!!O.logOnly&&{pause:!0,export:!0,test:!0}||X.features},O);if(j.maxAge&&j.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${j.maxAge}`);return j}function difference(Se,X){return Se.filter(O=>X.indexOf(O)<0)}function unliftState(Se){const{computedStates:X,currentStateIndex:O}=Se;if(O>=X.length){const{state:S}=X[X.length-1];return S}const{state:p}=X[O];return p}function unliftAction(Se){return Se.actionsById[Se.nextActionId-1]}function liftAction(Se){return new PerformAction(Se,+Date.now())}function sanitizeActions(Se,X){return Object.keys(X).reduce((O,p)=>{const S=Number(p);return O[S]=sanitizeAction(Se,X[S],S),O},{})}function sanitizeAction(Se,X,O){return{...X,action:Se(X.action,O)}}function sanitizeStates(Se,X){return X.map((O,p)=>({state:sanitizeState(Se,O.state,p),error:O.error}))}function sanitizeState(Se,X,O){return Se(X,O)}function shouldFilterActions(Se){return Se.predicate||Se.actionsSafelist||Se.actionsBlocklist}function filterLiftedState(Se,X,O,p){const S=[],j={},ge=[];return Se.stagedActionIds.forEach((re,_e)=>{const de=Se.actionsById[re];!de||_e&&isActionFiltered(Se.computedStates[_e],de,X,O,p)||(j[re]=de,S.push(re),ge.push(Se.computedStates[_e]))}),{...Se,stagedActionIds:S,actionsById:j,computedStates:ge}}function isActionFiltered(Se,X,O,p,S){const j=O&&!O(Se,X.action),ge=p&&!X.action.type.match(p.map(_e=>escapeRegExp(_e)).join("|")),re=S&&X.action.type.match(S.map(_e=>escapeRegExp(_e)).join("|"));return j||ge||re}function escapeRegExp(Se){return Se.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class Se extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Se.\u0275fac=function(){let X;return function(p){return(X||(X=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Se)))(p||Se)}}(),Se.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Se,X,O){this.config=X,this.dispatcher=O,this.devtoolsExtension=Se,this.createActionStreams()}notify(Se,X){if(this.devtoolsExtension)if(Se.type===PERFORM_ACTION){if(X.isLocked||X.isPaused)return;const O=unliftState(X);if(shouldFilterActions(this.config)&&isActionFiltered(O,Se,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const p=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,O,X.currentStateIndex):O,S=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Se,X.nextActionId):Se;this.sendToReduxDevtools(()=>this.extensionConnection.send(S,p))}else{const O={...X,stagedActionIds:X.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,X.actionsById):X.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,X.computedStates):X.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,O,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Se=>{const X=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=X,X.init(),X.subscribe(O=>Se.next(O)),X.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Se=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),X=Se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.START)),O=Se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.STOP)),p=Se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(re=>this.unwrapAction(re.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(re=>re.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(_e=>_e.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>re),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(re)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(re))),j=Se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(re=>this.unwrapAction(re.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O)),ge=p.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O));this.start$=X.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>j)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ge))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Se){const X={name:Se.name,features:Se.features,serialize:Se.serialize,autoPause:Se.autoPause??!1};return!1!==Se.maxAge&&(X.maxAge=Se.maxAge),X}sendToReduxDevtools(Se){try{Se()}catch(X){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",X)}}}return DevtoolsExtension.\u0275fac=function Se(X){return new(X||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Se,X,O,p,S){if(p)return{state:O,error:"Interrupted by an error up the chain"};let ge,j=O;try{j=Se(O,X)}catch(re){ge=re.toString(),S.handleError(re)}return{state:j,error:ge}}function recomputeStates(Se,X,O,p,S,j,ge,re,_e){if(X>=Se.length&&Se.length===j.length)return Se;const de=Se.slice(0,X),he=j.length-(_e?1:0);for(let pe=X;pe<he;pe++){const te=j[pe],ne=S[te].action,ie=de[pe-1],je=ie?ie.state:p,He=ie?ie.error:void 0,lt=ge.indexOf(te)>-1?ie:computeNextEntry(O,ne,je,He,re);de.push(lt)}return _e&&de.push(Se[Se.length-1]),de}function liftInitialState(Se,X){return{monitorState:X(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Se,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Se,X,O,p,S={}){return j=>(ge,re)=>{let{monitorState:_e,actionsById:de,nextActionId:he,stagedActionIds:pe,skippedActionIds:te,committedState:ne,currentStateIndex:ie,computedStates:je,isLocked:He,isPaused:Le}=ge||X;function lt(ve){let Et=ve,Xe=pe.slice(1,Et+1);for(let We=0;We<Xe.length;We++){if(je[We+1].error){Et=We,Xe=pe.slice(1,Et+1);break}delete de[Xe[We]]}te=te.filter(We=>-1===Xe.indexOf(We)),pe=[0,...pe.slice(Et+1)],ne=je[Et].state,je=je.slice(Et),ie=ie>Et?ie-Et:0}function Be(){de={0:liftAction(INIT_ACTION)},he=1,pe=[0],te=[],ne=je[ie].state,ie=0,je=[]}ge||(de=Object.create(de));let Re=0;switch(re.type){case LOCK_CHANGES:He=re.status,Re=1/0;break;case PAUSE_RECORDING:Le=re.status,Le?(pe=[...pe,he],de[he]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),he++,Re=pe.length-1,je=je.concat(je[je.length-1]),ie===pe.length-2&&ie++,Re=1/0):Be();break;case RESET:de={0:liftAction(INIT_ACTION)},he=1,pe=[0],te=[],ne=Se,ie=0,je=[];break;case COMMIT:Be();break;case ROLLBACK:de={0:liftAction(INIT_ACTION)},he=1,pe=[0],te=[],ie=0,je=[];break;case TOGGLE_ACTION:{const{id:ve}=re;te=-1===te.indexOf(ve)?[ve,...te]:te.filter(Xe=>Xe!==ve),Re=pe.indexOf(ve);break}case SET_ACTIONS_ACTIVE:{const{start:ve,end:Et,active:Xe}=re,We=[];for(let Fe=ve;Fe<Et;Fe++)We.push(Fe);te=Xe?difference(te,We):[...te,...We],Re=pe.indexOf(ve);break}case JUMP_TO_STATE:ie=re.index,Re=1/0;break;case JUMP_TO_ACTION:{const ve=pe.indexOf(re.actionId);-1!==ve&&(ie=ve),Re=1/0;break}case SWEEP:pe=difference(pe,te),te=[],ie=Math.min(ie,pe.length-1);break;case PERFORM_ACTION:{if(He)return ge||X;if(Le||ge&&isActionFiltered(ge.computedStates[ie],re,S.predicate,S.actionsSafelist,S.actionsBlocklist)){const Et=je[je.length-1];je=[...je.slice(0,-1),computeNextEntry(j,re.action,Et.state,Et.error,O)],Re=1/0;break}S.maxAge&&pe.length===S.maxAge&&lt(1),ie===pe.length-1&&ie++;const ve=he++;de[ve]=re,pe=[...pe,ve],Re=pe.length-1;break}case IMPORT_STATE:({monitorState:_e,actionsById:de,nextActionId:he,stagedActionIds:pe,skippedActionIds:te,committedState:ne,currentStateIndex:ie,computedStates:je,isLocked:He,isPaused:Le}=re.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Re=0,S.maxAge&&pe.length>S.maxAge&&(je=recomputeStates(je,Re,j,ne,de,pe,te,O,Le),lt(pe.length-S.maxAge),Re=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(je.filter(Et=>Et.error).length>0)Re=0,S.maxAge&&pe.length>S.maxAge&&(je=recomputeStates(je,Re,j,ne,de,pe,te,O,Le),lt(pe.length-S.maxAge),Re=1/0);else{if(!Le&&!He){ie===pe.length-1&&ie++;const Et=he++;de[Et]=new PerformAction(re,+Date.now()),pe=[...pe,Et],Re=pe.length-1,je=recomputeStates(je,Re,j,ne,de,pe,te,O,Le)}je=je.map(Et=>({...Et,state:j(Et.state,RECOMPUTE_ACTION)})),ie=pe.length-1,S.maxAge&&pe.length>S.maxAge&&lt(pe.length-S.maxAge),Re=1/0}break;default:Re=1/0}return je=recomputeStates(je,Re,j,ne,de,pe,te,O,Le),_e=p(_e,re),{monitorState:_e,actionsById:de,nextActionId:he,stagedActionIds:pe,skippedActionIds:te,committedState:ne,currentStateIndex:ie,computedStates:je,isLocked:He,isPaused:Le}}}let StoreDevtools=(()=>{class Se{constructor(O,p,S,j,ge,re,_e,de){const he=liftInitialState(_e,de.monitor),pe=liftReducerWith(_e,he,re,de.monitor,de),te=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(p.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),j.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),O,j.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ne=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(pe)),ie=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),je=te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ne),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Be},[Re,ve])=>{let Et=ve(Be,Re);return Re.type!==PERFORM_ACTION&&shouldFilterActions(de)&&(Et=filterLiftedState(Et,de.predicate,de.actionsSafelist,de.actionsBlocklist)),j.notify(Re,Et),{state:Et,action:Re}},{state:he,action:null})).subscribe(({state:Be,action:Re})=>{ie.next(Be),Re.type===PERFORM_ACTION&&ge.next(Re.action)}),He=j.start$.subscribe(()=>{this.refresh()}),Le=ie.asObservable(),lt=Le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=He,this.stateSubscription=je,this.dispatcher=O,this.liftedState=Le,this.state=lt}dispatch(O){this.dispatcher.next(O)}next(O){this.dispatcher.next(O)}error(O){}complete(){}performAction(O){this.dispatch(new PerformAction(O,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(O){this.dispatch(new ToggleAction(O))}jumpToAction(O){this.dispatch(new JumpToAction(O))}jumpToState(O){this.dispatch(new JumpToState(O))}importState(O){this.dispatch(new ImportState(O))}lockChanges(O){this.dispatch(new LockChanges(O))}pauseRecording(O){this.dispatch(new PauseRecording(O))}}return Se.\u0275fac=function(O){return new(O||Se)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Se.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Se,X){return Boolean(Se)||X.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Se="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Se]<"u"?window[Se]:null}function provideStoreDevtools(Se={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Se},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable(Se){return Se.state}let StoreDevtoolsModule=(()=>{class Se{static instrument(O={}){return{ngModule:Se,providers:[...provideStoreDevtools(O).\u0275providers]}}}return Se.\u0275fac=function(O){return new(O||Se)},Se.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Se}),Se.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Se})()},9653:(Se,X,O)=>{"use strict";O.d(X,{UO:()=>_t,qg:()=>Fe,Y6:()=>le,mK:()=>Un,n$:()=>It,Y$:()=>ti,FR:()=>bn,yh:()=>Wn,Aw:()=>Rr,wb:()=>Vn,PH:()=>He,Lq:()=>vr,on:()=>Ps,Ky:()=>Le});var p=O(4650),S=O(1135),j=O(9751),ge=O(7579),re=O(233),_e=O(5363),de=O(1365),he=O(5026),pe=O(4004),ne=O(1884);const ie={};function He(fe,ze){if(ie[fe]=(ie[fe]||0)+1,"function"==typeof ze)return Be(fe,(...Qe)=>({...ze(...Qe),type:fe}));switch(ze?ze._as:"empty"){case"empty":return Be(fe,()=>({type:fe}));case"props":return Be(fe,Qe=>({...Qe,type:fe}));default:throw new Error("Unexpected config.")}}function Le(){return{_as:"props",_p:void 0}}function Be(fe,ze){return Object.defineProperty(ze,"type",{value:fe,writable:!1})}const Fe="@ngrx/store/init";let _t=(()=>{class fe extends S.X{constructor(){super({type:Fe})}next(Ue){if("function"==typeof Ue)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Ue>"u")throw new TypeError("Actions must be objects");if(typeof Ue.type>"u")throw new TypeError("Actions must have a type property");super.next(Ue)}complete(){}ngOnDestroy(){super.complete()}}return fe.\u0275fac=function(Ue){return new(Ue||fe)},fe.\u0275prov=p.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const dt=[_t],ee=new p.OlP("@ngrx/store Internal Root Guard"),Ke=new p.OlP("@ngrx/store Internal Initial State"),le=new p.OlP("@ngrx/store Initial State"),Ae=new p.OlP("@ngrx/store Reducer Factory"),xe=new p.OlP("@ngrx/store Internal Reducer Factory Provider"),Pe=new p.OlP("@ngrx/store Initial Reducers"),yt=new p.OlP("@ngrx/store Internal Initial Reducers"),st=new p.OlP("@ngrx/store Store Features"),Ot=new p.OlP("@ngrx/store Internal Store Reducers"),Jt=new p.OlP("@ngrx/store Internal Feature Reducers"),on=new p.OlP("@ngrx/store Internal Feature Configs"),gt=new p.OlP("@ngrx/store Internal Store Features"),Xt=new p.OlP("@ngrx/store Internal Feature Reducers Token"),qt=new p.OlP("@ngrx/store Feature Reducers"),mn=new p.OlP("@ngrx/store User Provided Meta Reducers"),Kt=new p.OlP("@ngrx/store Meta Reducers"),ht=new p.OlP("@ngrx/store Internal Resolved Meta Reducers"),St=new p.OlP("@ngrx/store User Runtime Checks Config"),Pt=new p.OlP("@ngrx/store Internal User Runtime Checks Config"),Gt=new p.OlP("@ngrx/store Internal Runtime Checks"),Pn=new p.OlP("@ngrx/store Check if Action types are unique");function fn(fe,ze={}){const Ue=Object.keys(fe),Qe={};for(let Ct=0;Ct<Ue.length;Ct++){const De=Ue[Ct];"function"==typeof fe[De]&&(Qe[De]=fe[De])}const Lt=Object.keys(Qe);return function(De,Te){De=void 0===De?ze:De;let Ne=!1;const ct={};for(let pt=0;pt<Lt.length;pt++){const Wt=Lt[pt],zr=De[Wt],ir=(0,Qe[Wt])(zr,Te);ct[Wt]=ir,Ne=Ne||ir!==zr}return Ne?ct:De}}function Rn(...fe){return function(ze){if(0===fe.length)return ze;const Ue=fe[fe.length-1];return fe.slice(0,-1).reduceRight((Lt,Ct)=>Ct(Lt),Ue(ze))}}function sr(fe,ze){return Array.isArray(ze)&&ze.length>0&&(fe=Rn.apply(null,[...ze,fe])),(Ue,Qe)=>{const Lt=fe(Ue);return(Ct,De)=>Lt(Ct=void 0===Ct?Qe:Ct,De)}}new p.OlP("@ngrx/store Root Store Provider"),new p.OlP("@ngrx/store Feature State Provider");class It extends j.y{}class Un extends _t{}const Vn="@ngrx/store/update-reducers";let Cn=(()=>{class fe extends S.X{constructor(Ue,Qe,Lt,Ct){super(Ct(Lt,Qe)),this.dispatcher=Ue,this.initialState=Qe,this.reducers=Lt,this.reducerFactory=Ct}get currentReducers(){return this.reducers}addFeature(Ue){this.addFeatures([Ue])}addFeatures(Ue){const Qe=Ue.reduce((Lt,{reducers:Ct,reducerFactory:De,metaReducers:Te,initialState:Ne,key:ct})=>{const pt="function"==typeof Ct?function pn(fe){const ze=Array.isArray(fe)&&fe.length>0?Rn(...fe):Ue=>Ue;return(Ue,Qe)=>(Ue=ze(Ue),(Lt,Ct)=>Ue(Lt=void 0===Lt?Qe:Lt,Ct))}(Te)(Ct,Ne):sr(De,Te)(Ct,Ne);return Lt[ct]=pt,Lt},{});this.addReducers(Qe)}removeFeature(Ue){this.removeFeatures([Ue])}removeFeatures(Ue){this.removeReducers(Ue.map(Qe=>Qe.key))}addReducer(Ue,Qe){this.addReducers({[Ue]:Qe})}addReducers(Ue){this.reducers={...this.reducers,...Ue},this.updateReducers(Object.keys(Ue))}removeReducer(Ue){this.removeReducers([Ue])}removeReducers(Ue){Ue.forEach(Qe=>{this.reducers=function Zt(fe,ze){return Object.keys(fe).filter(Ue=>Ue!==ze).reduce((Ue,Qe)=>Object.assign(Ue,{[Qe]:fe[Qe]}),{})}(this.reducers,Qe)}),this.updateReducers(Ue)}updateReducers(Ue){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Vn,features:Ue})}ngOnDestroy(){this.complete()}}return fe.\u0275fac=function(Ue){return new(Ue||fe)(p.LFG(Un),p.LFG(le),p.LFG(Pe),p.LFG(Ae))},fe.\u0275prov=p.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Qr=[Cn,{provide:It,useExisting:Cn},{provide:Un,useExisting:_t}];let ti=(()=>{class fe extends ge.x{ngOnDestroy(){this.complete()}}return fe.\u0275fac=function(){let ze;return function(Qe){return(ze||(ze=p.n5z(fe)))(Qe||fe)}}(),fe.\u0275prov=p.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Cr=[ti];class bn extends j.y{}let kn=(()=>{class fe extends S.X{constructor(Ue,Qe,Lt,Ct){super(Ct);const ct=Ue.pipe((0,_e.Q)(re.N)).pipe((0,de.M)(Qe)).pipe((0,he.R)(tn,{state:Ct}));this.stateSubscription=ct.subscribe(({state:pt,action:Wt})=>{this.next(pt),Lt.next(Wt)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return fe.INIT=Fe,fe.\u0275fac=function(Ue){return new(Ue||fe)(p.LFG(_t),p.LFG(It),p.LFG(ti),p.LFG(le))},fe.\u0275prov=p.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function tn(fe={state:void 0},[ze,Ue]){const{state:Qe}=fe;return{state:Ue(Qe,ze),action:ze}}const Dt=[kn,{provide:bn,useExisting:kn}];let Wn=(()=>{class fe extends j.y{constructor(Ue,Qe,Lt){super(),this.actionsObserver=Qe,this.reducerManager=Lt,this.source=Ue}select(Ue,...Qe){return Qn.call(null,Ue,...Qe)(this)}lift(Ue){const Qe=new fe(this,this.actionsObserver,this.reducerManager);return Qe.operator=Ue,Qe}dispatch(Ue){this.actionsObserver.next(Ue)}next(Ue){this.actionsObserver.next(Ue)}error(Ue){this.actionsObserver.error(Ue)}complete(){this.actionsObserver.complete()}addReducer(Ue,Qe){this.reducerManager.addReducer(Ue,Qe)}removeReducer(Ue){this.reducerManager.removeReducer(Ue)}}return fe.\u0275fac=function(Ue){return new(Ue||fe)(p.LFG(bn),p.LFG(_t),p.LFG(Cn))},fe.\u0275prov=p.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const pr=[Wn];function Qn(fe,ze,...Ue){return function(Lt){let Ct;if("string"==typeof fe){const De=[ze,...Ue].filter(Boolean);Ct=Lt.pipe(function te(...fe){const ze=fe.length;if(0===ze)throw new Error("list of properties cannot be empty.");return(0,pe.U)(Ue=>{let Qe=Ue;for(let Lt=0;Lt<ze;Lt++){const Ct=Qe?.[fe[Lt]];if(!(typeof Ct<"u"))return;Qe=Ct}return Qe})}(fe,...De))}else{if("function"!=typeof fe)throw new TypeError(`Unexpected type '${typeof fe}' in select operator, expected 'string' or 'function'`);Ct=Lt.pipe((0,pe.U)(De=>fe(De,ze)))}return Ct.pipe((0,ne.x)())}}const $r="https://ngrx.io/guide/store/configuration/runtime-checks";function vn(fe){return void 0===fe}function Tr(fe){return null===fe}function Hn(fe){return Array.isArray(fe)}function cn(fe){return"object"==typeof fe&&null!==fe}function kt(fe){return"function"==typeof fe}function $e(fe,ze){return ze instanceof p.OlP?fe.get(ze):ze}function et(fe,ze,Ue){return Ue.map((Qe,Lt)=>{if(ze[Lt]instanceof p.OlP){const Ct=fe.get(ze[Lt]);return{key:Qe.key,reducerFactory:Ct.reducerFactory?Ct.reducerFactory:fn,metaReducers:Ct.metaReducers?Ct.metaReducers:[],initialState:Ct.initialState}}return Qe})}function Rt(fe,ze){return ze.map(Qe=>Qe instanceof p.OlP?fe.get(Qe):Qe)}function yn(fe){return"function"==typeof fe?fe():fe}function wn(fe,ze){return fe.concat(ze)}function jn(fe){if(fe)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function En(fe){Object.freeze(fe);const ze=kt(fe);return Object.getOwnPropertyNames(fe).forEach(Ue=>{if(!Ue.startsWith("\u0275")&&function un(fe,ze){return Object.prototype.hasOwnProperty.call(fe,ze)}(fe,Ue)&&(!ze||"caller"!==Ue&&"callee"!==Ue&&"arguments"!==Ue)){const Qe=fe[Ue];(cn(Qe)||kt(Qe))&&!Object.isFrozen(Qe)&&En(Qe)}}),fe}function Vr(fe,ze=[]){return(vn(fe)||Tr(fe))&&0===ze.length?{path:["root"],value:fe}:Object.keys(fe).reduce((Qe,Lt)=>{if(Qe)return Qe;const Ct=fe[Lt];return function ln(fe){return kt(fe)&&fe.hasOwnProperty("\u0275cmp")}(Ct)?Qe:!(vn(Ct)||Tr(Ct)||function gr(fe){return"number"==typeof fe}(Ct)||function qn(fe){return"boolean"==typeof fe}(Ct)||function ni(fe){return"string"==typeof fe}(Ct)||Hn(Ct))&&(function mt(fe){if(!function jt(fe){return cn(fe)&&!Hn(fe)}(fe))return!1;const ze=Object.getPrototypeOf(fe);return ze===Object.prototype||null===ze}(Ct)?Vr(Ct,[...ze,Lt]):{path:[...ze,Lt],value:Ct})},!1)}function Hi(fe,ze){if(!1===fe)return;const Ue=fe.path.join("."),Qe=new Error(`Detected unserializable ${ze} at "${Ue}". ${$r}#strict${ze}serializability`);throw Qe.value=fe.value,Qe.unserializablePath=Ue,Qe}function Mr(fe){return(0,p.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...fe}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Mi({strictActionSerializability:fe,strictStateSerializability:ze}){return Ue=>fe||ze?function mr(fe,ze){return function(Ue,Qe){ze.action(Qe)&&Hi(Vr(Qe),"action");const Lt=fe(Ue,Qe);return ze.state()&&Hi(Vr(Lt),"state"),Lt}}(Ue,{action:Qe=>fe&&!Ar(Qe),state:()=>ze}):Ue}function Oi({strictActionImmutability:fe,strictStateImmutability:ze}){return Ue=>fe||ze?function ci(fe,ze){return function(Ue,Qe){const Lt=ze.action(Qe)?En(Qe):Qe,Ct=fe(Ue,Lt);return ze.state()?En(Ct):Ct}}(Ue,{action:Qe=>fe&&!Ar(Qe),state:()=>ze}):Ue}function Ar(fe){return fe.type.startsWith("@ngrx")}function Er({strictActionWithinNgZone:fe}){return ze=>fe?function mi(fe,ze){return function(Ue,Qe){if(ze.action(Qe)&&!p.R0b.isInAngularZone())throw new Error(`Action '${Qe.type}' running outside NgZone. ${$r}#strictactionwithinngzone`);return fe(Ue,Qe)}}(ze,{action:Ue=>fe&&!Ar(Ue)}):ze}function di(fe){return[{provide:Pt,useValue:fe},{provide:St,useFactory:Rs,deps:[Pt]},{provide:Gt,deps:[St],useFactory:Mr},{provide:Kt,multi:!0,deps:[Gt],useFactory:Oi},{provide:Kt,multi:!0,deps:[Gt],useFactory:Mi},{provide:Kt,multi:!0,deps:[Gt],useFactory:Er}]}function Xn(){return[{provide:Pn,multi:!0,deps:[Gt],useFactory:os}]}function Rs(fe){return fe}function os(fe){if(!fe.strictActionTypeUniqueness)return;const ze=Object.entries(ie).filter(([,Ue])=>Ue>1).map(([Ue])=>Ue);if(ze.length)throw new Error(`Action types are registered more than once, ${ze.map(Ue=>`"${Ue}"`).join(", ")}. ${$r}#strictactiontypeuniqueness`)}function Gi(fe,ze){return[{provide:ee,useFactory:jn,deps:[[Wn,new p.FiY,new p.tp0]]},{provide:Ke,useValue:ze.initialState},{provide:le,useFactory:yn,deps:[Ke]},{provide:yt,useValue:fe},{provide:Ot,useExisting:fe instanceof p.OlP?fe:yt},{provide:Pe,deps:[p.zs3,yt,[new p.tBr(Ot)]],useFactory:$e},{provide:mn,useValue:ze.metaReducers?ze.metaReducers:[]},{provide:ht,deps:[Kt,mn],useFactory:wn},{provide:xe,useValue:ze.reducerFactory?ze.reducerFactory:fn},{provide:Ae,deps:[xe,ht],useFactory:sr},dt,Qr,Cr,Dt,pr,di(ze.runtimeChecks),Xn()]}function yr(fe,ze,Ue={}){return[{provide:on,multi:!0,useValue:fe instanceof Object?{}:Ue},{provide:st,multi:!0,useValue:{key:fe instanceof Object?fe.name:fe,reducerFactory:Ue instanceof p.OlP||!Ue.reducerFactory?fn:Ue.reducerFactory,metaReducers:Ue instanceof p.OlP||!Ue.metaReducers?[]:Ue.metaReducers,initialState:Ue instanceof p.OlP||!Ue.initialState?void 0:Ue.initialState}},{provide:gt,deps:[p.zs3,on,st],useFactory:et},{provide:Jt,multi:!0,useValue:fe instanceof Object?fe.reducer:ze},{provide:Xt,multi:!0,useExisting:ze instanceof p.OlP?ze:Jt},{provide:qt,multi:!0,deps:[p.zs3,Jt,[new p.tBr(Xt)]],useFactory:Rt},Xn()]}let Jr=(()=>{class fe{constructor(Ue,Qe,Lt,Ct,De,Te){}}return fe.\u0275fac=function(Ue){return new(Ue||fe)(p.LFG(_t),p.LFG(It),p.LFG(ti),p.LFG(Wn),p.LFG(ee,8),p.LFG(Pn,8))},fe.\u0275mod=p.oAB({type:fe}),fe.\u0275inj=p.cJS({}),fe})(),Cs=(()=>{class fe{constructor(Ue,Qe,Lt,Ct,De){this.features=Ue,this.featureReducers=Qe,this.reducerManager=Lt;const Te=Ue.map((Ne,ct)=>{const Wt=Qe.shift()[ct];return{...Ne,reducers:Wt,initialState:yn(Ne.initialState)}});Lt.addFeatures(Te)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return fe.\u0275fac=function(Ue){return new(Ue||fe)(p.LFG(gt),p.LFG(qt),p.LFG(Cn),p.LFG(Jr),p.LFG(Pn,8))},fe.\u0275mod=p.oAB({type:fe}),fe.\u0275inj=p.cJS({}),fe})(),Rr=(()=>{class fe{static forRoot(Ue,Qe={}){return{ngModule:Jr,providers:[...Gi(Ue,Qe)]}}static forFeature(Ue,Qe,Lt={}){return{ngModule:Cs,providers:[...yr(Ue,Qe,Lt)]}}}return fe.\u0275fac=function(Ue){return new(Ue||fe)},fe.\u0275mod=p.oAB({type:fe}),fe.\u0275inj=p.cJS({}),fe})();function Ps(...fe){return{reducer:fe.pop(),types:fe.map(Qe=>Qe.type)}}function vr(fe,...ze){const Ue=new Map;for(const Qe of ze)for(const Lt of Qe.types){const Ct=Ue.get(Lt);Ue.set(Lt,Ct?(Te,Ne)=>Qe.reducer(Ct(Te,Ne),Ne):Qe.reducer)}return function(Qe=fe,Lt){const Ct=Ue.get(Lt.type);return Ct?Ct(Qe,Lt):Qe}}},8766:(Se,X,O)=>{"use strict";O.d(X,{Lj:()=>Xe,X3:()=>Et});var p=O(5861);let j,ge;const de=new WeakMap,he=new WeakMap,pe=new WeakMap,te=new WeakMap,ne=new WeakMap;let He={get(ee,Ke,le){if(ee instanceof IDBTransaction){if("done"===Ke)return he.get(ee);if("objectStoreNames"===Ke)return ee.objectStoreNames||pe.get(ee);if("store"===Ke)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return Re(ee[Ke])},set:(ee,Ke,le)=>(ee[Ke]=le,!0),has:(ee,Ke)=>ee instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in ee};function Be(ee){return"function"==typeof ee?function lt(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...Ke){return ee.apply(ve(this),Ke),Re(de.get(this))}:function(...Ke){return Re(ee.apply(ve(this),Ke))}:function(Ke,...le){const Ae=ee.call(ve(this),Ke,...le);return pe.set(Ae,Ke.sort?Ke.sort():[Ke]),Re(Ae)}}(ee):(ee instanceof IDBTransaction&&function je(ee){if(he.has(ee))return;const Ke=new Promise((le,Ae)=>{const xe=()=>{ee.removeEventListener("complete",Pe),ee.removeEventListener("error",yt),ee.removeEventListener("abort",yt)},Pe=()=>{le(),xe()},yt=()=>{Ae(ee.error||new DOMException("AbortError","AbortError")),xe()};ee.addEventListener("complete",Pe),ee.addEventListener("error",yt),ee.addEventListener("abort",yt)});he.set(ee,Ke)}(ee),((ee,Ke)=>Ke.some(le=>ee instanceof le))(ee,function re(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,He):ee)}function Re(ee){if(ee instanceof IDBRequest)return function ie(ee){const Ke=new Promise((le,Ae)=>{const xe=()=>{ee.removeEventListener("success",Pe),ee.removeEventListener("error",yt)},Pe=()=>{le(Re(ee.result)),xe()},yt=()=>{Ae(ee.error),xe()};ee.addEventListener("success",Pe),ee.addEventListener("error",yt)});return Ke.then(le=>{le instanceof IDBCursor&&de.set(le,ee)}).catch(()=>{}),ne.set(Ke,ee),Ke}(ee);if(te.has(ee))return te.get(ee);const Ke=Be(ee);return Ke!==ee&&(te.set(ee,Ke),ne.set(Ke,ee)),Ke}const ve=ee=>ne.get(ee);function Et(ee,Ke,{blocked:le,upgrade:Ae,blocking:xe,terminated:Pe}={}){const yt=indexedDB.open(ee,Ke),st=Re(yt);return Ae&&yt.addEventListener("upgradeneeded",Ot=>{Ae(Re(yt.result),Ot.oldVersion,Ot.newVersion,Re(yt.transaction))}),le&&yt.addEventListener("blocked",()=>le()),st.then(Ot=>{Pe&&Ot.addEventListener("close",()=>Pe()),xe&&Ot.addEventListener("versionchange",()=>xe())}).catch(()=>{}),st}function Xe(ee,{blocked:Ke}={}){const le=indexedDB.deleteDatabase(ee);return Ke&&le.addEventListener("blocked",()=>Ke()),Re(le).then(()=>{})}const We=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],_t=new Map;function dt(ee,Ke){if(!(ee instanceof IDBDatabase)||Ke in ee||"string"!=typeof Ke)return;if(_t.get(Ke))return _t.get(Ke);const le=Ke.replace(/FromIndex$/,""),Ae=Ke!==le,xe=Fe.includes(le);if(!(le in(Ae?IDBIndex:IDBObjectStore).prototype)||!xe&&!We.includes(le))return;const Pe=function(){var yt=(0,p.Z)(function*(st,...Ot){const Jt=this.transaction(st,xe?"readwrite":"readonly");let on=Jt.store;return Ae&&(on=on.index(Ot.shift())),(yield Promise.all([on[le](...Ot),xe&&Jt.done]))[0]});return function(Ot){return yt.apply(this,arguments)}}();return _t.set(Ke,Pe),Pe}!function Le(ee){He=ee(He)}(ee=>({...ee,get:(Ke,le,Ae)=>dt(Ke,le)||ee.get(Ke,le,Ae),has:(Ke,le)=>!!dt(Ke,le)||ee.has(Ke,le)}))},5861:(Se,X,O)=>{"use strict";function p(j,ge,re,_e,de,he,pe){try{var te=j[he](pe),ne=te.value}catch(ie){return void re(ie)}te.done?ge(ne):Promise.resolve(ne).then(_e,de)}function S(j){return function(){var ge=this,re=arguments;return new Promise(function(_e,de){var he=j.apply(ge,re);function pe(ne){p(he,_e,de,pe,te,"next",ne)}function te(ne){p(he,_e,de,pe,te,"throw",ne)}pe(void 0)})}}O.d(X,{Z:()=>S})}},Se=>{Se(Se.s=2787)}]);